<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-messenger: cpp_message Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-messenger<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Messenger will be a scaled down version of CARMA Platform for a non-automated vehicle to participate in Cooperative Driving Automation (CDA).</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacecpp__message.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">cpp_message Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp__message_1_1BSM__Message.html">BSM_Message</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp__message_1_1Map__Message.html">Map_Message</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp__message_1_1Mobility__Header.html">Mobility_Header</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp__message_1_1Mobility__Operation.html">Mobility_Operation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp__message_1_1Mobility__Path.html">Mobility_Path</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp__message_1_1Mobility__Request.html">Mobility_Request</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp__message_1_1Mobility__Response.html">Mobility_Response</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp__message_1_1Node.html">Node</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp__message_1_1PSM__Message.html">PSM_Message</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp__message_1_1SPAT__Message.html">SPAT_Message</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8aa70dc3485c193e6fb6bcd6219ed3ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#a8aa70dc3485c193e6fb6bcd6219ed3ea">chartoint</a> (char input)</td></tr>
<tr class="separator:a8aa70dc3485c193e6fb6bcd6219ed3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519f4de8c4525675f6eeb327d3984207"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#a519f4de8c4525675f6eeb327d3984207">hextobin</a> (const char *src, char *target)</td></tr>
<tr class="separator:a519f4de8c4525675f6eeb327d3984207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30ba4a49b53eb8437a4674cf309d41f7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; char &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#a30ba4a49b53eb8437a4674cf309d41f7">Hex2Bytes</a> (const std::string &amp;hex)</td></tr>
<tr class="separator:a30ba4a49b53eb8437a4674cf309d41f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd1be808072c9d96b4035c5f6d02c3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#a3fd1be808072c9d96b4035c5f6d02c3a">TEST</a> (MapMessageTest, testDecodeMapMessage)</td></tr>
<tr class="separator:a3fd1be808072c9d96b4035c5f6d02c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4b5d3be3395084f0539c749204b4e49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#aa4b5d3be3395084f0539c749204b4e49">TEST</a> (PSMTest, testdDecodePSM)</td></tr>
<tr class="separator:aa4b5d3be3395084f0539c749204b4e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a964bcc65e5d4488845b5e7007732b328"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#a964bcc65e5d4488845b5e7007732b328">TEST</a> (PSMTest, testEncodePSM)</td></tr>
<tr class="separator:a964bcc65e5d4488845b5e7007732b328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac143b864959e9051bd2b5bce865e80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#a6ac143b864959e9051bd2b5bce865e80">char2int</a> (char input)</td></tr>
<tr class="separator:a6ac143b864959e9051bd2b5bce865e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc6f77e2a83d67820f71d88dacba4ca9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#afc6f77e2a83d67820f71d88dacba4ca9">hex2bin</a> (const char *src, char *target)</td></tr>
<tr class="separator:afc6f77e2a83d67820f71d88dacba4ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad744f7904f0a7d580c3158d3962437ae"><td class="memItemLeft" align="right" valign="top">std::vector&lt; char &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#ad744f7904f0a7d580c3158d3962437ae">HexToBytes</a> (const std::string &amp;hex)</td></tr>
<tr class="separator:ad744f7904f0a7d580c3158d3962437ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b414c4a36b4b2d1b6915dafb22336ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#a2b414c4a36b4b2d1b6915dafb22336ed">TEST</a> (SPATTest, testDECODESPAT)</td></tr>
<tr class="separator:a2b414c4a36b4b2d1b6915dafb22336ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f288a87d86a5cd8a35ee7337ca4db96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecpp__message.html#a2f288a87d86a5cd8a35ee7337ca4db96">TEST</a> (SPATTest, DISABLED_testENCODESPAT)</td></tr>
<tr class="separator:a2f288a87d86a5cd8a35ee7337ca4db96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >CPP File containing BSM <a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> method implementations</p>
<p >CPP File containing <a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> method implementations</p>
<p >CPP File containing Mobility Operation <a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> method implementations</p>
<p >CPP File containing Mobility Path <a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> method implementations</p>
<p >CPP File containing Mobility Request <a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> method implementations</p>
<p >CPP File containing PSM <a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> method implementations</p>
<p >CPP File containing <a class="el" href="structSPAT.html">SPAT</a> <a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> method implementations </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6ac143b864959e9051bd2b5bce865e80" name="a6ac143b864959e9051bd2b5bce865e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ac143b864959e9051bd2b5bce865e80">&#9670;&nbsp;</a></span>char2int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpp_message::char2int </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__SPAT_8cpp_source.html#l00023">23</a> of file <a class="el" href="test__SPAT_8cpp_source.html">test_SPAT.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   24</span>    {</div>
<div class="line"><span class="lineno">   25</span>    <span class="keywordflow">if</span>(input &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; input &lt;= <span class="charliteral">&#39;9&#39;</span>)</div>
<div class="line"><span class="lineno">   26</span>        <span class="keywordflow">return</span> input - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><span class="lineno">   27</span>    <span class="keywordflow">if</span>(input &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; input &lt;= <span class="charliteral">&#39;F&#39;</span>)</div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordflow">return</span> input - <span class="charliteral">&#39;A&#39;</span> + 10;</div>
<div class="line"><span class="lineno">   29</span>    <span class="keywordflow">if</span>(input &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; input &lt;= <span class="charliteral">&#39;f&#39;</span>)</div>
<div class="line"><span class="lineno">   30</span>        <span class="keywordflow">return</span> input - <span class="charliteral">&#39;a&#39;</span> + 10;</div>
<div class="line"><span class="lineno">   31</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Invalid input string&quot;</span>);</div>
<div class="line"><span class="lineno">   32</span>    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="test__SPAT_8cpp_source.html#l00034">hex2bin()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_a6ac143b864959e9051bd2b5bce865e80_icgraph.png" border="0" usemap="#anamespacecpp__message_a6ac143b864959e9051bd2b5bce865e80_icgraph" alt=""/></div>
<map name="anamespacecpp__message_a6ac143b864959e9051bd2b5bce865e80_icgraph" id="anamespacecpp__message_a6ac143b864959e9051bd2b5bce865e80_icgraph">
<area shape="rect" title=" " alt="" coords="207,5,361,32"/>
<area shape="rect" href="namespacecpp__message.html#afc6f77e2a83d67820f71d88dacba4ca9" title=" " alt="" coords="5,5,159,32"/>
</map>
</div>

</div>
</div>
<a id="a8aa70dc3485c193e6fb6bcd6219ed3ea" name="a8aa70dc3485c193e6fb6bcd6219ed3ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aa70dc3485c193e6fb6bcd6219ed3ea">&#9670;&nbsp;</a></span>chartoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpp_message::chartoint </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__MapMessage_8cpp_source.html#l00024">24</a> of file <a class="el" href="test__MapMessage_8cpp_source.html">test_MapMessage.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>    {</div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordflow">if</span>(input &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; input &lt;= <span class="charliteral">&#39;9&#39;</span>)</div>
<div class="line"><span class="lineno">   27</span>        <span class="keywordflow">return</span> input - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><span class="lineno">   28</span>    <span class="keywordflow">if</span>(input &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; input &lt;= <span class="charliteral">&#39;F&#39;</span>)</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordflow">return</span> input - <span class="charliteral">&#39;A&#39;</span> + 10;</div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">if</span>(input &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; input &lt;= <span class="charliteral">&#39;f&#39;</span>)</div>
<div class="line"><span class="lineno">   31</span>        <span class="keywordflow">return</span> input - <span class="charliteral">&#39;a&#39;</span> + 10;</div>
<div class="line"><span class="lineno">   32</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Invalid input string&quot;</span>);</div>
<div class="line"><span class="lineno">   33</span>    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="test__MapMessage_8cpp_source.html#l00035">hextobin()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_a8aa70dc3485c193e6fb6bcd6219ed3ea_icgraph.png" border="0" usemap="#anamespacecpp__message_a8aa70dc3485c193e6fb6bcd6219ed3ea_icgraph" alt=""/></div>
<map name="anamespacecpp__message_a8aa70dc3485c193e6fb6bcd6219ed3ea_icgraph" id="anamespacecpp__message_a8aa70dc3485c193e6fb6bcd6219ed3ea_icgraph">
<area shape="rect" title=" " alt="" coords="211,5,369,32"/>
<area shape="rect" href="namespacecpp__message.html#a519f4de8c4525675f6eeb327d3984207" title=" " alt="" coords="5,5,163,32"/>
</map>
</div>

</div>
</div>
<a id="afc6f77e2a83d67820f71d88dacba4ca9" name="afc6f77e2a83d67820f71d88dacba4ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc6f77e2a83d67820f71d88dacba4ca9">&#9670;&nbsp;</a></span>hex2bin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpp_message::hex2bin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__SPAT_8cpp_source.html#l00034">34</a> of file <a class="el" href="test__SPAT_8cpp_source.html">test_SPAT.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>    {</div>
<div class="line"><span class="lineno">   36</span>        <span class="keywordflow">while</span>(*src &amp;&amp; src[1])</div>
<div class="line"><span class="lineno">   37</span>        {</div>
<div class="line"><span class="lineno">   38</span>            *(target++) = <a class="code hl_function" href="namespacecpp__message.html#a6ac143b864959e9051bd2b5bce865e80">char2int</a>(*src)*16 + <a class="code hl_function" href="namespacecpp__message.html#a6ac143b864959e9051bd2b5bce865e80">char2int</a>(src[1]);</div>
<div class="line"><span class="lineno">   39</span>            src += 2;</div>
<div class="line"><span class="lineno">   40</span>        }</div>
<div class="line"><span class="lineno">   41</span>    }</div>
<div class="ttc" id="anamespacecpp__message_html_a6ac143b864959e9051bd2b5bce865e80"><div class="ttname"><a href="namespacecpp__message.html#a6ac143b864959e9051bd2b5bce865e80">cpp_message::char2int</a></div><div class="ttdeci">int char2int(char input)</div><div class="ttdef"><b>Definition:</b> <a href="test__SPAT_8cpp_source.html#l00023">test_SPAT.cpp:23</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="test__SPAT_8cpp_source.html#l00023">char2int()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_afc6f77e2a83d67820f71d88dacba4ca9_cgraph.png" border="0" usemap="#anamespacecpp__message_afc6f77e2a83d67820f71d88dacba4ca9_cgraph" alt=""/></div>
<map name="anamespacecpp__message_afc6f77e2a83d67820f71d88dacba4ca9_cgraph" id="anamespacecpp__message_afc6f77e2a83d67820f71d88dacba4ca9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,159,32"/>
<area shape="rect" href="namespacecpp__message.html#a6ac143b864959e9051bd2b5bce865e80" title=" " alt="" coords="207,5,361,32"/>
</map>
</div>

</div>
</div>
<a id="a30ba4a49b53eb8437a4674cf309d41f7" name="a30ba4a49b53eb8437a4674cf309d41f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30ba4a49b53eb8437a4674cf309d41f7">&#9670;&nbsp;</a></span>Hex2Bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; char &gt; cpp_message::Hex2Bytes </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>hex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__MapMessage_8cpp_source.html#l00044">44</a> of file <a class="el" href="test__MapMessage_8cpp_source.html">test_MapMessage.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   45</span>{</div>
<div class="line"><span class="lineno">   46</span>  std::vector&lt;char&gt; bytes;</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; hex.length(); i += 2) {</div>
<div class="line"><span class="lineno">   49</span>    std::string byteString = hex.substr(i, 2);</div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordtype">char</span> <span class="keywordtype">byte</span> = (char) strtol(byteString.c_str(), NULL, 16);</div>
<div class="line"><span class="lineno">   51</span>    bytes.push_back(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">   52</span>  }</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>  <span class="keywordflow">return</span> bytes;</div>
<div class="line"><span class="lineno">   55</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="test__MapMessage_8cpp_source.html#l00057">TEST()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_a30ba4a49b53eb8437a4674cf309d41f7_icgraph.png" border="0" usemap="#anamespacecpp__message_a30ba4a49b53eb8437a4674cf309d41f7_icgraph" alt=""/></div>
<map name="anamespacecpp__message_a30ba4a49b53eb8437a4674cf309d41f7_icgraph" id="anamespacecpp__message_a30ba4a49b53eb8437a4674cf309d41f7_icgraph">
<area shape="rect" title=" " alt="" coords="196,5,368,32"/>
<area shape="rect" href="namespacecpp__message.html#a3fd1be808072c9d96b4035c5f6d02c3a" title=" " alt="" coords="5,5,148,32"/>
</map>
</div>

</div>
</div>
<a id="a519f4de8c4525675f6eeb327d3984207" name="a519f4de8c4525675f6eeb327d3984207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a519f4de8c4525675f6eeb327d3984207">&#9670;&nbsp;</a></span>hextobin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpp_message::hextobin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__MapMessage_8cpp_source.html#l00035">35</a> of file <a class="el" href="test__MapMessage_8cpp_source.html">test_MapMessage.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>    {</div>
<div class="line"><span class="lineno">   37</span>        <span class="keywordflow">while</span>(*src &amp;&amp; src[1])</div>
<div class="line"><span class="lineno">   38</span>        {</div>
<div class="line"><span class="lineno">   39</span>            *(target++) = <a class="code hl_function" href="namespacecpp__message.html#a8aa70dc3485c193e6fb6bcd6219ed3ea">chartoint</a>(*src)*16 + <a class="code hl_function" href="namespacecpp__message.html#a8aa70dc3485c193e6fb6bcd6219ed3ea">chartoint</a>(src[1]);</div>
<div class="line"><span class="lineno">   40</span>            src += 2;</div>
<div class="line"><span class="lineno">   41</span>        }</div>
<div class="line"><span class="lineno">   42</span>    }</div>
<div class="ttc" id="anamespacecpp__message_html_a8aa70dc3485c193e6fb6bcd6219ed3ea"><div class="ttname"><a href="namespacecpp__message.html#a8aa70dc3485c193e6fb6bcd6219ed3ea">cpp_message::chartoint</a></div><div class="ttdeci">int chartoint(char input)</div><div class="ttdef"><b>Definition:</b> <a href="test__MapMessage_8cpp_source.html#l00024">test_MapMessage.cpp:24</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="test__MapMessage_8cpp_source.html#l00024">chartoint()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_a519f4de8c4525675f6eeb327d3984207_cgraph.png" border="0" usemap="#anamespacecpp__message_a519f4de8c4525675f6eeb327d3984207_cgraph" alt=""/></div>
<map name="anamespacecpp__message_a519f4de8c4525675f6eeb327d3984207_cgraph" id="anamespacecpp__message_a519f4de8c4525675f6eeb327d3984207_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,163,32"/>
<area shape="rect" href="namespacecpp__message.html#a8aa70dc3485c193e6fb6bcd6219ed3ea" title=" " alt="" coords="211,5,369,32"/>
</map>
</div>

</div>
</div>
<a id="ad744f7904f0a7d580c3158d3962437ae" name="ad744f7904f0a7d580c3158d3962437ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad744f7904f0a7d580c3158d3962437ae">&#9670;&nbsp;</a></span>HexToBytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; char &gt; cpp_message::HexToBytes </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>hex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__SPAT_8cpp_source.html#l00043">43</a> of file <a class="el" href="test__SPAT_8cpp_source.html">test_SPAT.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>                                                     {</div>
<div class="line"><span class="lineno">   44</span>  std::vector&lt;char&gt; bytes;</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; hex.length(); i += 2) {</div>
<div class="line"><span class="lineno">   47</span>    std::string byteString = hex.substr(i, 2);</div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordtype">char</span> <span class="keywordtype">byte</span> = (char) strtol(byteString.c_str(), NULL, 16);</div>
<div class="line"><span class="lineno">   49</span>    bytes.push_back(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">   50</span>  }</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>  <span class="keywordflow">return</span> bytes;</div>
<div class="line"><span class="lineno">   53</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="test__SPAT_8cpp_source.html#l00055">TEST()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_ad744f7904f0a7d580c3158d3962437ae_icgraph.png" border="0" usemap="#anamespacecpp__message_ad744f7904f0a7d580c3158d3962437ae_icgraph" alt=""/></div>
<map name="anamespacecpp__message_ad744f7904f0a7d580c3158d3962437ae_icgraph" id="anamespacecpp__message_ad744f7904f0a7d580c3158d3962437ae_icgraph">
<area shape="rect" title=" " alt="" coords="196,5,376,32"/>
<area shape="rect" href="namespacecpp__message.html#a2b414c4a36b4b2d1b6915dafb22336ed" title=" " alt="" coords="5,5,148,32"/>
</map>
</div>

</div>
</div>
<a id="a3fd1be808072c9d96b4035c5f6d02c3a" name="a3fd1be808072c9d96b4035c5f6d02c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd1be808072c9d96b4035c5f6d02c3a">&#9670;&nbsp;</a></span>TEST() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cpp_message::TEST </td>
          <td>(</td>
          <td class="paramtype">MapMessageTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">testDecodeMapMessage&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__MapMessage_8cpp_source.html#l00057">57</a> of file <a class="el" href="test__MapMessage_8cpp_source.html">test_MapMessage.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span>{</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>    std::string hex_message = <span class="stringliteral">&quot;0012815338033020204bda0d4cdcf8143d4dc48811860224164802280008002297d4bc80a0a0a9825825923a90b2f2e418986f41b7006480602403812020084015480010004521d9f001414160c7c42a1879858619502a42a060e927100662000400105be6bf41c8aded5816ebc050507dcb860ec57aead5079e02828900890001000417223a50728b750f9c6ea9e8ae480a0a0f68746ad447c002828900a0880704404020803b9000200062b68d5305d1f9269a725027d8352f72867d6c82403340004000c53f5b761abbb7d35d3c0813ec1a3baac16bfc048050240301202008402208001000310fe55f849acd608d8ace136b440000dfe4808880008002086365c0017d1612eb34026067404895390907bd848050440302201c100024000200000090026180a0a0f2852600140001000000169fc1585bd1da000b00008000000a3bb2f439459a80060000400000046d55c416c67f40&quot;</span>;</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    <span class="comment">//Convert hex string to byte message</span></div>
<div class="line"><span class="lineno">   63</span>    std::vector&lt;uint8_t&gt; binary_input = {0, 18, 129, 83, 56, 3, 48, 32, 32, 75, 218, 13, 76, 220, 248, 20, 61, 77, 196, 136, 17, 134, 2, 36, 22, 72, 2, 40, 0, 8, 0, 34, 151, 212, 188, 128, 160, 160, 169, 130, 88, 37, 146, 58, 144, 178, 242, 228, 24, 152, 111, 65, 183, 0, 100, 128, 96, 36, 3, 129, 32, 32, 8, 64, 21, 72, 0, 16, 0, 69, 33, 217, 240, 1, 65, 65, 96, 199, 196, 42, 24, 121, 133, 134, 25, 80, 42, 66, 160, 96, 233, 39, 16, 6, 98, 0, 4, 0, 16, 91, 230, 191, 65, 200, 173, 237, 88, 22, 235, 192, 80, 80, 125, 203, 134, 14, 197, 122, 234, 213, 7, 158, 2, 130, 137, 0, 137, 0, 1, 0, 4, 23, 34, 58, 80, 114, 139, 117, 15, 156, 110, 169, 232, 174, 72, 10, 10, 15, 104, 116, 106, 212, 71, 192, 2, 130, 137, 0, 160, 136, 7, 4, 64, 64, 32, 128, 59, 144, 0, 32, 0, 98, 182, 141, 83, 5, 209, 249, 38, 154, 114, 80, 39, 216, 53, 47, 114, 134, 125, 108, 130, 64, 51, 64, 0, 64, 0, 197, 63, 91, 118, 26, 187, 183, 211, 93, 60, 8, 19, 236, 26, 59, 170, 193, 107, 252, 4, 128, 80, 36, 3, 1, 32, 32, 8, 64, 34, 8, 0, 16, 0, 49, 15, 229, 95, 132, 154, 205, 96, 141, 138, 206, 19, 107, 68, 0, 0, 223, 228, 128, 136, 128, 0, 128, 2, 8, 99, 101, 192, 1, 125, 22, 18, 235, 52, 2, 96, 103, 64, 72, 149, 57, 9, 7, 189, 132, 128, 80, 68, 3, 2, 32, 28, 16, 0, 36, 0, 2, 0, 0, 0, 144, 2, 97, 128, 160, 160, 242, 133, 38, 0, 20, 0, 1, 0, 0, 0, 22, 159, 193, 88, 91, 209, 218, 0, 11, 0, 0, 128, 0, 0, 10, 59, 178, 244, 57, 69, 154, 128, 6, 0, 0, 64, 0, 0, 4, 109, 85, 196, 22, 198, 127, 64};</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>    std::vector&lt;char&gt; new_binary_input = <a class="code hl_function" href="namespacecpp__message.html#a30ba4a49b53eb8437a4674cf309d41f7">Hex2Bytes</a>(hex_message);</div>
<div class="line"><span class="lineno">   66</span>    std::vector&lt;uint8_t&gt; new_binary_input_int;</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i&lt;new_binary_input.size();i++){</div>
<div class="line"><span class="lineno">   68</span>        new_binary_input_int.push_back(new_binary_input[i]);</div>
<div class="line"><span class="lineno">   69</span>    }</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>    rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr node_logging_;</div>
<div class="line"><span class="lineno">   72</span>    <a class="code hl_class" href="classcpp__message_1_1Map__Message.html">cpp_message::Map_Message</a> worker(node_logging_);</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    <span class="keyword">auto</span> res = worker.decode_map_message(new_binary_input_int);</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">if</span>(res)</div>
<div class="line"><span class="lineno">   77</span>    {</div>
<div class="line"><span class="lineno">   78</span>        <span class="comment">//Intersection Handling</span></div>
<div class="line"><span class="lineno">   79</span>        EXPECT_EQ(res.get().intersections_exists, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   80</span>        EXPECT_EQ(res.get().intersections.size(), 1);</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>        <span class="comment">//IntersectionID</span></div>
<div class="line"><span class="lineno">   83</span>        EXPECT_EQ(res.get().intersections[0].id.id, 9709);</div>
<div class="line"><span class="lineno">   84</span>        EXPECT_EQ(res.get().intersections[0].id.region_exists, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   85</span>        EXPECT_EQ(res.get().intersections[0].id.region, 0);</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>        <span class="comment">//Intersection Lane Set</span></div>
<div class="line"><span class="lineno">   88</span>        EXPECT_EQ(res.get().intersections[0].lane_set.lane_list.size(), 12);</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>        <span class="comment">//Intersection Lane Width</span></div>
<div class="line"><span class="lineno">   91</span>        EXPECT_EQ(res.get().intersections[0].lane_width_exists, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   92</span>        EXPECT_EQ(res.get().intersections[0].lane_width, 274);</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>        <span class="comment">//Intersection Name</span></div>
<div class="line"><span class="lineno">   95</span>        EXPECT_EQ(res.get().intersections[0].name_exists, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>        <span class="comment">//Intersection Preempt Priority Data</span></div>
<div class="line"><span class="lineno">   98</span>        EXPECT_EQ(res.get().intersections[0].preempt_priority_data_exists, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>        <span class="comment">//Intersection Speed Limits</span></div>
<div class="line"><span class="lineno">  101</span>        EXPECT_EQ(res.get().intersections[0].speed_limits_exists, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  102</span>        EXPECT_EQ(res.get().intersections[0].speed_limits.speed_limits.size(), 0);</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>        <span class="comment">//Intersection Ref Points</span></div>
<div class="line"><span class="lineno">  105</span>        EXPECT_EQ(res.get().intersections[0].ref_point.elevation_exists, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  106</span>        EXPECT_EQ(res.get().intersections[0].ref_point.elevation, 390);</div>
<div class="line"><span class="lineno">  107</span>        EXPECT_NEAR(res.get().intersections[0].ref_point.latitude, 3.8955 * pow(10,8), pow(10,8));</div>
<div class="line"><span class="lineno">  108</span>        EXPECT_NEAR(res.get().intersections[0].ref_point.longitude, -7.71493 * pow(10, 8), pow(10,8));</div>
<div class="line"><span class="lineno">  109</span>        EXPECT_EQ(res.get().intersections[0].revision, 3);</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>        <span class="comment">//Layer ID</span></div>
<div class="line"><span class="lineno">  113</span>        EXPECT_EQ(res.get().layer_id, 1);</div>
<div class="line"><span class="lineno">  114</span>        EXPECT_EQ(res.get().layer_id_exists, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>        <span class="comment">//Layer Type</span></div>
<div class="line"><span class="lineno">  117</span>        EXPECT_EQ(res.get().layer_type.layer_type,j2735_v2x_msgs::msg::LayerType::INTERSECTION_DATA);</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>        <span class="comment">//Msg Issue Revision</span></div>
<div class="line"><span class="lineno">  120</span>        EXPECT_EQ(res.get().msg_issue_revision,3);</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>        <span class="comment">//Restriction List</span></div>
<div class="line"><span class="lineno">  123</span>        EXPECT_EQ(res.get().restriction_list_exists, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  124</span>        EXPECT_EQ(res.get().restriction_list.restriction_class_list.size(), 0);</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>        <span class="comment">//Road Segments</span></div>
<div class="line"><span class="lineno">  127</span>        EXPECT_EQ(res.get().road_segments_exists, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  128</span>        EXPECT_EQ(res.get().road_segments.road_segment_list.size(), 0);</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>        <span class="comment">//Time Stamp</span></div>
<div class="line"><span class="lineno">  131</span>        EXPECT_EQ(res.get().time_stamp_exists, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  132</span>        EXPECT_EQ(res.get().time_stamp, 0);</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>        <span class="comment">//Data Parameters</span></div>
<div class="line"><span class="lineno">  135</span>        EXPECT_EQ(res.get().data_parameters_exists, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  136</span>    }</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">else</span> EXPECT_TRUE(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>}</div>
<div class="ttc" id="aclasscpp__message_1_1Map__Message_html"><div class="ttname"><a href="classcpp__message_1_1Map__Message.html">cpp_message::Map_Message</a></div><div class="ttdef"><b>Definition:</b> <a href="Map__Message_8h_source.html#l00023">Map_Message.h:24</a></div></div>
<div class="ttc" id="anamespacecpp__message_html_a30ba4a49b53eb8437a4674cf309d41f7"><div class="ttname"><a href="namespacecpp__message.html#a30ba4a49b53eb8437a4674cf309d41f7">cpp_message::Hex2Bytes</a></div><div class="ttdeci">std::vector&lt; char &gt; Hex2Bytes(const std::string &amp;hex)</div><div class="ttdef"><b>Definition:</b> <a href="test__MapMessage_8cpp_source.html#l00044">test_MapMessage.cpp:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Map__Message_8cpp_source.html#l00022">cpp_message::Map_Message::decode_map_message()</a>, and <a class="el" href="test__MapMessage_8cpp_source.html#l00044">Hex2Bytes()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_a3fd1be808072c9d96b4035c5f6d02c3a_cgraph.png" border="0" usemap="#anamespacecpp__message_a3fd1be808072c9d96b4035c5f6d02c3a_cgraph" alt=""/></div>
<map name="anamespacecpp__message_a3fd1be808072c9d96b4035c5f6d02c3a_cgraph" id="anamespacecpp__message_a3fd1be808072c9d96b4035c5f6d02c3a_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,148,98"/>
<area shape="rect" href="classcpp__message_1_1Map__Message.html#a8c001b1456e73f8bc81d2184e2a9c2af" title="Construct a new map message object." alt="" coords="196,35,391,76"/>
<area shape="rect" href="namespacecpp__message.html#a30ba4a49b53eb8437a4674cf309d41f7" title=" " alt="" coords="207,101,379,127"/>
<area shape="rect" href="classcpp__message_1_1Map__Message.html#ac988eff208d46646513deb28b7931871" title="Construct Generic lane j2735 ROS MAP.msg." alt="" coords="439,5,633,47"/>
<area shape="rect" href="per__decoder_8h.html#a76f8c1079ff1986561a848a2b41c1bda" title=" " alt="" coords="488,71,584,98"/>
</map>
</div>

</div>
</div>
<a id="aa4b5d3be3395084f0539c749204b4e49" name="aa4b5d3be3395084f0539c749204b4e49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4b5d3be3395084f0539c749204b4e49">&#9670;&nbsp;</a></span>TEST() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cpp_message::TEST </td>
          <td>(</td>
          <td class="paramtype">PSMTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">testdDecodePSM&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__PSM_8cpp_source.html#l00024">24</a> of file <a class="el" href="test__PSM_8cpp_source.html">test_PSM.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   24</span>                                 {</div>
<div class="line"><span class="lineno">   25</span>        <span class="comment">//Convert hex string to byte message</span></div>
<div class="line"><span class="lineno">   26</span>        std::vector&lt;uint8_t&gt; binary_input={ 0, 32, 95, 127, 255, 195, 220, 140, 4, 4, 8, 12, 17, 77, 226, 92, 189, 63, 71, 249, 125, 16, 40, 217, 217, 234, 146, 78, 32, 229, 141, 177, 219, 29, 159, 87, 38, 255, 254, 125, 20, 170, 40, 156, 65, 154, 52, 39, 112, 216, 178, 169, 248, 177, 253, 67, 206, 122, 95, 154, 207, 207, 234, 131, 61, 81, 184, 64, 15, 255, 255, 127, 255, 223, 221, 213, 3, 249, 188, 252, 254, 168, 61, 23, 253, 219, 34, 48, 131, 34, 148, 36, 56, 65, 112, 129, 11, 74};</div>
<div class="line"><span class="lineno">   27</span>        rclcpp::NodeOptions options;</div>
<div class="line"><span class="lineno">   28</span>        <span class="keyword">auto</span> node = std::make_shared&lt;rclcpp::Node&gt;(<span class="stringliteral">&quot;base_node&quot;</span>);</div>
<div class="line"><span class="lineno">   29</span>        </div>
<div class="line"><span class="lineno">   30</span>        rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr node_logging_ = node-&gt;get_node_logging_interface();;</div>
<div class="line"><span class="lineno">   31</span>        <a class="code hl_class" href="classcpp__message_1_1PSM__Message.html">cpp_message::PSM_Message</a> worker(node_logging_);</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>        boost::optional&lt;j2735_v2x_msgs::msg::PSM&gt; res = worker.decode_psm_message(binary_input);</div>
<div class="line"><span class="lineno">   34</span>        <span class="keywordflow">if</span>(res) {</div>
<div class="line"><span class="lineno">   35</span>            <span class="keyword">auto</span> psm_msg = res.get();</div>
<div class="line"><span class="lineno">   36</span>            </div>
<div class="line"><span class="lineno">   37</span>            EXPECT_EQ(<span class="keywordtype">int</span>(psm_msg.basic_type.type), 1);</div>
<div class="line"><span class="lineno">   38</span>            EXPECT_EQ(psm_msg.sec_mark.millisecond, 60998);</div>
<div class="line"><span class="lineno">   39</span>            EXPECT_NEAR(psm_msg.position.latitude, 406680509, 0.00001);</div>
<div class="line"><span class="lineno">   40</span>            EXPECT_NEAR(psm_msg.position.longitude, -738318466, 0.00001);</div>
<div class="line"><span class="lineno">   41</span>            EXPECT_EQ(psm_msg.position.elevation, 40);</div>
<div class="line"><span class="lineno">   42</span>        }</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>        </div>
<div class="line"><span class="lineno">   45</span>    }</div>
<div class="ttc" id="aclasscpp__message_1_1PSM__Message_html"><div class="ttname"><a href="classcpp__message_1_1PSM__Message.html">cpp_message::PSM_Message</a></div><div class="ttdef"><b>Definition:</b> <a href="PSM__Message_8h_source.html#l00021">PSM_Message.h:22</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="PSM__Message_8cpp_source.html#l00030">cpp_message::PSM_Message::decode_psm_message()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_aa4b5d3be3395084f0539c749204b4e49_cgraph.png" border="0" usemap="#anamespacecpp__message_aa4b5d3be3395084f0539c749204b4e49_cgraph" alt=""/></div>
<map name="anamespacecpp__message_aa4b5d3be3395084f0539c749204b4e49_cgraph" id="anamespacecpp__message_aa4b5d3be3395084f0539c749204b4e49_cgraph">
<area shape="rect" title=" " alt="" coords="5,186,148,213"/>
<area shape="rect" href="classcpp__message_1_1PSM__Message.html#a424a1ca040d1fb20036267d63ffb95ff" title="PSM message decoding function." alt="" coords="196,179,395,220"/>
<area shape="rect" href="classcpp__message_1_1PSM__Message.html#a6ea062d9fef32c31f860d5bfce9dc77b" title="Converts AccelerationSet4Way asn1 message to j2735_v2x_msg." alt="" coords="447,5,645,47"/>
<area shape="rect" href="classcpp__message_1_1PSM__Message.html#a52c6af675d21b398e018b6068790abd6" title="Converts PathHistory asn1 message to j2735_v2x_msg." alt="" coords="443,71,649,112"/>
<area shape="rect" href="classcpp__message_1_1PSM__Message.html#a69993bd97ecb2b413a9509b25d888281" title="Converts PathPrediction asn1 message to j2735_v2x_msg." alt="" coords="447,135,645,191"/>
<area shape="rect" href="classcpp__message_1_1PSM__Message.html#ae17a528d2bd047dc82366626d049ba0a" title="Converts PropelledInformation asn1 message to j2735_v2x_msg." alt="" coords="447,215,645,256"/>
<area shape="rect" href="classcpp__message_1_1PSM__Message.html#a425ecdbf60c1286ebcf0d8111a6b9c85" title="Converts PersonalDeviceUsageState asn1 message to j2735_v2x_msg." alt="" coords="447,280,645,321"/>
<area shape="rect" href="per__decoder_8h.html#a76f8c1079ff1986561a848a2b41c1bda" title=" " alt="" coords="498,346,594,373"/>
</map>
</div>

</div>
</div>
<a id="a964bcc65e5d4488845b5e7007732b328" name="a964bcc65e5d4488845b5e7007732b328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a964bcc65e5d4488845b5e7007732b328">&#9670;&nbsp;</a></span>TEST() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cpp_message::TEST </td>
          <td>(</td>
          <td class="paramtype">PSMTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">testEncodePSM&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__PSM_8cpp_source.html#l00047">47</a> of file <a class="el" href="test__PSM_8cpp_source.html">test_PSM.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>                                {</div>
<div class="line"><span class="lineno">   48</span>        </div>
<div class="line"><span class="lineno">   49</span>        j2735_v2x_msgs::msg::PSM message;</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>        <span class="comment">//2. basic_type</span></div>
<div class="line"><span class="lineno">   52</span>        <a class="code hl_enumeration" href="PersonalDeviceUserType_8h.html#a13633abb8069d54226473928884d0cda">j2735_v2x_msgs::msg::PersonalDeviceUserType</a> basic_type;</div>
<div class="line"><span class="lineno">   53</span>        basic_type.type |= j2735_v2x_msgs::msg::PersonalDeviceUserType::A_PEDESTRIAN;</div>
<div class="line"><span class="lineno">   54</span>        message.basic_type = basic_type;</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>        <span class="comment">//3.sec_mark</span></div>
<div class="line"><span class="lineno">   57</span>        j2735_v2x_msgs::msg::DSecond sec_mark;</div>
<div class="line"><span class="lineno">   58</span>        sec_mark.millisecond = 60998;</div>
<div class="line"><span class="lineno">   59</span>        message.sec_mark = sec_mark;</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>        <span class="comment">//4.msg_cnt</span></div>
<div class="line"><span class="lineno">   62</span>        j2735_v2x_msgs::msg::MsgCount msg_cnt;</div>
<div class="line"><span class="lineno">   63</span>        msg_cnt.msg_cnt = 1;</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>        message.msg_cnt = msg_cnt;</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>        <span class="comment">//5. id</span></div>
<div class="line"><span class="lineno">   68</span>        j2735_v2x_msgs::msg::TemporaryID id;</div>
<div class="line"><span class="lineno">   69</span>        <span class="keywordtype">id</span>.id = {1,2,3,4};</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>        message.id = id;</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>        <span class="comment">//6. position</span></div>
<div class="line"><span class="lineno">   74</span>        j2735_v2x_msgs::msg::Position3D position;</div>
<div class="line"><span class="lineno">   75</span>        position.latitude = 406680509;</div>
<div class="line"><span class="lineno">   76</span>        position.longitude = -738318466;</div>
<div class="line"><span class="lineno">   77</span>        position.elevation_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   78</span>        position.elevation = 40;</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>        message.position = position;</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>        <span class="comment">//7. positional accuracy</span></div>
<div class="line"><span class="lineno">   83</span>        j2735_v2x_msgs::msg::PositionalAccuracy accuracy;</div>
<div class="line"><span class="lineno">   84</span>        accuracy.semi_major = 217;</div>
<div class="line"><span class="lineno">   85</span>        accuracy.semi_minor = 217;</div>
<div class="line"><span class="lineno">   86</span>        accuracy.orientation = 60050;</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>        message.accuracy = accuracy;</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>        <span class="comment">//8. velocity</span></div>
<div class="line"><span class="lineno">   91</span>        j2735_v2x_msgs::msg::Velocity speed;</div>
<div class="line"><span class="lineno">   92</span>        speed.velocity = 2500;</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>        message.speed = speed;</div>
<div class="line"><span class="lineno">   95</span>        <span class="comment">//9. heading</span></div>
<div class="line"><span class="lineno">   96</span>        j2735_v2x_msgs::msg::Heading heading;</div>
<div class="line"><span class="lineno">   97</span>        heading.heading = 3672;</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>        message.heading = heading;</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>        <span class="comment">//Optional fields</span></div>
<div class="line"><span class="lineno">  102</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_ACCEL_SET;</div>
<div class="line"><span class="lineno">  103</span>        j2735_v2x_msgs::msg::AccelerationSet4Way accel_set;</div>
<div class="line"><span class="lineno">  104</span>        accel_set.longitudinal = 1505;</div>
<div class="line"><span class="lineno">  105</span>        accel_set.lateral = 1505;</div>
<div class="line"><span class="lineno">  106</span>        accel_set.vert = 90;</div>
<div class="line"><span class="lineno">  107</span>        accel_set.yaw_rate = 30067;</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>        message.accel_set = accel_set;</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>        <span class="comment">//PathHistory</span></div>
<div class="line"><span class="lineno">  112</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_PATH_HISTORY;</div>
<div class="line"><span class="lineno">  113</span>        j2735_v2x_msgs::msg::PathHistory path_history;</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        j2735_v2x_msgs::msg::PathHistoryPoint point1;</div>
<div class="line"><span class="lineno">  116</span>        point1.lat_offset.offset = 131070;</div>
<div class="line"><span class="lineno">  117</span>        point1.lon_offset.offset = 131070;</div>
<div class="line"><span class="lineno">  118</span>        point1.elevation_offset.offset = 2030;</div>
<div class="line"><span class="lineno">  119</span>        point1.time_offset.offset = 60034;</div>
<div class="line"><span class="lineno">  120</span>        point1.speed.speed = 8091;</div>
<div class="line"><span class="lineno">  121</span>        </div>
<div class="line"><span class="lineno">  122</span>        point1.pos_accuracy.semi_major = 207;</div>
<div class="line"><span class="lineno">  123</span>        point1.pos_accuracy.semi_minor = 207;</div>
<div class="line"><span class="lineno">  124</span>        point1.pos_accuracy.orientation = 60035;</div>
<div class="line"><span class="lineno">  125</span>        point1.heading.heading = 209;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>        j2735_v2x_msgs::msg::PathHistoryPointList points_list;</div>
<div class="line"><span class="lineno">  128</span>        points_list.points.push_back(point1);</div>
<div class="line"><span class="lineno">  129</span>        path_history.crumb_data = points_list;</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>        path_history.presence_vector |= j2735_v2x_msgs::msg::PathHistory::HAS_CURR_GNSS_STATUS;</div>
<div class="line"><span class="lineno">  132</span>        j2735_v2x_msgs::msg::GNSSStatus gns_status;</div>
<div class="line"><span class="lineno">  133</span>        gns_status.statuses = j2735_v2x_msgs::msg::GNSSStatus::IS_HEALTHY;</div>
<div class="line"><span class="lineno">  134</span>        path_history.curr_gnss_status = gns_status;</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>        j2735_v2x_msgs::msg::FullPositionVector initial_position;</div>
<div class="line"><span class="lineno">  138</span>        path_history.presence_vector |= j2735_v2x_msgs::msg::PathHistory::HAS_INITIAL_POSITION;</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        initial_position.presence_vector |= j2735_v2x_msgs::msg::FullPositionVector::HAS_UTC_TIME;</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>        initial_position.utc_time.presence_vector |= j2735_v2x_msgs::msg::DDateTime::YEAR;</div>
<div class="line"><span class="lineno">  143</span>        initial_position.utc_time.year.year = 1000;</div>
<div class="line"><span class="lineno">  144</span>        initial_position.utc_time.presence_vector |= j2735_v2x_msgs::msg::DDateTime::MONTH;</div>
<div class="line"><span class="lineno">  145</span>        initial_position.utc_time.month.month = 10;</div>
<div class="line"><span class="lineno">  146</span>        initial_position.utc_time.presence_vector |= j2735_v2x_msgs::msg::DDateTime::DAY;</div>
<div class="line"><span class="lineno">  147</span>        initial_position.utc_time.day.day = 10;</div>
<div class="line"><span class="lineno">  148</span>        initial_position.utc_time.presence_vector |= j2735_v2x_msgs::msg::DDateTime::HOUR;</div>
<div class="line"><span class="lineno">  149</span>        initial_position.utc_time.hour.hour = 20;</div>
<div class="line"><span class="lineno">  150</span>        initial_position.utc_time.presence_vector |= j2735_v2x_msgs::msg::DDateTime::MINUTE;</div>
<div class="line"><span class="lineno">  151</span>        initial_position.utc_time.minute.minute = 20;</div>
<div class="line"><span class="lineno">  152</span>        initial_position.utc_time.presence_vector |= j2735_v2x_msgs::msg::DDateTime::SECOND;</div>
<div class="line"><span class="lineno">  153</span>        initial_position.utc_time.second.millisecond = 20000;</div>
<div class="line"><span class="lineno">  154</span>        initial_position.utc_time.presence_vector |= j2735_v2x_msgs::msg::DDateTime::OFFSET;</div>
<div class="line"><span class="lineno">  155</span>        initial_position.utc_time.offset.offset_minute = 800;</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>        initial_position.lon.longitude = 1700000099;</div>
<div class="line"><span class="lineno">  158</span>        initial_position.lat.latitude = 800000099;</div>
<div class="line"><span class="lineno">  159</span>        initial_position.presence_vector |= j2735_v2x_msgs::msg::FullPositionVector::HAS_ELEVATION;</div>
<div class="line"><span class="lineno">  160</span>        initial_position.elevation.elevation = 60039;</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>        initial_position.presence_vector |= j2735_v2x_msgs::msg::FullPositionVector::HAS_HEADING;</div>
<div class="line"><span class="lineno">  163</span>        initial_position.heading.heading = 20090;</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>        initial_position.presence_vector |= j2735_v2x_msgs::msg::FullPositionVector::HAS_SPEED;</div>
<div class="line"><span class="lineno">  166</span>        initial_position.speed.transmission.transmission_state |= j2735_v2x_msgs::msg::TransmissionState::FORWARDGEARS;</div>
<div class="line"><span class="lineno">  167</span>        initial_position.speed.speed.velocity = 8090;</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>        initial_position.presence_vector |= j2735_v2x_msgs::msg::FullPositionVector::HAS_POS_ACCURACY;</div>
<div class="line"><span class="lineno">  170</span>        initial_position.pos_accuracy.semi_major = 207;</div>
<div class="line"><span class="lineno">  171</span>        initial_position.pos_accuracy.semi_minor = 207;</div>
<div class="line"><span class="lineno">  172</span>        initial_position.pos_accuracy.orientation = 60035;</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>        initial_position.presence_vector |= j2735_v2x_msgs::msg::FullPositionVector::HAS_TIME_CONFIDENCE;</div>
<div class="line"><span class="lineno">  175</span>        initial_position.time_confidence.confidence |= j2735_v2x_msgs::msg::TimeConfidence::TIME_000_001;</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>        initial_position.presence_vector |= j2735_v2x_msgs::msg::FullPositionVector::HAS_POS_CONFIDENCE;</div>
<div class="line"><span class="lineno">  178</span>        initial_position.pos_confidence.pos.confidence |= j2735_v2x_msgs::msg::PositionConfidence::A20M;</div>
<div class="line"><span class="lineno">  179</span>        initial_position.pos_confidence.elevation.confidence |= j2735_v2x_msgs::msg::ElevationConfidence::ELEV_050_00;</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>        initial_position.presence_vector |= j2735_v2x_msgs::msg::FullPositionVector::HAS_SPEED_CONFIDENCE;</div>
<div class="line"><span class="lineno">  183</span>        initial_position.speed_confidence.heading.confidence |= j2735_v2x_msgs::msg::HeadingConfidence::PREC_01_DEG;</div>
<div class="line"><span class="lineno">  184</span>        initial_position.speed_confidence.speed.speed_confidence |= j2735_v2x_msgs::msg::SpeedConfidence::PREC5MS;</div>
<div class="line"><span class="lineno">  185</span>        initial_position.speed_confidence.throttle.confidence |= j2735_v2x_msgs::msg::ThrottleConfidence::PREC_1_PERCENT;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>        path_history.initial_position = initial_position;</div>
<div class="line"><span class="lineno">  189</span>        message.path_history = path_history;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>        j2735_v2x_msgs::msg::PathPrediction path_prediction;</div>
<div class="line"><span class="lineno">  192</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_PATH_PREDICTION;</div>
<div class="line"><span class="lineno">  193</span>        path_prediction.radius_of_curvature = 32700;</div>
<div class="line"><span class="lineno">  194</span>        path_prediction.confidence = 100;</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>        message.path_prediction = path_prediction;</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>        j2735_v2x_msgs::msg::PropelledInformation propelled_information;</div>
<div class="line"><span class="lineno">  200</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_PROPULSION;</div>
<div class="line"><span class="lineno">  201</span>        propelled_information.choice = j2735_v2x_msgs::msg::PropelledInformation::CHOICE_MOTOR;   <span class="comment">//Motor propelled</span></div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>        propelled_information.motor.type = 3; <span class="comment">//Bicycle</span></div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>        message.propulsion = propelled_information;</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>        <a class="code hl_enumeration" href="PersonalDeviceUsageState_8h.html#af3a133f1bae27e2ffcae66e8be528593">j2735_v2x_msgs::msg::PersonalDeviceUsageState</a> personal_device_state;</div>
<div class="line"><span class="lineno">  209</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_USE_STATE;</div>
<div class="line"><span class="lineno">  210</span>        personal_device_state.states |= j2735_v2x_msgs::msg::PersonalDeviceUsageState::LISTENING_TO_AUDIO;</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>        message.use_state = personal_device_state;</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        j2735_v2x_msgs::msg::PersonalCrossingRequest cross_request;</div>
<div class="line"><span class="lineno">  215</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_CROSS_REQUEST;</div>
<div class="line"><span class="lineno">  216</span>        cross_request.cross_request = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>        message.cross_request = cross_request;</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>        j2735_v2x_msgs::msg::PersonalCrossingInProgress cross_state;</div>
<div class="line"><span class="lineno">  221</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_CROSS_STATE;</div>
<div class="line"><span class="lineno">  222</span>        cross_state.cross_state = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>        message.cross_state = cross_state;</div>
<div class="line"><span class="lineno">  225</span>        </div>
<div class="line"><span class="lineno">  226</span>        <a class="code hl_enumeration" href="NumberOfParticipantsInCluster_8h.html#ab56c736520fded4254d05150a1fb7b5e">j2735_v2x_msgs::msg::NumberOfParticipantsInCluster</a> cluster;</div>
<div class="line"><span class="lineno">  227</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_CLUSTER_SIZE;</div>
<div class="line"><span class="lineno">  228</span>        cluster.cluster_size |= j2735_v2x_msgs::msg::NumberOfParticipantsInCluster::SMALL;</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>        message.cluster_size = cluster;</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>        j2735_v2x_msgs::msg::PersonalClusterRadius cluster_radius;</div>
<div class="line"><span class="lineno">  233</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_CLUSTER_RADIUS;</div>
<div class="line"><span class="lineno">  234</span>        cluster_radius.cluster_radius = 10;</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>        message.cluster_radius = cluster_radius;</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>        <a class="code hl_enumeration" href="PublicSafetyEventResponderWorkerType_8h.html#af830848641f721cba5ae2175d410ae8b">j2735_v2x_msgs::msg::PublicSafetyEventResponderWorkerType</a> event_responder_type;</div>
<div class="line"><span class="lineno">  239</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_EVENT_RESPONDER_TYPE;</div>
<div class="line"><span class="lineno">  240</span>        event_responder_type.type = j2735_v2x_msgs::msg::PublicSafetyEventResponderWorkerType::HAZMAT_RESPONDER;</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>        message.event_responder_type = event_responder_type;</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>        <a class="code hl_enumeration" href="PublicSafetyAndRoadWorkerActivity_8h.html#a2c0eb185853b2616f139394ab75f5f5d">j2735_v2x_msgs::msg::PublicSafetyAndRoadWorkerActivity</a> activity_type;</div>
<div class="line"><span class="lineno">  245</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_ACTIVITY_TYPE;</div>
<div class="line"><span class="lineno">  246</span>        activity_type.activities |= j2735_v2x_msgs::msg::PublicSafetyAndRoadWorkerActivity::DIRECTING_TRAFFIC;</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>        message.activity_type = activity_type;</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>        <a class="code hl_enumeration" href="PublicSafetyDirectingTrafficSubType_8h.html#a08279085a16bb72a0334825f58a777bb">j2735_v2x_msgs::msg::PublicSafetyDirectingTrafficSubType</a> activity_sub_type;</div>
<div class="line"><span class="lineno">  251</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_ACTIVITY_SUB_TYPE;</div>
<div class="line"><span class="lineno">  252</span>        activity_sub_type.sub_types |= j2735_v2x_msgs::msg::PublicSafetyDirectingTrafficSubType::EMERGENCY_ORGANIZATION_PERSONNEL;</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>        message.activity_sub_type = activity_sub_type;</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>        <a class="code hl_enumeration" href="PersonalAssistive_8h.html#a4ea1110647f7ce05a3275e2eabdd9055">j2735_v2x_msgs::msg::PersonalAssistive</a> assist_type;</div>
<div class="line"><span class="lineno">  257</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_ASSIST_TYPE;</div>
<div class="line"><span class="lineno">  258</span>        assist_type.types |= j2735_v2x_msgs::msg::PersonalAssistive::MOVEMENT;</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>        message.assist_type = assist_type;</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>        <a class="code hl_enumeration" href="UserSizeAndBehaviour_8h.html#a8eb05559b7ae0c80f5e669d9a9a03fbd">j2735_v2x_msgs::msg::UserSizeAndBehaviour</a> sizing;</div>
<div class="line"><span class="lineno">  263</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_SIZING;</div>
<div class="line"><span class="lineno">  264</span>        sizing.sizes_and_behaviors |=  j2735_v2x_msgs::msg::UserSizeAndBehaviour::ERRATIC_MOVING;</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>        message.sizing = sizing;</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>        <a class="code hl_enumeration" href="Attachment_8h.html#a0ad971e5e7193d5b2d0af98e06060d2b">j2735_v2x_msgs::msg::Attachment</a> attachment;</div>
<div class="line"><span class="lineno">  269</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_ATTACHMENT;</div>
<div class="line"><span class="lineno">  270</span>        attachment.type = j2735_v2x_msgs::msg::Attachment::STROLLER;</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        message.attachment = attachment;</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>        j2735_v2x_msgs::msg::AttachmentRadius attachment_radius;</div>
<div class="line"><span class="lineno">  275</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_ATTACHMENT_RADIUS;</div>
<div class="line"><span class="lineno">  276</span>        attachment_radius.attachment_radius = 105;</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>        message.attachment_radius = attachment_radius;</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>        <a class="code hl_enumeration" href="AnimalType_8h.html#a6f4aee1c6d261958dbe9554417a936db">j2735_v2x_msgs::msg::AnimalType</a> animal_type;</div>
<div class="line"><span class="lineno">  281</span>        message.presence_vector |= j2735_v2x_msgs::msg::PSM::HAS_ANIMAL_TYPE;</div>
<div class="line"><span class="lineno">  282</span>        animal_type.type |= j2735_v2x_msgs::msg::AnimalType::PET;</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>        message.animal_type = animal_type;</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        rclcpp::NodeOptions options;</div>
<div class="line"><span class="lineno">  288</span>        <span class="keyword">auto</span> node = std::make_shared&lt;rclcpp::Node&gt;(<span class="stringliteral">&quot;base_node&quot;</span>);</div>
<div class="line"><span class="lineno">  289</span>        </div>
<div class="line"><span class="lineno">  290</span>        rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr node_logging_ = node-&gt;get_node_logging_interface();;</div>
<div class="line"><span class="lineno">  291</span>        <a class="code hl_class" href="classcpp__message_1_1PSM__Message.html">cpp_message::PSM_Message</a> worker(node_logging_);</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>       boost::optional&lt;std::vector&lt;uint8_t&gt;&gt; b_array = worker.encode_psm_message(message);</div>
<div class="line"><span class="lineno">  294</span>       <span class="keywordflow">if</span>(b_array){</div>
<div class="line"><span class="lineno">  295</span>        std::vector&lt;uint8_t&gt; array = b_array.get();</div>
<div class="line"><span class="lineno">  296</span>        <span class="comment">// for(size_t i = 0; i &lt; array.size(); i++) std::cout&lt;&lt; int(array[i])&lt;&lt; &quot;, &quot;;</span></div>
<div class="line"><span class="lineno">  297</span>        EXPECT_FALSE(array.empty());</div>
<div class="line"><span class="lineno">  298</span>       }</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        </div>
<div class="line"><span class="lineno">  301</span>    }</div>
<div class="ttc" id="aAnimalType_8h_html_a6f4aee1c6d261958dbe9554417a936db"><div class="ttname"><a href="AnimalType_8h.html#a6f4aee1c6d261958dbe9554417a936db">AnimalType</a></div><div class="ttdeci">AnimalType</div><div class="ttdef"><b>Definition:</b> <a href="AnimalType_8h_source.html#l00022">AnimalType.h:22</a></div></div>
<div class="ttc" id="aAttachment_8h_html_a0ad971e5e7193d5b2d0af98e06060d2b"><div class="ttname"><a href="Attachment_8h.html#a0ad971e5e7193d5b2d0af98e06060d2b">Attachment</a></div><div class="ttdeci">Attachment</div><div class="ttdef"><b>Definition:</b> <a href="Attachment_8h_source.html#l00022">Attachment.h:22</a></div></div>
<div class="ttc" id="aNumberOfParticipantsInCluster_8h_html_ab56c736520fded4254d05150a1fb7b5e"><div class="ttname"><a href="NumberOfParticipantsInCluster_8h.html#ab56c736520fded4254d05150a1fb7b5e">NumberOfParticipantsInCluster</a></div><div class="ttdeci">NumberOfParticipantsInCluster</div><div class="ttdef"><b>Definition:</b> <a href="NumberOfParticipantsInCluster_8h_source.html#l00022">NumberOfParticipantsInCluster.h:22</a></div></div>
<div class="ttc" id="aPersonalAssistive_8h_html_a4ea1110647f7ce05a3275e2eabdd9055"><div class="ttname"><a href="PersonalAssistive_8h.html#a4ea1110647f7ce05a3275e2eabdd9055">PersonalAssistive</a></div><div class="ttdeci">PersonalAssistive</div><div class="ttdef"><b>Definition:</b> <a href="PersonalAssistive_8h_source.html#l00022">PersonalAssistive.h:22</a></div></div>
<div class="ttc" id="aPersonalDeviceUsageState_8h_html_af3a133f1bae27e2ffcae66e8be528593"><div class="ttname"><a href="PersonalDeviceUsageState_8h.html#af3a133f1bae27e2ffcae66e8be528593">PersonalDeviceUsageState</a></div><div class="ttdeci">PersonalDeviceUsageState</div><div class="ttdef"><b>Definition:</b> <a href="PersonalDeviceUsageState_8h_source.html#l00022">PersonalDeviceUsageState.h:22</a></div></div>
<div class="ttc" id="aPersonalDeviceUserType_8h_html_a13633abb8069d54226473928884d0cda"><div class="ttname"><a href="PersonalDeviceUserType_8h.html#a13633abb8069d54226473928884d0cda">PersonalDeviceUserType</a></div><div class="ttdeci">PersonalDeviceUserType</div><div class="ttdef"><b>Definition:</b> <a href="PersonalDeviceUserType_8h_source.html#l00022">PersonalDeviceUserType.h:22</a></div></div>
<div class="ttc" id="aPublicSafetyAndRoadWorkerActivity_8h_html_a2c0eb185853b2616f139394ab75f5f5d"><div class="ttname"><a href="PublicSafetyAndRoadWorkerActivity_8h.html#a2c0eb185853b2616f139394ab75f5f5d">PublicSafetyAndRoadWorkerActivity</a></div><div class="ttdeci">PublicSafetyAndRoadWorkerActivity</div><div class="ttdef"><b>Definition:</b> <a href="PublicSafetyAndRoadWorkerActivity_8h_source.html#l00022">PublicSafetyAndRoadWorkerActivity.h:22</a></div></div>
<div class="ttc" id="aPublicSafetyDirectingTrafficSubType_8h_html_a08279085a16bb72a0334825f58a777bb"><div class="ttname"><a href="PublicSafetyDirectingTrafficSubType_8h.html#a08279085a16bb72a0334825f58a777bb">PublicSafetyDirectingTrafficSubType</a></div><div class="ttdeci">PublicSafetyDirectingTrafficSubType</div><div class="ttdef"><b>Definition:</b> <a href="PublicSafetyDirectingTrafficSubType_8h_source.html#l00022">PublicSafetyDirectingTrafficSubType.h:22</a></div></div>
<div class="ttc" id="aPublicSafetyEventResponderWorkerType_8h_html_af830848641f721cba5ae2175d410ae8b"><div class="ttname"><a href="PublicSafetyEventResponderWorkerType_8h.html#af830848641f721cba5ae2175d410ae8b">PublicSafetyEventResponderWorkerType</a></div><div class="ttdeci">PublicSafetyEventResponderWorkerType</div><div class="ttdef"><b>Definition:</b> <a href="PublicSafetyEventResponderWorkerType_8h_source.html#l00022">PublicSafetyEventResponderWorkerType.h:22</a></div></div>
<div class="ttc" id="aUserSizeAndBehaviour_8h_html_a8eb05559b7ae0c80f5e669d9a9a03fbd"><div class="ttname"><a href="UserSizeAndBehaviour_8h.html#a8eb05559b7ae0c80f5e669d9a9a03fbd">UserSizeAndBehaviour</a></div><div class="ttdeci">UserSizeAndBehaviour</div><div class="ttdef"><b>Definition:</b> <a href="UserSizeAndBehaviour_8h_source.html#l00022">UserSizeAndBehaviour.h:22</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="PSM__Message_8cpp_source.html#l00595">cpp_message::PSM_Message::encode_psm_message()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_a964bcc65e5d4488845b5e7007732b328_cgraph.png" border="0" usemap="#anamespacecpp__message_a964bcc65e5d4488845b5e7007732b328_cgraph" alt=""/></div>
<map name="anamespacecpp__message_a964bcc65e5d4488845b5e7007732b328_cgraph" id="anamespacecpp__message_a964bcc65e5d4488845b5e7007732b328_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,148,39"/>
<area shape="rect" href="classcpp__message_1_1PSM__Message.html#af05a782f0bf1eadd5961b75662dc0354" title="helper functions for PSM message encoding." alt="" coords="196,5,395,47"/>
<area shape="rect" href="per__encoder_8h.html#ad9d25a879d4499db83fb133c1b8636b9" title=" " alt="" coords="443,13,596,39"/>
</map>
</div>

</div>
</div>
<a id="a2f288a87d86a5cd8a35ee7337ca4db96" name="a2f288a87d86a5cd8a35ee7337ca4db96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f288a87d86a5cd8a35ee7337ca4db96">&#9670;&nbsp;</a></span>TEST() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cpp_message::TEST </td>
          <td>(</td>
          <td class="paramtype">SPATTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DISABLED_testENCODESPAT&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__SPAT_8cpp_source.html#l00082">82</a> of file <a class="el" href="test__SPAT_8cpp_source.html">test_SPAT.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   83</span>    {</div>
<div class="line"><span class="lineno">   84</span>        <a class="code hl_class" href="classcpp__message_1_1SPAT__Message.html">cpp_message::SPAT_Message</a> worker;</div>
<div class="line"><span class="lineno">   85</span>        j2735_v2x_msgs::msg::SPAT message;</div>
<div class="line"><span class="lineno">   86</span>        </div>
<div class="line"><span class="lineno">   87</span>        <span class="comment">//1. Intersection State List</span></div>
<div class="line"><span class="lineno">   88</span>        j2735_v2x_msgs::msg::IntersectionState intersection_state_1;</div>
<div class="line"><span class="lineno">   89</span>        intersection_state_1.id.id = 127;</div>
<div class="line"><span class="lineno">   90</span>        intersection_state_1.revision = 2;</div>
<div class="line"><span class="lineno">   91</span>        intersection_state_1.status.intersection_status_object = 0000000000000000;</div>
<div class="line"><span class="lineno">   92</span>        intersection_state_1.moy_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   93</span>        intersection_state_1.moy = 386768;</div>
<div class="line"><span class="lineno">   94</span>        intersection_state_1.time_stamp_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   95</span>        intersection_state_1.time_stamp = 40439;</div>
<div class="line"><span class="lineno">   96</span>        <span class="comment">//intersection_state_1.states.movement_list;// Add movement_state_1 to this</span></div>
<div class="line"><span class="lineno">   97</span>        </div>
<div class="line"><span class="lineno">   98</span>        </div>
<div class="line"><span class="lineno">   99</span>        j2735_v2x_msgs::msg::MovementState movement_state_1;</div>
<div class="line"><span class="lineno">  100</span>        movement_state_1.signal_group = 1;</div>
<div class="line"><span class="lineno">  101</span>        <span class="comment">//movement_state_1.state_time_speed.movement_event_list; //Add movement_event_1 to this</span></div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>        j2735_v2x_msgs::msg::MovementEvent movement_event_1;</div>
<div class="line"><span class="lineno">  104</span>        movement_event_1.event_state.movement_phase_state = j2735_v2x_msgs::msg::MovementPhaseState::STOP_AND_REMAIN;</div>
<div class="line"><span class="lineno">  105</span>        movement_event_1.timing_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  106</span>        movement_event_1.timing.min_end_time = 5786;</div>
<div class="line"><span class="lineno">  107</span>        movement_event_1.timing.max_end_time_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  108</span>        movement_event_1.timing.max_end_time = 36001;</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>        movement_state_1.state_time_speed.movement_event_list.push_back(movement_event_1);</div>
<div class="line"><span class="lineno">  111</span>        intersection_state_1.states.movement_list.push_back(movement_state_1);</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>        <span class="comment">//Second Movement state</span></div>
<div class="line"><span class="lineno">  114</span>        j2735_v2x_msgs::msg::MovementState movement_state_2;</div>
<div class="line"><span class="lineno">  115</span>        movement_state_2.signal_group = 2;</div>
<div class="line"><span class="lineno">  116</span>        <span class="comment">//movement_state_2.state_time_speed.movement_event_list - Add Movement event to this</span></div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>        j2735_v2x_msgs::msg::MovementEvent movement_event_2;</div>
<div class="line"><span class="lineno">  119</span>        movement_event_2.event_state.movement_phase_state = j2735_v2x_msgs::msg::MovementPhaseState::PERMISSIVE_MOVEMENT_ALLOWED;</div>
<div class="line"><span class="lineno">  120</span>        movement_event_2.timing_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  121</span>        movement_event_2.timing.min_end_time = 5581;</div>
<div class="line"><span class="lineno">  122</span>        movement_event_2.timing.max_end_time_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  123</span>        movement_event_2.timing.max_end_time = 5707;</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>        movement_state_2.state_time_speed.movement_event_list.push_back(movement_event_2);</div>
<div class="line"><span class="lineno">  126</span>        intersection_state_1.states.movement_list.push_back(movement_state_2);</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>        <span class="comment">//Third Movement State</span></div>
<div class="line"><span class="lineno">  130</span>        j2735_v2x_msgs::msg::MovementState movement_state_3;</div>
<div class="line"><span class="lineno">  131</span>        movement_state_3.signal_group = 3;</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>        j2735_v2x_msgs::msg::MovementEvent movement_event_3;</div>
<div class="line"><span class="lineno">  134</span>        movement_event_3.event_state.movement_phase_state = j2735_v2x_msgs::msg::MovementPhaseState::STOP_AND_REMAIN;</div>
<div class="line"><span class="lineno">  135</span>        movement_event_3.timing_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  136</span>        movement_event_3.timing.min_end_time = 5642;</div>
<div class="line"><span class="lineno">  137</span>        movement_event_3.timing.max_end_time_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  138</span>        movement_event_3.timing.max_end_time = 5768;</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        movement_state_3.state_time_speed.movement_event_list.push_back(movement_event_3);</div>
<div class="line"><span class="lineno">  141</span>        intersection_state_1.states.movement_list.push_back(movement_state_3);</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>        <span class="comment">//Fourth Movement State</span></div>
<div class="line"><span class="lineno">  144</span>        j2735_v2x_msgs::msg::MovementState movement_state_4;</div>
<div class="line"><span class="lineno">  145</span>        movement_state_4.signal_group = 4;</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>        j2735_v2x_msgs::msg::MovementEvent movement_event_4;</div>
<div class="line"><span class="lineno">  148</span>        movement_event_4.event_state.movement_phase_state = j2735_v2x_msgs::msg::MovementPhaseState::STOP_AND_REMAIN;</div>
<div class="line"><span class="lineno">  149</span>        movement_event_4.timing_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  150</span>        movement_event_4.timing.min_end_time = 5786;</div>
<div class="line"><span class="lineno">  151</span>        movement_event_4.timing.max_end_time_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  152</span>        movement_event_4.timing.max_end_time = 36001;</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>        movement_state_4.state_time_speed.movement_event_list.push_back(movement_event_4);</div>
<div class="line"><span class="lineno">  155</span>        intersection_state_1.states.movement_list.push_back(movement_state_4);</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>        <span class="comment">//Fifth Movement State</span></div>
<div class="line"><span class="lineno">  158</span>        j2735_v2x_msgs::msg::MovementState movement_state_5;</div>
<div class="line"><span class="lineno">  159</span>        movement_state_5.signal_group = 5;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>        j2735_v2x_msgs::msg::MovementEvent movement_event_5;</div>
<div class="line"><span class="lineno">  162</span>        movement_event_5.event_state.movement_phase_state = j2735_v2x_msgs::msg::MovementPhaseState::STOP_AND_REMAIN;</div>
<div class="line"><span class="lineno">  163</span>        movement_event_5.timing_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  164</span>        movement_event_5.timing.min_end_time = 5786;</div>
<div class="line"><span class="lineno">  165</span>        movement_event_5.timing.max_end_time_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  166</span>        movement_event_5.timing.max_end_time = 36001;</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>        movement_state_5.state_time_speed.movement_event_list.push_back(movement_event_5);</div>
<div class="line"><span class="lineno">  169</span>        intersection_state_1.states.movement_list.push_back(movement_state_5);</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>        message.intersections.intersection_state_list.push_back(intersection_state_1);</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>        <span class="keyword">auto</span> res = worker.<a class="code hl_function" href="classcpp__message_1_1SPAT__Message.html#a183e768bbadfcc662de85c0bf8e5e0a0">encode_spat_message</a>(message);</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    }</div>
<div class="ttc" id="aclasscpp__message_1_1SPAT__Message_html"><div class="ttname"><a href="classcpp__message_1_1SPAT__Message.html">cpp_message::SPAT_Message</a></div><div class="ttdef"><b>Definition:</b> <a href="SPAT__Message_8h_source.html#l00021">SPAT_Message.h:22</a></div></div>
<div class="ttc" id="aclasscpp__message_1_1SPAT__Message_html_a183e768bbadfcc662de85c0bf8e5e0a0"><div class="ttname"><a href="classcpp__message_1_1SPAT__Message.html#a183e768bbadfcc662de85c0bf8e5e0a0">cpp_message::SPAT_Message::encode_spat_message</a></div><div class="ttdeci">boost::optional&lt; std::vector&lt; uint8_t &gt; &gt; encode_spat_message(const j2735_v2x_msgs::msg::SPAT &amp;plainMessage)</div><div class="ttdoc">helper functions for SPAT message encoding.</div><div class="ttdef"><b>Definition:</b> <a href="SPAT__Message_8cpp_source.html#l00368">SPAT_Message.cpp:368</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="SPAT__Message_8cpp_source.html#l00368">cpp_message::SPAT_Message::encode_spat_message()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_a2f288a87d86a5cd8a35ee7337ca4db96_cgraph.png" border="0" usemap="#anamespacecpp__message_a2f288a87d86a5cd8a35ee7337ca4db96_cgraph" alt=""/></div>
<map name="anamespacecpp__message_a2f288a87d86a5cd8a35ee7337ca4db96_cgraph" id="anamespacecpp__message_a2f288a87d86a5cd8a35ee7337ca4db96_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,148,39"/>
<area shape="rect" href="classcpp__message_1_1SPAT__Message.html#a183e768bbadfcc662de85c0bf8e5e0a0" title="helper functions for SPAT message encoding." alt="" coords="196,5,400,47"/>
<area shape="rect" href="per__encoder_8h.html#ad9d25a879d4499db83fb133c1b8636b9" title=" " alt="" coords="448,13,601,39"/>
</map>
</div>

</div>
</div>
<a id="a2b414c4a36b4b2d1b6915dafb22336ed" name="a2b414c4a36b4b2d1b6915dafb22336ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b414c4a36b4b2d1b6915dafb22336ed">&#9670;&nbsp;</a></span>TEST() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cpp_message::TEST </td>
          <td>(</td>
          <td class="paramtype">SPATTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">testDECODESPAT&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__SPAT_8cpp_source.html#l00055">55</a> of file <a class="el" href="test__SPAT_8cpp_source.html">test_SPAT.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>    {</div>
<div class="line"><span class="lineno">   57</span>        std::string hex_message = <span class="stringliteral">&quot;00131c44630800812f6800000c2d40100204342b3fac0a0020232159495f9c&quot;</span>;</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>        <span class="comment">//Convert hex string to byte message</span></div>
<div class="line"><span class="lineno">   60</span>        std::vector&lt;uint8_t&gt; binary_input;</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>        std::vector&lt;char&gt; new_binary_input = <a class="code hl_function" href="namespacecpp__message.html#ad744f7904f0a7d580c3158d3962437ae">HexToBytes</a>(hex_message);</div>
<div class="line"><span class="lineno">   63</span>        std::vector&lt;uint8_t&gt; new_binary_input_int;</div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i&lt;new_binary_input.size();i++){</div>
<div class="line"><span class="lineno">   65</span>            new_binary_input_int.push_back(new_binary_input[i]);</div>
<div class="line"><span class="lineno">   66</span>        }</div>
<div class="line"><span class="lineno">   67</span>        </div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>        <a class="code hl_class" href="classcpp__message_1_1SPAT__Message.html">cpp_message::SPAT_Message</a> worker;        </div>
<div class="line"><span class="lineno">   70</span>        <span class="keyword">auto</span> res = worker.<a class="code hl_function" href="classcpp__message_1_1SPAT__Message.html#a95bc6ca9bced3cc99ed1b326d600dcbe">decode_spat_message</a>(new_binary_input_int);</div>
<div class="line"><span class="lineno">   71</span>        </div>
<div class="line"><span class="lineno">   72</span>        </div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">if</span>(res){</div>
<div class="line"><span class="lineno">   74</span>            EXPECT_EQ(res.get().time_stamp, 287496);</div>
<div class="line"><span class="lineno">   75</span>            EXPECT_EQ(<span class="keywordtype">int</span>(res.get().intersections.intersection_state_list.front().states.movement_list.front().signal_group), 2);</div>
<div class="line"><span class="lineno">   76</span>            EXPECT_EQ(res.get().intersections.intersection_state_list.front().states.movement_list.front().state_time_speed.movement_event_list.front().timing.min_end_time, 22143);</div>
<div class="line"><span class="lineno">   77</span>            EXPECT_EQ(res.get().intersections.intersection_state_list.front().states.movement_list.front().state_time_speed.movement_event_list.front().timing.max_end_time, 22548);</div>
<div class="line"><span class="lineno">   78</span>        }</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    }</div>
<div class="ttc" id="aclasscpp__message_1_1SPAT__Message_html_a95bc6ca9bced3cc99ed1b326d600dcbe"><div class="ttname"><a href="classcpp__message_1_1SPAT__Message.html#a95bc6ca9bced3cc99ed1b326d600dcbe">cpp_message::SPAT_Message::decode_spat_message</a></div><div class="ttdeci">boost::optional&lt; j2735_v2x_msgs::msg::SPAT &gt; decode_spat_message(std::vector&lt; uint8_t &gt; &amp;binary_array)</div><div class="ttdoc">SPAT message decoding function.</div><div class="ttdef"><b>Definition:</b> <a href="SPAT__Message_8cpp_source.html#l00027">SPAT_Message.cpp:27</a></div></div>
<div class="ttc" id="anamespacecpp__message_html_ad744f7904f0a7d580c3158d3962437ae"><div class="ttname"><a href="namespacecpp__message.html#ad744f7904f0a7d580c3158d3962437ae">cpp_message::HexToBytes</a></div><div class="ttdeci">std::vector&lt; char &gt; HexToBytes(const std::string &amp;hex)</div><div class="ttdef"><b>Definition:</b> <a href="test__SPAT_8cpp_source.html#l00043">test_SPAT.cpp:43</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="SPAT__Message_8cpp_source.html#l00027">cpp_message::SPAT_Message::decode_spat_message()</a>, and <a class="el" href="test__SPAT_8cpp_source.html#l00043">HexToBytes()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecpp__message_a2b414c4a36b4b2d1b6915dafb22336ed_cgraph.png" border="0" usemap="#anamespacecpp__message_a2b414c4a36b4b2d1b6915dafb22336ed_cgraph" alt=""/></div>
<map name="anamespacecpp__message_a2b414c4a36b4b2d1b6915dafb22336ed_cgraph" id="anamespacecpp__message_a2b414c4a36b4b2d1b6915dafb22336ed_cgraph">
<area shape="rect" title=" " alt="" coords="5,42,148,69"/>
<area shape="rect" href="classcpp__message_1_1SPAT__Message.html#a95bc6ca9bced3cc99ed1b326d600dcbe" title="SPAT message decoding function." alt="" coords="196,5,400,47"/>
<area shape="rect" href="namespacecpp__message.html#ad744f7904f0a7d580c3158d3962437ae" title=" " alt="" coords="208,71,388,98"/>
<area shape="rect" href="per__decoder_8h.html#a76f8c1079ff1986561a848a2b41c1bda" title=" " alt="" coords="448,13,544,39"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecpp__message.html">cpp_message</a></li>
    <li class="footer">Generated on Fri Sep 30 2022 14:30:58 for Carma-messenger by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
