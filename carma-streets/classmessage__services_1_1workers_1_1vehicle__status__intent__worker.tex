\hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker}{}\doxysection{message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker Class Reference}
\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker}\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}


{\ttfamily \#include $<$vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+h$>$}



Inheritance diagram for message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{classmessage__services_1_1workers_1_1vehicle__status__intent__worker__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmessage__services_1_1workers_1_1vehicle__status__intent__worker__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0b538812105f819ed42c01ecd0fcb7f9}{vehicle\+\_\+status\+\_\+intent\+\_\+worker}} ()
\item 
\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a47c09db9f6e85814d80c9861e16ebc7c}{$\sim$vehicle\+\_\+status\+\_\+intent\+\_\+worker}} ()
\item 
std\+::map$<$ std\+::string, \mbox{\hyperlink{classmessage__services_1_1models_1_1vehicle__status__intent}{models\+::vehicle\+\_\+status\+\_\+intent}} $>$ \& \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a6aee44d51857707cf9006138bb322a9c}{get\+\_\+curr\+\_\+map}} ()
\begin{DoxyCompactList}\small\item\em Return the vector of vehicle\+\_\+status\+\_\+intent stored in the \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker}{vehicle\+\_\+status\+\_\+intent\+\_\+worker}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_aba0e734ef382604c2c1334774bb497b7}{process\+\_\+incoming\+\_\+msg}} (const std\+::string json\+\_\+str)
\item 
void \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a94860377d60b4b8eb6b3fa7bd150e26b}{pop\+\_\+element\+\_\+from\+\_\+map}} (std\+::string key)
\begin{DoxyCompactList}\small\item\em Remove an element from vehicle\+\_\+status\+\_\+intent vector based on the element position. If the position is greater than the deque current size, the last element is removed. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0fca51325cb92540f94543004bea9953}{update\+\_\+by\+\_\+incoming\+\_\+bsm\+\_\+msg}} (\mbox{\hyperlink{classmessage__services_1_1models_1_1bsm}{models\+::bsm}} bsm)
\begin{DoxyCompactList}\small\item\em Update the vehicle status and intent base on the bsm info. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0203b3d7780e0bbdd10eebbb99eaf2a0}{update\+\_\+insert\+\_\+by\+\_\+incoming\+\_\+mobilityoperation\+\_\+msg}} (\mbox{\hyperlink{classmessage__services_1_1models_1_1mobilityoperation}{models\+::mobilityoperation}} mo)
\begin{DoxyCompactList}\small\item\em If the vehicle id from the Mobility\+Operation message exist in vehicle status and intent map, update the vehicle status and intent base on the Mobility\+Operation info. If the vehicle id from the Mobility\+Operation message does not exist in vehicle status and intent map, insert a new the vehicle status and intent object to the map base on the Mobility\+Operation info. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a26398faa5205b06efa6d35291d17288e}{update\+\_\+insert\+\_\+by\+\_\+incoming\+\_\+mobilitypath\+\_\+msg}} (\mbox{\hyperlink{classmessage__services_1_1models_1_1mobilitypath}{models\+::mobilitypath}} mp)
\begin{DoxyCompactList}\small\item\em If the vehicle id from the mobilitypath message exist in vehicle status and intent map, update the vehicle status and intent base on the mobilitypath info. If the vehicle id from the mobilitypath message does not exist in vehicle status and intent map, insert a new the vehicle status and intent object to the map base on the mobilitypath info. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::mutex \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a186dc54d0dbd56eb5bbd5fc1d41eac88}{worker\+\_\+mtx}}
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::map$<$ std\+::string, \mbox{\hyperlink{classmessage__services_1_1models_1_1vehicle__status__intent}{models\+::vehicle\+\_\+status\+\_\+intent}} $>$ \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\+\_\+map\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00020}{20}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8h_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0b538812105f819ed42c01ecd0fcb7f9}\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0b538812105f819ed42c01ecd0fcb7f9}} 
\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}!vehicle\_status\_intent\_worker@{vehicle\_status\_intent\_worker}}
\index{vehicle\_status\_intent\_worker@{vehicle\_status\_intent\_worker}!message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}
\doxysubsubsection{\texorpdfstring{vehicle\_status\_intent\_worker()}{vehicle\_status\_intent\_worker()}}
{\footnotesize\ttfamily message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00007}{7}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00007 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a47c09db9f6e85814d80c9861e16ebc7c}\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a47c09db9f6e85814d80c9861e16ebc7c}} 
\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}!````~vehicle\_status\_intent\_worker@{$\sim$vehicle\_status\_intent\_worker}}
\index{````~vehicle\_status\_intent\_worker@{$\sim$vehicle\_status\_intent\_worker}!message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}
\doxysubsubsection{\texorpdfstring{$\sim$vehicle\_status\_intent\_worker()}{~vehicle\_status\_intent\_worker()}}
{\footnotesize\ttfamily message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+::$\sim$vehicle\+\_\+status\+\_\+intent\+\_\+worker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00009}{9}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00010         \{}
\DoxyCodeLine{00011             this-\/>\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}}.clear();}
\DoxyCodeLine{00012         \}}

\end{DoxyCode}


References \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00023}{vsi\+\_\+map\+\_\+}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a6aee44d51857707cf9006138bb322a9c}\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a6aee44d51857707cf9006138bb322a9c}} 
\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}!get\_curr\_map@{get\_curr\_map}}
\index{get\_curr\_map@{get\_curr\_map}!message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}
\doxysubsubsection{\texorpdfstring{get\_curr\_map()}{get\_curr\_map()}}
{\footnotesize\ttfamily std\+::map$<$ std\+::string, \mbox{\hyperlink{classmessage__services_1_1models_1_1vehicle__status__intent}{models\+::vehicle\+\_\+status\+\_\+intent}} $>$ \& message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+::get\+\_\+curr\+\_\+map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Return the vector of vehicle\+\_\+status\+\_\+intent stored in the \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker}{vehicle\+\_\+status\+\_\+intent\+\_\+worker}}. 



Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00014}{14}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00015         \{}
\DoxyCodeLine{00016             \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}};}
\DoxyCodeLine{00017         \}}

\end{DoxyCode}


References \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00023}{vsi\+\_\+map\+\_\+}}.

\mbox{\Hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a94860377d60b4b8eb6b3fa7bd150e26b}\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a94860377d60b4b8eb6b3fa7bd150e26b}} 
\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}!pop\_element\_from\_map@{pop\_element\_from\_map}}
\index{pop\_element\_from\_map@{pop\_element\_from\_map}!message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}
\doxysubsubsection{\texorpdfstring{pop\_element\_from\_map()}{pop\_element\_from\_map()}}
{\footnotesize\ttfamily void message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+::pop\+\_\+element\+\_\+from\+\_\+map (\begin{DoxyParamCaption}\item[{std\+::string}]{key }\end{DoxyParamCaption})}



Remove an element from vehicle\+\_\+status\+\_\+intent vector based on the element position. If the position is greater than the deque current size, the last element is removed. 


\begin{DoxyParams}{Parameters}
{\em long} & Current element position in the vehicle\+\_\+status\+\_\+intent deque. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00019}{19}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00020         \{}
\DoxyCodeLine{00021             this-\/>\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}}.erase(key);}
\DoxyCodeLine{00022         \}}

\end{DoxyCode}


References \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00023}{vsi\+\_\+map\+\_\+}}.

\mbox{\Hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_aba0e734ef382604c2c1334774bb497b7}\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_aba0e734ef382604c2c1334774bb497b7}} 
\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}!process\_incoming\_msg@{process\_incoming\_msg}}
\index{process\_incoming\_msg@{process\_incoming\_msg}!message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}
\doxysubsubsection{\texorpdfstring{process\_incoming\_msg()}{process\_incoming\_msg()}}
{\footnotesize\ttfamily void message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+::process\+\_\+incoming\+\_\+msg (\begin{DoxyParamCaption}\item[{const std\+::string}]{json\+\_\+str }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classmessage__services_1_1workers_1_1base__worker_a2ad5dc4783ea3fe10147aa8d3e1f0e27}{message\+\_\+services\+::workers\+::base\+\_\+worker}}.



Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00118}{118}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00118 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0fca51325cb92540f94543004bea9953}\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0fca51325cb92540f94543004bea9953}} 
\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}!update\_by\_incoming\_bsm\_msg@{update\_by\_incoming\_bsm\_msg}}
\index{update\_by\_incoming\_bsm\_msg@{update\_by\_incoming\_bsm\_msg}!message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}
\doxysubsubsection{\texorpdfstring{update\_by\_incoming\_bsm\_msg()}{update\_by\_incoming\_bsm\_msg()}}
{\footnotesize\ttfamily void message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+::update\+\_\+by\+\_\+incoming\+\_\+bsm\+\_\+msg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classmessage__services_1_1models_1_1bsm}{models\+::bsm}}}]{bsm }\end{DoxyParamCaption})}



Update the vehicle status and intent base on the bsm info. 


\begin{DoxyParams}{Parameters}
{\em bsm\+\_\+obj} & an instance of bsm \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00024}{24}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00025         \{}
\DoxyCodeLine{00026             std::unique\_lock<std::mutex> lck(\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a186dc54d0dbd56eb5bbd5fc1d41eac88}{worker\_mtx}});}
\DoxyCodeLine{00027             std::map<std::string, models::vehicle\_status\_intent>::iterator itr = this-\/>\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}}.begin();}
\DoxyCodeLine{00028             \textcolor{keywordflow}{while} (itr != this-\/>\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}}.end())}
\DoxyCodeLine{00029             \{}
\DoxyCodeLine{00030                 \textcolor{keywordflow}{if} (itr-\/>second.getBsm\_id() == bsm.getCore\_data().temprary\_id)}
\DoxyCodeLine{00031                 \{}
\DoxyCodeLine{00032                     itr-\/>second.setCur\_speed(bsm.getCore\_data().speed);}
\DoxyCodeLine{00033                     itr-\/>second.setVehicle\_length(bsm.getCore\_data().size.length);}
\DoxyCodeLine{00034                     itr-\/>second.setBsm\_id(bsm.getCore\_data().temprary\_id);}
\DoxyCodeLine{00035                     \textcolor{comment}{//Todo other fields}}
\DoxyCodeLine{00036                 \}}
\DoxyCodeLine{00037                 ++itr;}
\DoxyCodeLine{00038             \}}
\DoxyCodeLine{00039         \}}

\end{DoxyCode}


References \mbox{\hyperlink{bsm_8cpp_source_l00227}{message\+\_\+services\+::models\+::bsm\+::get\+Core\+\_\+data()}}, \mbox{\hyperlink{bsmCoreData_8h_source_l00050}{message\+\_\+services\+::models\+::\+Vehicle\+Size\+::length}}, \mbox{\hyperlink{bsmCoreData_8h_source_l00068}{message\+\_\+services\+::models\+::bsm\+Core\+Data\+::size}}, \mbox{\hyperlink{bsmCoreData_8h_source_l00063}{message\+\_\+services\+::models\+::bsm\+Core\+Data\+::speed}}, \mbox{\hyperlink{bsmCoreData_8h_source_l00055}{message\+\_\+services\+::models\+::bsm\+Core\+Data\+::temprary\+\_\+id}}, \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00023}{vsi\+\_\+map\+\_\+}}, and \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00028}{worker\+\_\+mtx}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0fca51325cb92540f94543004bea9953_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0203b3d7780e0bbdd10eebbb99eaf2a0}\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0203b3d7780e0bbdd10eebbb99eaf2a0}} 
\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}!update\_insert\_by\_incoming\_mobilityoperation\_msg@{update\_insert\_by\_incoming\_mobilityoperation\_msg}}
\index{update\_insert\_by\_incoming\_mobilityoperation\_msg@{update\_insert\_by\_incoming\_mobilityoperation\_msg}!message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}
\doxysubsubsection{\texorpdfstring{update\_insert\_by\_incoming\_mobilityoperation\_msg()}{update\_insert\_by\_incoming\_mobilityoperation\_msg()}}
{\footnotesize\ttfamily void message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+::update\+\_\+insert\+\_\+by\+\_\+incoming\+\_\+mobilityoperation\+\_\+msg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classmessage__services_1_1models_1_1mobilityoperation}{models\+::mobilityoperation}}}]{mo }\end{DoxyParamCaption})}



If the vehicle id from the Mobility\+Operation message exist in vehicle status and intent map, update the vehicle status and intent base on the Mobility\+Operation info. If the vehicle id from the Mobility\+Operation message does not exist in vehicle status and intent map, insert a new the vehicle status and intent object to the map base on the Mobility\+Operation info. 


\begin{DoxyParams}{Parameters}
{\em mo\+\_\+obj} & an instance of mobilityoperation \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00041}{41}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00042         \{}
\DoxyCodeLine{00043             std::unique\_lock<std::mutex> lck(\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a186dc54d0dbd56eb5bbd5fc1d41eac88}{worker\_mtx}});}
\DoxyCodeLine{00044             std::map<std::string, models::vehicle\_status\_intent>::iterator itr = this-\/>\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}}.begin();}
\DoxyCodeLine{00045             \textcolor{keywordtype}{bool} is\_update = \textcolor{keyword}{false};}
\DoxyCodeLine{00046 }
\DoxyCodeLine{00047             \textcolor{keywordflow}{while} (itr != this-\/>\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}}.end())}
\DoxyCodeLine{00048             \{}
\DoxyCodeLine{00049                 \textcolor{keywordflow}{if} (itr-\/>first == mo.getHeader().sender\_id)}
\DoxyCodeLine{00050                 \{}
\DoxyCodeLine{00051                     is\_update = \textcolor{keyword}{true};}
\DoxyCodeLine{00052                     std::string is\_allowed\_int\_str = mo.get\_value\_from\_strategy\_params(\textcolor{stringliteral}{"{}is\_allowed\_int"{}});}
\DoxyCodeLine{00053                     \textcolor{keywordflow}{if} (is\_allowed\_int\_str.length() > 0)}
\DoxyCodeLine{00054                     \{}
\DoxyCodeLine{00055                         std::stringstream is\_allowed\_ss(is\_allowed\_int\_str);}
\DoxyCodeLine{00056                         \textcolor{keywordtype}{int} is\_allowed\_int;}
\DoxyCodeLine{00057                         is\_allowed\_ss >> is\_allowed\_int;}
\DoxyCodeLine{00058                         itr-\/>second.setIs\_allowed(is\_allowed\_int);}
\DoxyCodeLine{00059                     \}}
\DoxyCodeLine{00060                     itr-\/>second.setVehicle\_id(mo.getHeader().sender\_id);}
\DoxyCodeLine{00061                     itr-\/>second.setBsm\_id(mo.getHeader().sender\_bsm\_id);}
\DoxyCodeLine{00062                     itr-\/>second.setCur\_timestamp(mo.getHeader().timestamp);}
\DoxyCodeLine{00063                     \textcolor{comment}{//Todo other fields}}
\DoxyCodeLine{00064                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00065                 \}}
\DoxyCodeLine{00066                 ++itr;}
\DoxyCodeLine{00067             \}}
\DoxyCodeLine{00068 }
\DoxyCodeLine{00069             \textcolor{keywordflow}{if} (!is\_update)}
\DoxyCodeLine{00070             \{}
\DoxyCodeLine{00071                 models::vehicle\_status\_intent vsi\_obj;}
\DoxyCodeLine{00072                 std::string is\_allowed\_int\_str = mo.get\_value\_from\_strategy\_params(\textcolor{stringliteral}{"{}is\_allowed\_int"{}});}
\DoxyCodeLine{00073                 \textcolor{keywordflow}{if} (is\_allowed\_int\_str.length() > 0)}
\DoxyCodeLine{00074                 \{}
\DoxyCodeLine{00075                     std::stringstream is\_allowed\_ss(is\_allowed\_int\_str);}
\DoxyCodeLine{00076                     \textcolor{keywordtype}{int} is\_allowed\_int;}
\DoxyCodeLine{00077                     is\_allowed\_ss >> is\_allowed\_int;}
\DoxyCodeLine{00078                     vsi\_obj.setIs\_allowed(is\_allowed\_int);}
\DoxyCodeLine{00079                 \}}
\DoxyCodeLine{00080                 vsi\_obj.setVehicle\_id(mo.getHeader().sender\_id);}
\DoxyCodeLine{00081                 vsi\_obj.setBsm\_id(mo.getHeader().sender\_bsm\_id);}
\DoxyCodeLine{00082                 vsi\_obj.setCur\_timestamp(mo.getHeader().timestamp);}
\DoxyCodeLine{00083                 \textcolor{comment}{//Todo other fields}}
\DoxyCodeLine{00084 }
\DoxyCodeLine{00085                 \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}}[mo.getHeader().sender\_id] = vsi\_obj;}
\DoxyCodeLine{00086             \}}
\DoxyCodeLine{00087         \}}

\end{DoxyCode}


References \mbox{\hyperlink{mobilityoperation_8cpp_source_l00118}{message\+\_\+services\+::models\+::mobilityoperation\+::get\+\_\+value\+\_\+from\+\_\+strategy\+\_\+params()}}, \mbox{\hyperlink{mobilityoperation_8cpp_source_l00163}{message\+\_\+services\+::models\+::mobilityoperation\+::get\+Header()}}, \mbox{\hyperlink{mobilityHeader_8h_source_l00038}{message\+\_\+services\+::models\+::mobility\+\_\+header\+::sender\+\_\+bsm\+\_\+id}}, \mbox{\hyperlink{mobilityHeader_8h_source_l00035}{message\+\_\+services\+::models\+::mobility\+\_\+header\+::sender\+\_\+id}}, \mbox{\hyperlink{vehicle__status__intent_8cpp_source_l00357}{message\+\_\+services\+::models\+::vehicle\+\_\+status\+\_\+intent\+::set\+Bsm\+\_\+id()}}, \mbox{\hyperlink{vehicle__status__intent_8cpp_source_l00249}{message\+\_\+services\+::models\+::vehicle\+\_\+status\+\_\+intent\+::set\+Cur\+\_\+timestamp()}}, \mbox{\hyperlink{vehicle__status__intent_8cpp_source_l00293}{message\+\_\+services\+::models\+::vehicle\+\_\+status\+\_\+intent\+::set\+Is\+\_\+allowed()}}, \mbox{\hyperlink{vehicle__status__intent_8cpp_source_l00172}{message\+\_\+services\+::models\+::vehicle\+\_\+status\+\_\+intent\+::set\+Vehicle\+\_\+id()}}, \mbox{\hyperlink{mobilityHeader_8h_source_l00039}{message\+\_\+services\+::models\+::mobility\+\_\+header\+::timestamp}}, \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00023}{vsi\+\_\+map\+\_\+}}, and \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00028}{worker\+\_\+mtx}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a0203b3d7780e0bbdd10eebbb99eaf2a0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a26398faa5205b06efa6d35291d17288e}\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a26398faa5205b06efa6d35291d17288e}} 
\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}!update\_insert\_by\_incoming\_mobilitypath\_msg@{update\_insert\_by\_incoming\_mobilitypath\_msg}}
\index{update\_insert\_by\_incoming\_mobilitypath\_msg@{update\_insert\_by\_incoming\_mobilitypath\_msg}!message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}
\doxysubsubsection{\texorpdfstring{update\_insert\_by\_incoming\_mobilitypath\_msg()}{update\_insert\_by\_incoming\_mobilitypath\_msg()}}
{\footnotesize\ttfamily void message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+::update\+\_\+insert\+\_\+by\+\_\+incoming\+\_\+mobilitypath\+\_\+msg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classmessage__services_1_1models_1_1mobilitypath}{models\+::mobilitypath}}}]{mp }\end{DoxyParamCaption})}



If the vehicle id from the mobilitypath message exist in vehicle status and intent map, update the vehicle status and intent base on the mobilitypath info. If the vehicle id from the mobilitypath message does not exist in vehicle status and intent map, insert a new the vehicle status and intent object to the map base on the mobilitypath info. 


\begin{DoxyParams}{Parameters}
{\em mp\+\_\+obj} & an instance of mobilitypath \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00088}{88}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00089         \{}
\DoxyCodeLine{00090             std::unique\_lock<std::mutex> lck(\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a186dc54d0dbd56eb5bbd5fc1d41eac88}{worker\_mtx}});}
\DoxyCodeLine{00091             std::map<std::string, models::vehicle\_status\_intent>::iterator itr = this-\/>\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}}.begin();}
\DoxyCodeLine{00092             \textcolor{keywordtype}{bool} is\_update = \textcolor{keyword}{false};}
\DoxyCodeLine{00093             \textcolor{keywordflow}{while} (itr != this-\/>\mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}}.end())}
\DoxyCodeLine{00094             \{}
\DoxyCodeLine{00095                 \textcolor{keywordflow}{if} (itr-\/>first == mp.getHeader().sender\_id)}
\DoxyCodeLine{00096                 \{}
\DoxyCodeLine{00097                     is\_update = \textcolor{keyword}{true};}
\DoxyCodeLine{00098                     itr-\/>second.setVehicle\_id(mp.getHeader().sender\_id);}
\DoxyCodeLine{00099                     itr-\/>second.setBsm\_id(mp.getHeader().sender\_bsm\_id);}
\DoxyCodeLine{00100                     itr-\/>second.setCur\_timestamp(mp.getHeader().timestamp);}
\DoxyCodeLine{00101                     \textcolor{comment}{//Todo other fields}}
\DoxyCodeLine{00102                 \}}
\DoxyCodeLine{00103                 ++itr;}
\DoxyCodeLine{00104             \}}
\DoxyCodeLine{00105 }
\DoxyCodeLine{00106             \textcolor{keywordflow}{if} (!is\_update)}
\DoxyCodeLine{00107             \{}
\DoxyCodeLine{00108                 models::vehicle\_status\_intent vsi\_obj;}
\DoxyCodeLine{00109                 vsi\_obj.setVehicle\_id(mp.getHeader().sender\_id);}
\DoxyCodeLine{00110                 vsi\_obj.setBsm\_id(mp.getHeader().sender\_bsm\_id);}
\DoxyCodeLine{00111                 vsi\_obj.setCur\_timestamp(mp.getHeader().timestamp);}
\DoxyCodeLine{00112                 \textcolor{comment}{//Todo update other fields}}
\DoxyCodeLine{00113 }
\DoxyCodeLine{00114                 \mbox{\hyperlink{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}{vsi\_map\_}}[mp.getHeader().sender\_id] = vsi\_obj;}
\DoxyCodeLine{00115             \}}
\DoxyCodeLine{00116         \}}

\end{DoxyCode}


References \mbox{\hyperlink{mobilitypath_8cpp_source_l00192}{message\+\_\+services\+::models\+::mobilitypath\+::get\+Header()}}, \mbox{\hyperlink{mobilityHeader_8h_source_l00038}{message\+\_\+services\+::models\+::mobility\+\_\+header\+::sender\+\_\+bsm\+\_\+id}}, \mbox{\hyperlink{mobilityHeader_8h_source_l00035}{message\+\_\+services\+::models\+::mobility\+\_\+header\+::sender\+\_\+id}}, \mbox{\hyperlink{vehicle__status__intent_8cpp_source_l00357}{message\+\_\+services\+::models\+::vehicle\+\_\+status\+\_\+intent\+::set\+Bsm\+\_\+id()}}, \mbox{\hyperlink{vehicle__status__intent_8cpp_source_l00249}{message\+\_\+services\+::models\+::vehicle\+\_\+status\+\_\+intent\+::set\+Cur\+\_\+timestamp()}}, \mbox{\hyperlink{vehicle__status__intent_8cpp_source_l00172}{message\+\_\+services\+::models\+::vehicle\+\_\+status\+\_\+intent\+::set\+Vehicle\+\_\+id()}}, \mbox{\hyperlink{mobilityHeader_8h_source_l00039}{message\+\_\+services\+::models\+::mobility\+\_\+header\+::timestamp}}, \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00023}{vsi\+\_\+map\+\_\+}}, and \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00028}{worker\+\_\+mtx}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a26398faa5205b06efa6d35291d17288e_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a9b48463961d3f30cfb3fdae30343ffd1}} 
\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}!vsi\_map\_@{vsi\_map\_}}
\index{vsi\_map\_@{vsi\_map\_}!message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}
\doxysubsubsection{\texorpdfstring{vsi\_map\_}{vsi\_map\_}}
{\footnotesize\ttfamily std\+::map$<$std\+::string, \mbox{\hyperlink{classmessage__services_1_1models_1_1vehicle__status__intent}{models\+::vehicle\+\_\+status\+\_\+intent}}$>$ message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+::vsi\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00023}{23}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8h_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+h}}.



Referenced by \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00009}{$\sim$vehicle\+\_\+status\+\_\+intent\+\_\+worker()}}, \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00014}{get\+\_\+curr\+\_\+map()}}, \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00019}{pop\+\_\+element\+\_\+from\+\_\+map()}}, \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00024}{update\+\_\+by\+\_\+incoming\+\_\+bsm\+\_\+msg()}}, \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00041}{update\+\_\+insert\+\_\+by\+\_\+incoming\+\_\+mobilityoperation\+\_\+msg()}}, and \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00088}{update\+\_\+insert\+\_\+by\+\_\+incoming\+\_\+mobilitypath\+\_\+msg()}}.

\mbox{\Hypertarget{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a186dc54d0dbd56eb5bbd5fc1d41eac88}\label{classmessage__services_1_1workers_1_1vehicle__status__intent__worker_a186dc54d0dbd56eb5bbd5fc1d41eac88}} 
\index{message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}!worker\_mtx@{worker\_mtx}}
\index{worker\_mtx@{worker\_mtx}!message\_services::workers::vehicle\_status\_intent\_worker@{message\_services::workers::vehicle\_status\_intent\_worker}}
\doxysubsubsection{\texorpdfstring{worker\_mtx}{worker\_mtx}}
{\footnotesize\ttfamily std\+::mutex message\+\_\+services\+::workers\+::vehicle\+\_\+status\+\_\+intent\+\_\+worker\+::worker\+\_\+mtx}



Definition at line \mbox{\hyperlink{vehicle__status__intent__worker_8h_source_l00028}{28}} of file \mbox{\hyperlink{vehicle__status__intent__worker_8h_source}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+h}}.



Referenced by \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00024}{update\+\_\+by\+\_\+incoming\+\_\+bsm\+\_\+msg()}}, \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00041}{update\+\_\+insert\+\_\+by\+\_\+incoming\+\_\+mobilityoperation\+\_\+msg()}}, and \mbox{\hyperlink{vehicle__status__intent__worker_8cpp_source_l00088}{update\+\_\+insert\+\_\+by\+\_\+incoming\+\_\+mobilitypath\+\_\+msg()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
message\+\_\+services/include/\mbox{\hyperlink{vehicle__status__intent__worker_8h}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+h}}\item 
message\+\_\+services/src/workers/\mbox{\hyperlink{vehicle__status__intent__worker_8cpp}{vehicle\+\_\+status\+\_\+intent\+\_\+worker.\+cpp}}\end{DoxyCompactItemize}
