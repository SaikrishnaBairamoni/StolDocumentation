\hypertarget{classtraffic__signal__controller__service_1_1tsc__state}{}\doxysection{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state Class Reference}
\label{classtraffic__signal__controller__service_1_1tsc__state}\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}


{\ttfamily \#include $<$monitor\+\_\+tsc\+\_\+state.\+h$>$}



Collaboration diagram for traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_aedb4290f73cd4cfd58b04e1e05969781}{tsc\+\_\+state}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1snmp__client}{snmp\+\_\+client}} $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1snmp__client}{snmp\+\_\+client}})
\begin{DoxyCompactList}\small\item\em Constructor for the \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state}{tsc\+\_\+state}} class. \end{DoxyCompactList}\item 
std\+::unordered\+\_\+map$<$ int, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1signal__group__state}{signal\+\_\+group\+\_\+state}} $>$ \& \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a27876c0c6172cbb37788cadd97bf6ff3}{get\+\_\+signal\+\_\+group\+\_\+state\+\_\+map}} ()
\begin{DoxyCompactList}\small\item\em Return reference to signal group state map. \end{DoxyCompactList}\item 
const std\+::unordered\+\_\+map$<$ int, int $>$ \& \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a9af1335fd676f86de7fcbd38493d3985}{get\+\_\+ped\+\_\+phase\+\_\+map}} ()
\begin{DoxyCompactList}\small\item\em Returns a map of pedestrian phases to signal group ids. \end{DoxyCompactList}\item 
const std\+::unordered\+\_\+map$<$ int, int $>$ \& \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a40c96f54a5eb802026f93906dc1b77d8}{get\+\_\+vehicle\+\_\+phase\+\_\+map}} ()
\begin{DoxyCompactList}\small\item\em Returns a map of pedestrian phases to signal group ids. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_af051312a2931c0f7db32b3d0439a2e6b}{initialize}} ()
\begin{DoxyCompactList}\small\item\em Initialize \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state}{tsc\+\_\+state}} by making SNMP calls to TSC for phase sequence and timing information. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_af739a1bdb23638f28315e8680f407fdd}{add\+\_\+future\+\_\+movement\+\_\+events}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structsignal__phase__and__timing_1_1spat}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::spat}} $>$ spat\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em Updates spat with future movement events for vehicle phases. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a54bb0ddd47fca73403bbc52bbcfba988}{get\+\_\+phase\+\_\+channels}} (int max\+\_\+channels, std\+::vector$<$ int $>$ \&vehicle\+\_\+phase\+\_\+channels, std\+::vector$<$ int $>$ \&ped\+\_\+phase\+\_\+channels) const
\begin{DoxyCompactList}\small\item\em Creates vectors of channels associated with a vehicle phase and a pedestrian. Ignores overlap, ped Overlap, queue\+Jump and other (types defined in NTCIP1202 v03) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_af0f1926f5f6495742d204dbde1bf9dbb}{map\+\_\+phase\+\_\+and\+\_\+signalgroup}} (const std\+::vector$<$ int $>$ \&phase\+\_\+channels, bool is\+\_\+source\+\_\+vehicle\+\_\+channel)
\begin{DoxyCompactList}\small\item\em Constructs a map between phase number and signal group ids. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a2f1d658bc65133d1ba6b4f03d593ffb3}{get\+\_\+max\+\_\+channels}} () const
\begin{DoxyCompactList}\small\item\em Method for getting maximum channels for the traffic signal controller. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73acb7d06ec8d69783f369c504a3010c}{get\+\_\+min\+\_\+green}} (int phase\+\_\+num) const
\begin{DoxyCompactList}\small\item\em Get minimum green time for a phase. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_aa4dbbf6a17e37cbb38a43d4641bf3ec8}{get\+\_\+max\+\_\+green}} (int phase\+\_\+num) const
\begin{DoxyCompactList}\small\item\em Get maximum green time for a phase. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ae76cdfcdb7d2cbd8fcf0afef1d0f8925}{get\+\_\+yellow\+\_\+duration}} (int phase\+\_\+num) const
\begin{DoxyCompactList}\small\item\em Get yellow duration time for a phase. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ae5bfca513648fa55566289fe8a9de750}{get\+\_\+red\+\_\+clearance}} (int phase\+\_\+num) const
\begin{DoxyCompactList}\small\item\em Get red clearance time for a phase. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_acaee10dcfb57b70be35a81723b21761b}{get\+\_\+red\+\_\+duration}} (int phase\+\_\+num)
\begin{DoxyCompactList}\small\item\em Get red duration for a phase. \end{DoxyCompactList}\item 
std\+::vector$<$ int $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a08b298b1834ff6c717926a4d0d4b9ef7}{get\+\_\+following\+\_\+phases}} (int phase\+\_\+num)
\begin{DoxyCompactList}\small\item\em Get a sequence of phases following the given phase. \end{DoxyCompactList}\item 
std\+::vector$<$ int $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7}{phase\+\_\+seq}} (int ring\+\_\+num)
\begin{DoxyCompactList}\small\item\em Get a sequence of phases in the given ring. \end{DoxyCompactList}\item 
std\+::vector$<$ int $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a926ae227a45a7cec9c442c33eeade951}{get\+\_\+concurrent\+\_\+phases}} (int phase\+\_\+num) const
\begin{DoxyCompactList}\small\item\em The concurrent phases that the given phase can be green along with. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f}{convert\+\_\+msepoch\+\_\+to\+\_\+hour\+\_\+tenth\+\_\+secs}} (uint64\+\_\+t epoch\+\_\+time\+\_\+ms) const
\begin{DoxyCompactList}\small\item\em Helper function to convert epoch time to hour-\/tenths time. \end{DoxyCompactList}\item 
uint64\+\_\+t \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a6ac79c6f55b96327e9ad3ef8de6f0f5a}{convert\+\_\+hour\+\_\+tenth\+\_\+secs2epoch\+\_\+ts}} (uint16\+\_\+t hour\+\_\+tenth\+\_\+secs) const
\begin{DoxyCompactList}\small\item\em Helper function to convert hour-\/tenths time to epoch time. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::movement\+\_\+event}} \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a167cb5770186a005c223a92c5dcf207e}{get\+\_\+following\+\_\+event}} (const \mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::movement\+\_\+event}} \&current\+\_\+event, uint64\+\_\+t current\+\_\+event\+\_\+end\+\_\+time, const \mbox{\hyperlink{structtraffic__signal__controller__service_1_1signal__group__state}{signal\+\_\+group\+\_\+state}} \&phase\+\_\+state) const
\begin{DoxyCompactList}\small\item\em Get predicted next movement event given a current event. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a37ec67564429caa97a7a9a7e9e0e8832}{FRIEND\+\_\+\+TEST}} (traffic\+\_\+signal\+\_\+controller\+\_\+service, test\+\_\+get\+\_\+following\+\_\+movement\+\_\+events)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1snmp__client}{snmp\+\_\+client}} $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\+\_\+client\+\_\+worker\+\_\+}}
\item 
std\+::unordered\+\_\+map$<$ int, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1signal__group__state}{signal\+\_\+group\+\_\+state}} $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}{signal\+\_\+group\+\_\+state\+\_\+map\+\_\+}}
\item 
std\+::unordered\+\_\+map$<$ int, int $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a5589bc2137028ff1c1b7ec39bf360fb0}{signal\+\_\+group\+\_\+phase\+\_\+map\+\_\+}}
\item 
std\+::unordered\+\_\+map$<$ int, int $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\+\_\+phase\+\_\+num\+\_\+map\+\_\+}}
\item 
std\+::unordered\+\_\+map$<$ int, int $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a8f31ba52cf271dee1b6caec284f9103f}{ped\+\_\+phase\+\_\+num\+\_\+map\+\_\+}}
\item 
std\+::vector$<$ int $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a1f7c1e663e2b2e41e1d3cfb902208add}{phase\+\_\+seq\+\_\+ring1\+\_\+}}
\item 
std\+::vector$<$ int $>$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73756e2d00260dfccd9838cf147bf823}{phase\+\_\+seq\+\_\+ring2\+\_\+}}
\item 
int \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ace2712eeb290c972b3ead1c4ee7e7744}{required\+\_\+following\+\_\+movements\+\_\+}} = 3
\item 
int \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73f09fdaac8a6376b65ad18c44459c9c}{HOUR\+\_\+\+TO\+\_\+\+SECONDS\+\_\+}} = 3600
\item 
int \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a17d34ab64b5d3eda6f05a5f3c7622475}{SECOND\+\_\+\+TO\+\_\+\+MILLISECONDS\+\_\+}} = 1000
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00038}{38}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_aedb4290f73cd4cfd58b04e1e05969781}\label{classtraffic__signal__controller__service_1_1tsc__state_aedb4290f73cd4cfd58b04e1e05969781}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!tsc\_state@{tsc\_state}}
\index{tsc\_state@{tsc\_state}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{tsc\_state()}{tsc\_state()}}
{\footnotesize\ttfamily traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::tsc\+\_\+state (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classtraffic__signal__controller__service_1_1snmp__client}{snmp\+\_\+client}} $>$}]{snmp\+\_\+client }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Constructor for the \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state}{tsc\+\_\+state}} class. 


\begin{DoxyParams}{Parameters}
{\em \mbox{\hyperlink{classtraffic__signal__controller__service_1_1snmp__client}{snmp\+\_\+client}}} & A pointer to an \mbox{\hyperlink{classtraffic__signal__controller__service_1_1snmp__client}{snmp\+\_\+client}} worker with a connection established to a traffic signal controller \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00005}{5}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00005                                                                : \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\_client\_worker\_}}(snmp\_client)}
\DoxyCodeLine{00006     \{}
\DoxyCodeLine{00007         }
\DoxyCodeLine{00008     \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_af739a1bdb23638f28315e8680f407fdd}\label{classtraffic__signal__controller__service_1_1tsc__state_af739a1bdb23638f28315e8680f407fdd}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!add\_future\_movement\_events@{add\_future\_movement\_events}}
\index{add\_future\_movement\_events@{add\_future\_movement\_events}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{add\_future\_movement\_events()}{add\_future\_movement\_events()}}
{\footnotesize\ttfamily void traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::add\+\_\+future\+\_\+movement\+\_\+events (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structsignal__phase__and__timing_1_1spat}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::spat}} $>$}]{spat\+\_\+ptr }\end{DoxyParamCaption})}



Updates spat with future movement events for vehicle phases. 


\begin{DoxyParams}{Parameters}
{\em spat\+\_\+ptr} & pointer to spat message to update \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if update was successful, false if it failed 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00117}{117}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00118     \{}
\DoxyCodeLine{00119         \textcolor{comment}{// Modify spat according to phase configuration}}
\DoxyCodeLine{00120         \textcolor{comment}{// Note: Only first intersection is populated}}
\DoxyCodeLine{00121         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} movement : spat\_ptr-\/>intersections.front().states)}
\DoxyCodeLine{00122         \{}
\DoxyCodeLine{00123             \textcolor{keywordtype}{int} signal\_group\_id = movement.signal\_group;}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125             \textcolor{comment}{// Assumption here is that the movement states have only one event, since this method adds future events to the list.}}
\DoxyCodeLine{00126             \textcolor{comment}{//Throw exception is list size is great than 1}}
\DoxyCodeLine{00127             \textcolor{keywordflow}{if} (movement.state\_time\_speed.size() > 1)}
\DoxyCodeLine{00128             \{}
\DoxyCodeLine{00129                 SPDLOG\_ERROR(\textcolor{stringliteral}{"{}Event list has more than one events, not usable when adding future movement events. Associated with Signal Group: \{0\}"{}}, signal\_group\_id);}
\DoxyCodeLine{00130                 \textcolor{keywordflow}{throw} monitor\_states\_exception(\textcolor{stringliteral}{"{}Event list has more than one events, not usable when adding future movement events. Associated with Signal Group:"{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(signal\_group\_id));}
\DoxyCodeLine{00131             \}}
\DoxyCodeLine{00132 }
\DoxyCodeLine{00133             \textcolor{comment}{// Get movement\_state by reference}}
\DoxyCodeLine{00134             \textcolor{keyword}{auto}\& current\_movement = spat\_ptr-\/>intersections.front().get\_movement(signal\_group\_id);}
\DoxyCodeLine{00135 }
\DoxyCodeLine{00136             \textcolor{comment}{// Get start time as epoch time}}
\DoxyCodeLine{00137             uint64\_t start\_time = movement.state\_time\_speed.front().timing.get\_epoch\_start\_time();}
\DoxyCodeLine{00138             }
\DoxyCodeLine{00139             \textcolor{comment}{// Check if signal\_group\_id is associated with a vehicle phase : Only vehicle phases mapped to signal\_group\_states}}
\DoxyCodeLine{00140             signal\_group\_state phase\_state;}
\DoxyCodeLine{00141             \textcolor{keywordflow}{if}(\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}{signal\_group\_state\_map\_}}.find(signal\_group\_id) == \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}{signal\_group\_state\_map\_}}.end())\{}
\DoxyCodeLine{00142                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00143             \}}
\DoxyCodeLine{00144             }
\DoxyCodeLine{00145             phase\_state = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}{signal\_group\_state\_map\_}}[signal\_group\_id];}
\DoxyCodeLine{00146 }
\DoxyCodeLine{00147             uint64\_t current\_event\_end\_time\_epoch = 0;}
\DoxyCodeLine{00148             \mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event}{signal\_phase\_and\_timing::movement\_event}} current\_event = current\_movement.state\_time\_speed.front();}
\DoxyCodeLine{00149 }
\DoxyCodeLine{00150             \textcolor{keywordflow}{switch}(current\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6915afd2a08ca17039c92830ee633a30}{event\_state}})\{}
\DoxyCodeLine{00151                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14a03e3f63efcce21f01897bc0583979afa}{signal\_phase\_and\_timing::movement\_phase\_state::stop\_and\_remain}} : \textcolor{comment}{//Red}}
\DoxyCodeLine{00152                     current\_event\_end\_time\_epoch = start\_time + phase\_state.red\_duration;}
\DoxyCodeLine{00153                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00154 }
\DoxyCodeLine{00155                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14ababa6a65d4933ea6229e61b20668218b}{signal\_phase\_and\_timing::movement\_phase\_state::protected\_movement\_allowed}} : \textcolor{comment}{//Green}}
\DoxyCodeLine{00156                     current\_event\_end\_time\_epoch = start\_time + phase\_state.green\_duration;}
\DoxyCodeLine{00157                     \textcolor{keywordflow}{break};                                                                }
\DoxyCodeLine{00158 }
\DoxyCodeLine{00159                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14a909f43d0494b87359c21298b5310e4fc}{signal\_phase\_and\_timing::movement\_phase\_state::protected\_clearance}} : \textcolor{comment}{//Yellow}}
\DoxyCodeLine{00160                     current\_event\_end\_time\_epoch = start\_time + phase\_state.yellow\_duration;}
\DoxyCodeLine{00161                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00162 }
\DoxyCodeLine{00163                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00164                     SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}This movement phase is not supported. Movement phase type: \{0\}"{}}, \textcolor{keywordtype}{int}(current\_movement.state\_time\_speed.front().event\_state));}
\DoxyCodeLine{00165                     \textcolor{keywordflow}{throw} monitor\_states\_exception(\textcolor{stringliteral}{"{}This movement phase is not supported. Movement phase type: "{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(\textcolor{keywordtype}{int}(current\_movement.state\_time\_speed.front().event\_state)));}
\DoxyCodeLine{00166             \}}
\DoxyCodeLine{00167             \textcolor{comment}{// Update end\_time for current\_event}}
\DoxyCodeLine{00168             current\_movement.state\_time\_speed.front().timing.min\_end\_time = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f}{convert\_msepoch\_to\_hour\_tenth\_secs}}(current\_event\_end\_time\_epoch);}
\DoxyCodeLine{00169             current\_movement.state\_time\_speed.front().timing.max\_end\_time = current\_movement.state\_time\_speed.front().timing.min\_end\_time;}
\DoxyCodeLine{00170 }
\DoxyCodeLine{00171             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}} = 0; \mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}} < \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ace2712eeb290c972b3ead1c4ee7e7744}{required\_following\_movements\_}}; ++\mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}})}
\DoxyCodeLine{00172             \{}
\DoxyCodeLine{00173                 \mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event}{signal\_phase\_and\_timing::movement\_event}} next\_event = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a167cb5770186a005c223a92c5dcf207e}{get\_following\_event}}(current\_event, current\_event\_end\_time\_epoch, phase\_state);}
\DoxyCodeLine{00174                 current\_event = next\_event;}
\DoxyCodeLine{00175                 current\_event\_end\_time\_epoch = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a6ac79c6f55b96327e9ad3ef8de6f0f5a}{convert\_hour\_tenth\_secs2epoch\_ts}}(current\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6250e85c7ca1b039806b6326812648d3}{timing}}.\mbox{\hyperlink{structsignal__phase__and__timing_1_1time__change__details_ad39cfa60daafb321241d3a00fea563e5}{min\_end\_time}});}
\DoxyCodeLine{00176                 \textcolor{comment}{//Add events to list}}
\DoxyCodeLine{00177                 current\_movement.state\_time\_speed.push\_back(next\_event);}
\DoxyCodeLine{00178             \}}
\DoxyCodeLine{00179             }
\DoxyCodeLine{00180         \}}
\DoxyCodeLine{00181         }
\DoxyCodeLine{00182     \}}

\end{DoxyCode}


References \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00468}{convert\+\_\+hour\+\_\+tenth\+\_\+secs2epoch\+\_\+ts()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00460}{convert\+\_\+msepoch\+\_\+to\+\_\+hour\+\_\+tenth\+\_\+secs()}}, \mbox{\hyperlink{movement__event_8h_source_l00115}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::movement\+\_\+event\+::event\+\_\+state}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00083}{get\+\_\+following\+\_\+event()}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00025}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::green\+\_\+duration}}, \mbox{\hyperlink{simulate__bsm_8py_source_l00019}{simulate\+\_\+bsm\+::i}}, \mbox{\hyperlink{time__change__details_8h_source_l00021}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::time\+\_\+change\+\_\+details\+::min\+\_\+end\+\_\+time}}, \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14a909f43d0494b87359c21298b5310e4fc}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::protected\+\_\+clearance}}, \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14ababa6a65d4933ea6229e61b20668218b}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::protected\+\_\+movement\+\_\+allowed}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00031}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::red\+\_\+duration}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00062}{required\+\_\+following\+\_\+movements\+\_\+}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00045}{signal\+\_\+group\+\_\+state\+\_\+map\+\_\+}}, \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14a03e3f63efcce21f01897bc0583979afa}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::stop\+\_\+and\+\_\+remain}}, \mbox{\hyperlink{movement__event_8h_source_l00121}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::movement\+\_\+event\+::timing}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, and \mbox{\hyperlink{monitor__tsc__state_8h_source_l00027}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::yellow\+\_\+duration}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_af739a1bdb23638f28315e8680f407fdd_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a6ac79c6f55b96327e9ad3ef8de6f0f5a}\label{classtraffic__signal__controller__service_1_1tsc__state_a6ac79c6f55b96327e9ad3ef8de6f0f5a}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!convert\_hour\_tenth\_secs2epoch\_ts@{convert\_hour\_tenth\_secs2epoch\_ts}}
\index{convert\_hour\_tenth\_secs2epoch\_ts@{convert\_hour\_tenth\_secs2epoch\_ts}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{convert\_hour\_tenth\_secs2epoch\_ts()}{convert\_hour\_tenth\_secs2epoch\_ts()}}
{\footnotesize\ttfamily uint64\+\_\+t traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::convert\+\_\+hour\+\_\+tenth\+\_\+secs2epoch\+\_\+ts (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{hour\+\_\+tenth\+\_\+secs }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Helper function to convert hour-\/tenths time to epoch time. 


\begin{DoxyParams}{Parameters}
{\em hour\+\_\+tenth\+\_\+secs} & tenths of a second in current or next hour \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
epoch time in milliseconds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00468}{468}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00468                                                                                       \{}
\DoxyCodeLine{00469         \textcolor{keyword}{auto} tp = std::chrono::system\_clock::now();}
\DoxyCodeLine{00470         \textcolor{keyword}{auto} duration = tp.time\_since\_epoch();}
\DoxyCodeLine{00471         \textcolor{keyword}{auto} hours\_since\_epoch = std::chrono::duration\_cast<std::chrono::hours>(duration).count();}
\DoxyCodeLine{00472         \textcolor{keyword}{auto} epoch\_start\_time = hours\_since\_epoch * \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73f09fdaac8a6376b65ad18c44459c9c}{HOUR\_TO\_SECONDS\_}} * \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a17d34ab64b5d3eda6f05a5f3c7622475}{SECOND\_TO\_MILLISECONDS\_}} + hour\_tenth\_secs * 100;}
\DoxyCodeLine{00473         \textcolor{keywordflow}{return} epoch\_start\_time;}
\DoxyCodeLine{00474     \}}

\end{DoxyCode}


References \mbox{\hyperlink{monitor__tsc__state_8h_source_l00065}{HOUR\+\_\+\+TO\+\_\+\+SECONDS\+\_\+}}, and \mbox{\hyperlink{monitor__tsc__state_8h_source_l00066}{SECOND\+\_\+\+TO\+\_\+\+MILLISECONDS\+\_\+}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00117}{add\+\_\+future\+\_\+movement\+\_\+events()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_a6ac79c6f55b96327e9ad3ef8de6f0f5a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f}\label{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!convert\_msepoch\_to\_hour\_tenth\_secs@{convert\_msepoch\_to\_hour\_tenth\_secs}}
\index{convert\_msepoch\_to\_hour\_tenth\_secs@{convert\_msepoch\_to\_hour\_tenth\_secs}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{convert\_msepoch\_to\_hour\_tenth\_secs()}{convert\_msepoch\_to\_hour\_tenth\_secs()}}
{\footnotesize\ttfamily uint16\+\_\+t traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::convert\+\_\+msepoch\+\_\+to\+\_\+hour\+\_\+tenth\+\_\+secs (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{epoch\+\_\+time\+\_\+ms }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Helper function to convert epoch time to hour-\/tenths time. 


\begin{DoxyParams}{Parameters}
{\em epoch\+\_\+time\+\_\+ms} & epoch time in milliseconds \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tenths of a second in current or next hour 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00460}{460}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00460                                                                                       \{}
\DoxyCodeLine{00461         \textcolor{keyword}{auto} system\_time = std::chrono::system\_clock::now();}
\DoxyCodeLine{00462         \textcolor{keyword}{auto} duration = system\_time.time\_since\_epoch();}
\DoxyCodeLine{00463         \textcolor{keyword}{auto} hours\_since\_epoch = std::chrono::duration\_cast<std::chrono::hours>(duration).count();}
\DoxyCodeLine{00464         \textcolor{keyword}{auto} hour\_tenth\_secs = (epoch\_time\_ms -\/ (hours\_since\_epoch * \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73f09fdaac8a6376b65ad18c44459c9c}{HOUR\_TO\_SECONDS\_}} * \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a17d34ab64b5d3eda6f05a5f3c7622475}{SECOND\_TO\_MILLISECONDS\_}}))/100;}
\DoxyCodeLine{00465         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(hour\_tenth\_secs);}
\DoxyCodeLine{00466     \}}

\end{DoxyCode}


References \mbox{\hyperlink{monitor__tsc__state_8h_source_l00065}{HOUR\+\_\+\+TO\+\_\+\+SECONDS\+\_\+}}, and \mbox{\hyperlink{monitor__tsc__state_8h_source_l00066}{SECOND\+\_\+\+TO\+\_\+\+MILLISECONDS\+\_\+}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00117}{add\+\_\+future\+\_\+movement\+\_\+events()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00083}{get\+\_\+following\+\_\+event()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a37ec67564429caa97a7a9a7e9e0e8832}\label{classtraffic__signal__controller__service_1_1tsc__state_a37ec67564429caa97a7a9a7e9e0e8832}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!FRIEND\_TEST@{FRIEND\_TEST}}
\index{FRIEND\_TEST@{FRIEND\_TEST}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{FRIEND\_TEST()}{FRIEND\_TEST()}}
{\footnotesize\ttfamily traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::\+FRIEND\+\_\+\+TEST (\begin{DoxyParamCaption}\item[{traffic\+\_\+signal\+\_\+controller\+\_\+service}]{,  }\item[{test\+\_\+get\+\_\+following\+\_\+movement\+\_\+events}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a926ae227a45a7cec9c442c33eeade951}\label{classtraffic__signal__controller__service_1_1tsc__state_a926ae227a45a7cec9c442c33eeade951}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_concurrent\_phases@{get\_concurrent\_phases}}
\index{get\_concurrent\_phases@{get\_concurrent\_phases}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_concurrent\_phases()}{get\_concurrent\_phases()}}
{\footnotesize\ttfamily std\+::vector$<$ int $>$ traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+concurrent\+\_\+phases (\begin{DoxyParamCaption}\item[{int}]{phase\+\_\+num }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



The concurrent phases that the given phase can be green along with. 


\begin{DoxyParams}{Parameters}
{\em ring\+\_\+num} & The phase for which the concurrent phases needs to be obtained \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a vector of phases that may be concurrent with the given phase 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00419}{419}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00420     \{}
\DoxyCodeLine{00421 }
\DoxyCodeLine{00422         std::vector<int> concurrent\_phases;}
\DoxyCodeLine{00423         std::string concurrent\_phases\_oid = \mbox{\hyperlink{namespacentcip__oids_aedc3a19c20b2cd545d70616264b5805d}{ntcip\_oids::PHASE\_CONCURRENCY}} + \textcolor{stringliteral}{"{}."{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(phase\_num);}
\DoxyCodeLine{00424 }
\DoxyCodeLine{00425         snmp\_response\_obj concurrent\_phase\_data;}
\DoxyCodeLine{00426         \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} = \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{request\_type::GET}};}
\DoxyCodeLine{00427         concurrent\_phase\_data.type = \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa63b588d5559f64f89a416e656880b949}{snmp\_response\_obj::response\_type::STRING}};}
\DoxyCodeLine{00428         \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\_client\_worker\_}}-\/>process\_snmp\_request(concurrent\_phases\_oid, \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}}, concurrent\_phase\_data);}
\DoxyCodeLine{00429 }
\DoxyCodeLine{00430         \textcolor{comment}{//extract phase numbers from strings}}
\DoxyCodeLine{00431         \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} con\_phase :  concurrent\_phase\_data.val\_string)}
\DoxyCodeLine{00432         \{   }
\DoxyCodeLine{00433             concurrent\_phases.push\_back(\textcolor{keywordtype}{int}(con\_phase));}
\DoxyCodeLine{00434             }
\DoxyCodeLine{00435         \}}
\DoxyCodeLine{00436 }
\DoxyCodeLine{00437         \textcolor{keywordflow}{if}(concurrent\_phases.empty())}
\DoxyCodeLine{00438         \{}
\DoxyCodeLine{00439             SPDLOG\_WARN(\textcolor{stringliteral}{"{}No phases found in sequence for phase \{0\}"{}}, phase\_num);}
\DoxyCodeLine{00440         \}}
\DoxyCodeLine{00441 }
\DoxyCodeLine{00442         \textcolor{keywordflow}{return} concurrent\_phases;}
\DoxyCodeLine{00443     \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::\+GET}}, \mbox{\hyperlink{ntcip__oids_8h_source_l00072}{ntcip\+\_\+oids\+::\+PHASE\+\_\+\+CONCURRENCY}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00042}{snmp\+\_\+client\+\_\+worker\+\_\+}}, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa63b588d5559f64f89a416e656880b949}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::\+STRING}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, \mbox{\hyperlink{snmp__client_8h_source_l00039}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::type}}, and \mbox{\hyperlink{snmp__client_8h_source_l00038}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::val\+\_\+string}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{classtraffic__signal__controller__service_1_1tsc__state_a926ae227a45a7cec9c442c33eeade951_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_a926ae227a45a7cec9c442c33eeade951_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a167cb5770186a005c223a92c5dcf207e}\label{classtraffic__signal__controller__service_1_1tsc__state_a167cb5770186a005c223a92c5dcf207e}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_following\_event@{get\_following\_event}}
\index{get\_following\_event@{get\_following\_event}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_following\_event()}{get\_following\_event()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::movement\+\_\+event}} traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+following\+\_\+event (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::movement\+\_\+event}} \&}]{current\+\_\+event,  }\item[{uint64\+\_\+t}]{current\+\_\+event\+\_\+end\+\_\+time,  }\item[{const \mbox{\hyperlink{structtraffic__signal__controller__service_1_1signal__group__state}{signal\+\_\+group\+\_\+state}} \&}]{phase\+\_\+state }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Get predicted next movement event given a current event. 


\begin{DoxyParams}{Parameters}
{\em current\+\_\+event} & movement\+\_\+event from the next movement needs to be predicted \\
\hline
{\em current\+\_\+event\+\_\+end\+\_\+time} & End time of the current event in epoch time (milliseconds) \\
\hline
{\em phase\+\_\+state} & \mbox{\hyperlink{structtraffic__signal__controller__service_1_1signal__group__state}{signal\+\_\+group\+\_\+state}} for the phase of which the movement events are a part \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
predicted next movement event 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00083}{83}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00085     \{}
\DoxyCodeLine{00086         \mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event}{signal\_phase\_and\_timing::movement\_event}} next\_event;}
\DoxyCodeLine{00087         \textcolor{keywordflow}{switch} (current\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6915afd2a08ca17039c92830ee633a30}{event\_state}})\{}
\DoxyCodeLine{00088             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14ababa6a65d4933ea6229e61b20668218b}{signal\_phase\_and\_timing::movement\_phase\_state::protected\_movement\_allowed}}: \textcolor{comment}{//Green}}
\DoxyCodeLine{00089                 \textcolor{comment}{// Create next movement -\/ yellow}}
\DoxyCodeLine{00090                 next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6915afd2a08ca17039c92830ee633a30}{event\_state}} = \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14a909f43d0494b87359c21298b5310e4fc}{signal\_phase\_and\_timing::movement\_phase\_state::protected\_clearance}};}
\DoxyCodeLine{00091                 next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6250e85c7ca1b039806b6326812648d3}{timing}}.\mbox{\hyperlink{structsignal__phase__and__timing_1_1time__change__details_aa43eafdf46377a5743e82b5be8ce3133}{start\_time}} = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f}{convert\_msepoch\_to\_hour\_tenth\_secs}}(current\_event\_end\_time);}
\DoxyCodeLine{00092                 next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6250e85c7ca1b039806b6326812648d3}{timing}}.\mbox{\hyperlink{structsignal__phase__and__timing_1_1time__change__details_ad39cfa60daafb321241d3a00fea563e5}{min\_end\_time}} = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f}{convert\_msepoch\_to\_hour\_tenth\_secs}}(current\_event\_end\_time + phase\_state.yellow\_duration);}
\DoxyCodeLine{00093                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14a909f43d0494b87359c21298b5310e4fc}{signal\_phase\_and\_timing::movement\_phase\_state::protected\_clearance}}: \textcolor{comment}{//Yellow}}
\DoxyCodeLine{00096                 \textcolor{comment}{// Create next movement -\/ red}}
\DoxyCodeLine{00097                 next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6915afd2a08ca17039c92830ee633a30}{event\_state}} = \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14a03e3f63efcce21f01897bc0583979afa}{signal\_phase\_and\_timing::movement\_phase\_state::stop\_and\_remain}};}
\DoxyCodeLine{00098                 next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6250e85c7ca1b039806b6326812648d3}{timing}}.\mbox{\hyperlink{structsignal__phase__and__timing_1_1time__change__details_aa43eafdf46377a5743e82b5be8ce3133}{start\_time}} = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f}{convert\_msepoch\_to\_hour\_tenth\_secs}}(current\_event\_end\_time); }
\DoxyCodeLine{00099                 next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6250e85c7ca1b039806b6326812648d3}{timing}}.\mbox{\hyperlink{structsignal__phase__and__timing_1_1time__change__details_ad39cfa60daafb321241d3a00fea563e5}{min\_end\_time}} = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f}{convert\_msepoch\_to\_hour\_tenth\_secs}}(current\_event\_end\_time + phase\_state.red\_duration);}
\DoxyCodeLine{00100                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00102             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14a03e3f63efcce21f01897bc0583979afa}{signal\_phase\_and\_timing::movement\_phase\_state::stop\_and\_remain}}:  \textcolor{comment}{//Red}}
\DoxyCodeLine{00103                 \textcolor{comment}{// Create next movement -\/ green}}
\DoxyCodeLine{00104                 next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6915afd2a08ca17039c92830ee633a30}{event\_state}} = \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14ababa6a65d4933ea6229e61b20668218b}{signal\_phase\_and\_timing::movement\_phase\_state::protected\_movement\_allowed}};}
\DoxyCodeLine{00105                 next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6250e85c7ca1b039806b6326812648d3}{timing}}.\mbox{\hyperlink{structsignal__phase__and__timing_1_1time__change__details_aa43eafdf46377a5743e82b5be8ce3133}{start\_time}} = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f}{convert\_msepoch\_to\_hour\_tenth\_secs}}(current\_event\_end\_time);}
\DoxyCodeLine{00106                 next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6250e85c7ca1b039806b6326812648d3}{timing}}.\mbox{\hyperlink{structsignal__phase__and__timing_1_1time__change__details_ad39cfa60daafb321241d3a00fea563e5}{min\_end\_time}} = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ab63c22e776c61212200f708edc26159f}{convert\_msepoch\_to\_hour\_tenth\_secs}}(current\_event\_end\_time + phase\_state.green\_duration);}
\DoxyCodeLine{00107                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{00108 }
\DoxyCodeLine{00109             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00110                 SPDLOG\_ERROR(\textcolor{stringliteral}{"{}This movement phase is not supported. Movement phase type: \{0\}"{}}, \textcolor{keywordtype}{int}(current\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6915afd2a08ca17039c92830ee633a30}{event\_state}}));}
\DoxyCodeLine{00111                 \textcolor{keywordflow}{throw} snmp\_client\_exception(\textcolor{stringliteral}{"{}Failed request for unsupported movement phase type: "{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(\textcolor{keywordtype}{int}(current\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6915afd2a08ca17039c92830ee633a30}{event\_state}})));}
\DoxyCodeLine{00112         \}}
\DoxyCodeLine{00113         next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6250e85c7ca1b039806b6326812648d3}{timing}}.\mbox{\hyperlink{structsignal__phase__and__timing_1_1time__change__details_a1c9501b5a44c66a178b8753db439a753}{max\_end\_time}} = next\_event.\mbox{\hyperlink{structsignal__phase__and__timing_1_1movement__event_a6250e85c7ca1b039806b6326812648d3}{timing}}.\mbox{\hyperlink{structsignal__phase__and__timing_1_1time__change__details_ad39cfa60daafb321241d3a00fea563e5}{min\_end\_time}};}
\DoxyCodeLine{00114         \textcolor{keywordflow}{return} next\_event;}
\DoxyCodeLine{00115     \}}

\end{DoxyCode}


References \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00460}{convert\+\_\+msepoch\+\_\+to\+\_\+hour\+\_\+tenth\+\_\+secs()}}, \mbox{\hyperlink{movement__event_8h_source_l00115}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::movement\+\_\+event\+::event\+\_\+state}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00025}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::green\+\_\+duration}}, \mbox{\hyperlink{time__change__details_8h_source_l00025}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::time\+\_\+change\+\_\+details\+::max\+\_\+end\+\_\+time}}, \mbox{\hyperlink{time__change__details_8h_source_l00021}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::time\+\_\+change\+\_\+details\+::min\+\_\+end\+\_\+time}}, \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14a909f43d0494b87359c21298b5310e4fc}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::protected\+\_\+clearance}}, \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14ababa6a65d4933ea6229e61b20668218b}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::protected\+\_\+movement\+\_\+allowed}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00031}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::red\+\_\+duration}}, \mbox{\hyperlink{time__change__details_8h_source_l00017}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::time\+\_\+change\+\_\+details\+::start\+\_\+time}}, \mbox{\hyperlink{namespacesignal__phase__and__timing_a89bd5b280352669f719b2c36a9dc2a14a03e3f63efcce21f01897bc0583979afa}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::stop\+\_\+and\+\_\+remain}}, \mbox{\hyperlink{movement__event_8h_source_l00121}{signal\+\_\+phase\+\_\+and\+\_\+timing\+::movement\+\_\+event\+::timing}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, and \mbox{\hyperlink{monitor__tsc__state_8h_source_l00027}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::yellow\+\_\+duration}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00117}{add\+\_\+future\+\_\+movement\+\_\+events()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_a167cb5770186a005c223a92c5dcf207e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_a167cb5770186a005c223a92c5dcf207e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a08b298b1834ff6c717926a4d0d4b9ef7}\label{classtraffic__signal__controller__service_1_1tsc__state_a08b298b1834ff6c717926a4d0d4b9ef7}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_following\_phases@{get\_following\_phases}}
\index{get\_following\_phases@{get\_following\_phases}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_following\_phases()}{get\_following\_phases()}}
{\footnotesize\ttfamily std\+::vector$<$ int $>$ traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+following\+\_\+phases (\begin{DoxyParamCaption}\item[{int}]{phase\+\_\+num }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Get a sequence of phases following the given phase. 


\begin{DoxyParams}{Parameters}
{\em phase\+\_\+num} & The phase for which the sequence needs to be obtained \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a vector as a sequence of phases starting from the given phase 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00184}{184}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00185     \{}
\DoxyCodeLine{00186         std::vector<int> sequence;}
\DoxyCodeLine{00187 }
\DoxyCodeLine{00188         \textcolor{comment}{// Add phase sequence to signal group state}}
\DoxyCodeLine{00189         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}} = 0; \mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}} < \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a1f7c1e663e2b2e41e1d3cfb902208add}{phase\_seq\_ring1\_}}.size();++\mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}})}
\DoxyCodeLine{00190         \{}
\DoxyCodeLine{00191             \textcolor{keywordflow}{if}(\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a1f7c1e663e2b2e41e1d3cfb902208add}{phase\_seq\_ring1\_}}[\mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}}] == phase\_num)}
\DoxyCodeLine{00192             \{}
\DoxyCodeLine{00193                 sequence.insert(sequence.begin(), \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a1f7c1e663e2b2e41e1d3cfb902208add}{phase\_seq\_ring1\_}}.begin() + \mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}}, \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a1f7c1e663e2b2e41e1d3cfb902208add}{phase\_seq\_ring1\_}}.end());}
\DoxyCodeLine{00194                 sequence.insert(sequence.end(), \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a1f7c1e663e2b2e41e1d3cfb902208add}{phase\_seq\_ring1\_}}.begin(), \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a1f7c1e663e2b2e41e1d3cfb902208add}{phase\_seq\_ring1\_}}.begin() + \mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}});}
\DoxyCodeLine{00195 }
\DoxyCodeLine{00196                 \textcolor{keywordflow}{return} sequence; }
\DoxyCodeLine{00197             \}}
\DoxyCodeLine{00198         \}}
\DoxyCodeLine{00199 }
\DoxyCodeLine{00200         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}} = 0; \mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}} < \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73756e2d00260dfccd9838cf147bf823}{phase\_seq\_ring2\_}}.size();++\mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}})}
\DoxyCodeLine{00201         \{}
\DoxyCodeLine{00202             \textcolor{keywordflow}{if}(\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73756e2d00260dfccd9838cf147bf823}{phase\_seq\_ring2\_}}[\mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}}] == phase\_num)}
\DoxyCodeLine{00203             \{}
\DoxyCodeLine{00204                 sequence.insert(sequence.begin(), \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73756e2d00260dfccd9838cf147bf823}{phase\_seq\_ring2\_}}.begin() + \mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}}, \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73756e2d00260dfccd9838cf147bf823}{phase\_seq\_ring2\_}}.end());}
\DoxyCodeLine{00205                 sequence.insert(sequence.end(), \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73756e2d00260dfccd9838cf147bf823}{phase\_seq\_ring2\_}}.begin(), \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73756e2d00260dfccd9838cf147bf823}{phase\_seq\_ring2\_}}.begin() + \mbox{\hyperlink{namespacesimulate__bsm_a29b8e2f01a805057636de5ad54422c21}{i}});}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207                 \textcolor{keywordflow}{return} sequence; }
\DoxyCodeLine{00208             \}}
\DoxyCodeLine{00209         \}}
\DoxyCodeLine{00210         \textcolor{comment}{// No following phase information found}}
\DoxyCodeLine{00211         \textcolor{keywordflow}{throw} snmp\_client\_exception(\textcolor{stringliteral}{"{}No following phases found"{}});}
\DoxyCodeLine{00212     \}}

\end{DoxyCode}


References \mbox{\hyperlink{simulate__bsm_8py_source_l00019}{simulate\+\_\+bsm\+::i}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00057}{phase\+\_\+seq\+\_\+ring1\+\_\+}}, and \mbox{\hyperlink{monitor__tsc__state_8h_source_l00059}{phase\+\_\+seq\+\_\+ring2\+\_\+}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_a08b298b1834ff6c717926a4d0d4b9ef7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a2f1d658bc65133d1ba6b4f03d593ffb3}\label{classtraffic__signal__controller__service_1_1tsc__state_a2f1d658bc65133d1ba6b4f03d593ffb3}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_max\_channels@{get\_max\_channels}}
\index{get\_max\_channels@{get\_max\_channels}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_max\_channels()}{get\_max\_channels()}}
{\footnotesize\ttfamily int traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+max\+\_\+channels (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Method for getting maximum channels for the traffic signal controller. 

\begin{DoxyReturn}{Returns}
number of maximum channels in the traffic signal controller 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00214}{214}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00214                                           \{}
\DoxyCodeLine{00215         \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} = \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{request\_type::GET}};}
\DoxyCodeLine{00216         snmp\_response\_obj max\_channels\_in\_tsc;}
\DoxyCodeLine{00217         max\_channels\_in\_tsc.type = \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{snmp\_response\_obj::response\_type::INTEGER}};}
\DoxyCodeLine{00218 }
\DoxyCodeLine{00219         \textcolor{keywordflow}{if}(!\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\_client\_worker\_}}-\/>process\_snmp\_request(\mbox{\hyperlink{namespacentcip__oids_a5e92b2d342b6fa23f9be040041b5d631}{ntcip\_oids::MAX\_CHANNELS}}, \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}}, max\_channels\_in\_tsc))}
\DoxyCodeLine{00220         \{}
\DoxyCodeLine{00221             \textcolor{keywordflow}{throw} snmp\_client\_exception(\textcolor{stringliteral}{"{}Failed to get max channels!"{}});}
\DoxyCodeLine{00222         \}}
\DoxyCodeLine{00223 }
\DoxyCodeLine{00224         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int}) max\_channels\_in\_tsc.val\_int;}
\DoxyCodeLine{00225     \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::\+GET}}, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::\+INTEGER}}, \mbox{\hyperlink{ntcip__oids_8h_source_l00017}{ntcip\+\_\+oids\+::\+MAX\+\_\+\+CHANNELS}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00042}{snmp\+\_\+client\+\_\+worker\+\_\+}}, \mbox{\hyperlink{snmp__client_8h_source_l00039}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::type}}, and \mbox{\hyperlink{snmp__client_8h_source_l00037}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::val\+\_\+int}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_a2f1d658bc65133d1ba6b4f03d593ffb3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_aa4dbbf6a17e37cbb38a43d4641bf3ec8}\label{classtraffic__signal__controller__service_1_1tsc__state_aa4dbbf6a17e37cbb38a43d4641bf3ec8}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_max\_green@{get\_max\_green}}
\index{get\_max\_green@{get\_max\_green}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_max\_green()}{get\_max\_green()}}
{\footnotesize\ttfamily int traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+max\+\_\+green (\begin{DoxyParamCaption}\item[{int}]{phase\+\_\+num }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Get maximum green time for a phase. 


\begin{DoxyParams}{Parameters}
{\em phase\+\_\+num} & The phase for which the maximum green needs to be requested \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
maximum green time in milliseconds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00309}{309}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00310     \{}
\DoxyCodeLine{00311         \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} = \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{request\_type::GET}};}
\DoxyCodeLine{00312 }
\DoxyCodeLine{00313         std::string max\_green\_parameter\_oid = \mbox{\hyperlink{namespacentcip__oids_a4affb9d542bfdef8b1a3a2ef06941c7c}{ntcip\_oids::MAXIMUM\_GREEN}} + \textcolor{stringliteral}{"{}."{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(phase\_num);}
\DoxyCodeLine{00314         snmp\_response\_obj max\_green;}
\DoxyCodeLine{00315         max\_green.type = \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{snmp\_response\_obj::response\_type::INTEGER}};}
\DoxyCodeLine{00316         }
\DoxyCodeLine{00317         \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\_client\_worker\_}}-\/>process\_snmp\_request(max\_green\_parameter\_oid, \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}}, max\_green);}
\DoxyCodeLine{00318 }
\DoxyCodeLine{00319         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int}) max\_green.val\_int * 1000; \textcolor{comment}{//Convert seconds to milliseconds}}
\DoxyCodeLine{00320     \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::\+GET}}, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::\+INTEGER}}, \mbox{\hyperlink{ntcip__oids_8h_source_l00044}{ntcip\+\_\+oids\+::\+MAXIMUM\+\_\+\+GREEN}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00042}{snmp\+\_\+client\+\_\+worker\+\_\+}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, \mbox{\hyperlink{snmp__client_8h_source_l00039}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::type}}, and \mbox{\hyperlink{snmp__client_8h_source_l00037}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::val\+\_\+int}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{classtraffic__signal__controller__service_1_1tsc__state_aa4dbbf6a17e37cbb38a43d4641bf3ec8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_aa4dbbf6a17e37cbb38a43d4641bf3ec8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a73acb7d06ec8d69783f369c504a3010c}\label{classtraffic__signal__controller__service_1_1tsc__state_a73acb7d06ec8d69783f369c504a3010c}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_min\_green@{get\_min\_green}}
\index{get\_min\_green@{get\_min\_green}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_min\_green()}{get\_min\_green()}}
{\footnotesize\ttfamily int traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+min\+\_\+green (\begin{DoxyParamCaption}\item[{int}]{phase\+\_\+num }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Get minimum green time for a phase. 


\begin{DoxyParams}{Parameters}
{\em phase\+\_\+num} & The phase for which the min green needs to be requested \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
minimum green time in milliseconds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00296}{296}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00297     \{}
\DoxyCodeLine{00298         \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} = \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{request\_type::GET}};}
\DoxyCodeLine{00299         std::string min\_green\_parameter\_oid = \mbox{\hyperlink{namespacentcip__oids_a90dca09384bbe13e3ee22c4ba9510079}{ntcip\_oids::MINIMUM\_GREEN}} + \textcolor{stringliteral}{"{}."{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(phase\_num);}
\DoxyCodeLine{00300 }
\DoxyCodeLine{00301         snmp\_response\_obj min\_green;}
\DoxyCodeLine{00302         min\_green.type = \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{snmp\_response\_obj::response\_type::INTEGER}};}
\DoxyCodeLine{00303 }
\DoxyCodeLine{00304         \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\_client\_worker\_}}-\/>process\_snmp\_request(min\_green\_parameter\_oid, \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}}, min\_green);}
\DoxyCodeLine{00305 }
\DoxyCodeLine{00306         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int}) min\_green.val\_int * 1000; \textcolor{comment}{//Convert seconds to milliseconds}}
\DoxyCodeLine{00307     \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::\+GET}}, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::\+INTEGER}}, \mbox{\hyperlink{ntcip__oids_8h_source_l00039}{ntcip\+\_\+oids\+::\+MINIMUM\+\_\+\+GREEN}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00042}{snmp\+\_\+client\+\_\+worker\+\_\+}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, \mbox{\hyperlink{snmp__client_8h_source_l00039}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::type}}, and \mbox{\hyperlink{snmp__client_8h_source_l00037}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::val\+\_\+int}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{classtraffic__signal__controller__service_1_1tsc__state_a73acb7d06ec8d69783f369c504a3010c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_a73acb7d06ec8d69783f369c504a3010c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a9af1335fd676f86de7fcbd38493d3985}\label{classtraffic__signal__controller__service_1_1tsc__state_a9af1335fd676f86de7fcbd38493d3985}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_ped\_phase\_map@{get\_ped\_phase\_map}}
\index{get\_ped\_phase\_map@{get\_ped\_phase\_map}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_ped\_phase\_map()}{get\_ped\_phase\_map()}}
{\footnotesize\ttfamily const std\+::unordered\+\_\+map$<$ int, int $>$ \& traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+ped\+\_\+phase\+\_\+map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns a map of pedestrian phases to signal group ids. 

\begin{DoxyReturn}{Returns}
a map of pedestrian phases to signal group ids 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00445}{445}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00446     \{}
\DoxyCodeLine{00447         \textcolor{keywordflow}{return} \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a8f31ba52cf271dee1b6caec284f9103f}{ped\_phase\_num\_map\_}};}
\DoxyCodeLine{00448     \}}

\end{DoxyCode}


References \mbox{\hyperlink{monitor__tsc__state_8h_source_l00054}{ped\+\_\+phase\+\_\+num\+\_\+map\+\_\+}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a54bb0ddd47fca73403bbc52bbcfba988}\label{classtraffic__signal__controller__service_1_1tsc__state_a54bb0ddd47fca73403bbc52bbcfba988}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_phase\_channels@{get\_phase\_channels}}
\index{get\_phase\_channels@{get\_phase\_channels}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_phase\_channels()}{get\_phase\_channels()}}
{\footnotesize\ttfamily void traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+phase\+\_\+channels (\begin{DoxyParamCaption}\item[{int}]{max\+\_\+channels,  }\item[{std\+::vector$<$ int $>$ \&}]{vehicle\+\_\+phase\+\_\+channels,  }\item[{std\+::vector$<$ int $>$ \&}]{ped\+\_\+phase\+\_\+channels }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Creates vectors of channels associated with a vehicle phase and a pedestrian. Ignores overlap, ped Overlap, queue\+Jump and other (types defined in NTCIP1202 v03) 


\begin{DoxyParams}{Parameters}
{\em max\+\_\+channels} & The maximum number of channels in the traffic signal controller. \\
\hline
{\em vehicle\+\_\+phase\+\_\+channels} & a vector of active vehicle phases associated with a channel \\
\hline
{\em ped\+\_\+phase\+\_\+channels} & a vector of active pedestrian phases associated with a channel \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00227}{227}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00227                                                                                                                                         \{}
\DoxyCodeLine{00228         }
\DoxyCodeLine{00229         \textcolor{comment}{// Loop through channel control types and add channels with vehicle phase to list}}
\DoxyCodeLine{00230         snmp\_response\_obj control\_type;}
\DoxyCodeLine{00231         control\_type.type = \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{snmp\_response\_obj::response\_type::INTEGER}};}
\DoxyCodeLine{00232         }
\DoxyCodeLine{00233         \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} = \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{request\_type::GET}};}
\DoxyCodeLine{00234         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} channel\_num = 1; channel\_num <= max\_channels; ++channel\_num)}
\DoxyCodeLine{00235         \{}
\DoxyCodeLine{00236             std::string control\_type\_parameter\_oid = \mbox{\hyperlink{namespacentcip__oids_a9c039d3da352a48fe04ff8fd43014fec}{ntcip\_oids::CHANNEL\_CONTROL\_TYPE\_PARAMETER}} + \textcolor{stringliteral}{"{}."{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(channel\_num);}
\DoxyCodeLine{00237 }
\DoxyCodeLine{00238             \textcolor{keywordflow}{if}(!\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\_client\_worker\_}}-\/>process\_snmp\_request(control\_type\_parameter\_oid, \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}}, control\_type))}
\DoxyCodeLine{00239             \{}
\DoxyCodeLine{00240                 \textcolor{keywordflow}{throw} snmp\_client\_exception(\textcolor{stringliteral}{"{}Failed to get channel control type"{}});}
\DoxyCodeLine{00241             \}}
\DoxyCodeLine{00242 }
\DoxyCodeLine{00243             \textcolor{keywordflow}{if}(control\_type.val\_int == 2)}
\DoxyCodeLine{00244             \{}
\DoxyCodeLine{00245                 vehicle\_phase\_channels.push\_back(channel\_num);}
\DoxyCodeLine{00246             \}}
\DoxyCodeLine{00247             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(control\_type.val\_int == 3)}
\DoxyCodeLine{00248             \{}
\DoxyCodeLine{00249                 ped\_phase\_channels.push\_back(channel\_num);}
\DoxyCodeLine{00250             \}}
\DoxyCodeLine{00251 }
\DoxyCodeLine{00252         \}}
\DoxyCodeLine{00253 }
\DoxyCodeLine{00254         \textcolor{keywordflow}{if}(vehicle\_phase\_channels.empty())\{}
\DoxyCodeLine{00255             SPDLOG\_WARN(\textcolor{stringliteral}{"{}Found no active vehicle phases"{}});}
\DoxyCodeLine{00256         \}}
\DoxyCodeLine{00257         \textcolor{keywordflow}{if}(ped\_phase\_channels.empty())\{}
\DoxyCodeLine{00258             SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Found no active ped phases"{}});}
\DoxyCodeLine{00259         \}}
\DoxyCodeLine{00260         }
\DoxyCodeLine{00261         SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Number of vehicle phase channels found: \{0\}"{}}, vehicle\_phase\_channels.size());}
\DoxyCodeLine{00262         SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Number of ped phase channels found: \{0\}"{}}, ped\_phase\_channels.size());}
\DoxyCodeLine{00263         }
\DoxyCodeLine{00264     \}}

\end{DoxyCode}


References \mbox{\hyperlink{ntcip__oids_8h_source_l00024}{ntcip\+\_\+oids\+::\+CHANNEL\+\_\+\+CONTROL\+\_\+\+TYPE\+\_\+\+PARAMETER}}, \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::\+GET}}, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::\+INTEGER}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00042}{snmp\+\_\+client\+\_\+worker\+\_\+}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, \mbox{\hyperlink{snmp__client_8h_source_l00039}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::type}}, and \mbox{\hyperlink{snmp__client_8h_source_l00037}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::val\+\_\+int}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{classtraffic__signal__controller__service_1_1tsc__state_a54bb0ddd47fca73403bbc52bbcfba988_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_a54bb0ddd47fca73403bbc52bbcfba988_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_ae5bfca513648fa55566289fe8a9de750}\label{classtraffic__signal__controller__service_1_1tsc__state_ae5bfca513648fa55566289fe8a9de750}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_red\_clearance@{get\_red\_clearance}}
\index{get\_red\_clearance@{get\_red\_clearance}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_red\_clearance()}{get\_red\_clearance()}}
{\footnotesize\ttfamily int traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+red\+\_\+clearance (\begin{DoxyParamCaption}\item[{int}]{phase\+\_\+num }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Get red clearance time for a phase. 


\begin{DoxyParams}{Parameters}
{\em phase\+\_\+num} & The phase for which the red clearance needs to be requested \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
red clearance time in milliseconds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00335}{335}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00336     \{}
\DoxyCodeLine{00337         \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} get\_request = \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{request\_type::GET}};}
\DoxyCodeLine{00338         std::string red\_clearance\_oid = \mbox{\hyperlink{namespacentcip__oids_a3ea2c7de3db40c5169671e9c74083bba}{ntcip\_oids::RED\_CLEAR\_PARAMETER}} + \textcolor{stringliteral}{"{}."{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(phase\_num);}
\DoxyCodeLine{00339 }
\DoxyCodeLine{00340         snmp\_response\_obj red\_clearance;}
\DoxyCodeLine{00341         red\_clearance.type = \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{snmp\_response\_obj::response\_type::INTEGER}};}
\DoxyCodeLine{00342 }
\DoxyCodeLine{00343         \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\_client\_worker\_}}-\/>process\_snmp\_request(red\_clearance\_oid, get\_request, red\_clearance);}
\DoxyCodeLine{00344 }
\DoxyCodeLine{00345         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int}) red\_clearance.val\_int * 100; \textcolor{comment}{//Convert to milliseconds. NTCIP returned value is in tenths of seconds}}
\DoxyCodeLine{00346     \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::\+GET}}, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::\+INTEGER}}, \mbox{\hyperlink{ntcip__oids_8h_source_l00065}{ntcip\+\_\+oids\+::\+RED\+\_\+\+CLEAR\+\_\+\+PARAMETER}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00042}{snmp\+\_\+client\+\_\+worker\+\_\+}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, \mbox{\hyperlink{snmp__client_8h_source_l00039}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::type}}, and \mbox{\hyperlink{snmp__client_8h_source_l00037}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::val\+\_\+int}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{classtraffic__signal__controller__service_1_1tsc__state_ae5bfca513648fa55566289fe8a9de750_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_ae5bfca513648fa55566289fe8a9de750_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_acaee10dcfb57b70be35a81723b21761b}\label{classtraffic__signal__controller__service_1_1tsc__state_acaee10dcfb57b70be35a81723b21761b}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_red\_duration@{get\_red\_duration}}
\index{get\_red\_duration@{get\_red\_duration}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_red\_duration()}{get\_red\_duration()}}
{\footnotesize\ttfamily int traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+red\+\_\+duration (\begin{DoxyParamCaption}\item[{int}]{phase\+\_\+num }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Get red duration for a phase. 


\begin{DoxyParams}{Parameters}
{\em phase\+\_\+num} & The phase for which the red duration needs to be requested \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
red duration time in milliseconds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00348}{348}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00349     \{}
\DoxyCodeLine{00350         \textcolor{comment}{//red duration is calculated as red\_clearance time for current phase + (green duration + yellow duration + red\_clearance) for other phases in sequence}}
\DoxyCodeLine{00351 }
\DoxyCodeLine{00352         \textcolor{comment}{// Find signal state associated with phase num}}
\DoxyCodeLine{00353         \textcolor{keywordtype}{int} current\_signal\_group;}
\DoxyCodeLine{00354         \textcolor{keywordflow}{if}(\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\_phase\_num\_map\_}}.find(phase\_num) != \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\_phase\_num\_map\_}}.end())}
\DoxyCodeLine{00355         \{}
\DoxyCodeLine{00356             current\_signal\_group = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\_phase\_num\_map\_}}[phase\_num];}
\DoxyCodeLine{00357         \}}
\DoxyCodeLine{00358         \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00359             \textcolor{keywordflow}{throw} snmp\_client\_exception(\textcolor{stringliteral}{"{}No signal state associated with phase "{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(phase\_num) + \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00360         \}}
\DoxyCodeLine{00361         \textcolor{keyword}{auto} current\_signal\_group\_state = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}{signal\_group\_state\_map\_}}[current\_signal\_group];}
\DoxyCodeLine{00362         \textcolor{comment}{// Only add clearance time for current phase}}
\DoxyCodeLine{00363         \textcolor{keywordtype}{int} red\_duration = current\_signal\_group\_state.red\_clearance;}
\DoxyCodeLine{00364         }
\DoxyCodeLine{00365         \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} phase : current\_signal\_group\_state.phase\_seq)}
\DoxyCodeLine{00366         \{}
\DoxyCodeLine{00367             \textcolor{comment}{// Find state params for each phase in seq}}
\DoxyCodeLine{00368             \textcolor{keywordtype}{int} seq\_signal\_group;}
\DoxyCodeLine{00369             \textcolor{keywordflow}{if}(\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\_phase\_num\_map\_}}.find(phase\_num) != \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\_phase\_num\_map\_}}.end())}
\DoxyCodeLine{00370             \{}
\DoxyCodeLine{00371                 seq\_signal\_group = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\_phase\_num\_map\_}}[phase];}
\DoxyCodeLine{00372             \}}
\DoxyCodeLine{00373             \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00374                 \textcolor{keywordflow}{throw} snmp\_client\_exception(\textcolor{stringliteral}{"{}No signal state associated with phase "{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(phase) + \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00375             \}}
\DoxyCodeLine{00376             \textcolor{keyword}{auto} seq\_signal\_group\_state = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}{signal\_group\_state\_map\_}}[seq\_signal\_group];}
\DoxyCodeLine{00377             \textcolor{keywordflow}{if}(phase == phase\_num)}
\DoxyCodeLine{00378             \{}
\DoxyCodeLine{00379                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00380             \}}
\DoxyCodeLine{00381             \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00382                 red\_duration += seq\_signal\_group\_state.green\_duration + seq\_signal\_group\_state.yellow\_duration + seq\_signal\_group\_state.red\_clearance;}
\DoxyCodeLine{00383             \}}
\DoxyCodeLine{00384         \}}
\DoxyCodeLine{00385         }
\DoxyCodeLine{00386         \textcolor{keywordflow}{return} red\_duration; }
\DoxyCodeLine{00387     \}}

\end{DoxyCode}


References \mbox{\hyperlink{monitor__tsc__state_8h_source_l00045}{signal\+\_\+group\+\_\+state\+\_\+map\+\_\+}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, and \mbox{\hyperlink{monitor__tsc__state_8h_source_l00051}{vehicle\+\_\+phase\+\_\+num\+\_\+map\+\_\+}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{classtraffic__signal__controller__service_1_1tsc__state_acaee10dcfb57b70be35a81723b21761b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_acaee10dcfb57b70be35a81723b21761b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a27876c0c6172cbb37788cadd97bf6ff3}\label{classtraffic__signal__controller__service_1_1tsc__state_a27876c0c6172cbb37788cadd97bf6ff3}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_signal\_group\_state\_map@{get\_signal\_group\_state\_map}}
\index{get\_signal\_group\_state\_map@{get\_signal\_group\_state\_map}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_signal\_group\_state\_map()}{get\_signal\_group\_state\_map()}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$ int, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1signal__group__state}{signal\+\_\+group\+\_\+state}} $>$ \& traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+signal\+\_\+group\+\_\+state\+\_\+map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Return reference to signal group state map. 

\begin{DoxyReturn}{Returns}
std\+::unordered\+\_\+map$<$int, signal\+\_\+group\+\_\+state$>$\& 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00455}{455}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00456     \{}
\DoxyCodeLine{00457         \textcolor{keywordflow}{return} \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}{signal\_group\_state\_map\_}};}
\DoxyCodeLine{00458     \}        }

\end{DoxyCode}


References \mbox{\hyperlink{monitor__tsc__state_8h_source_l00045}{signal\+\_\+group\+\_\+state\+\_\+map\+\_\+}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a40c96f54a5eb802026f93906dc1b77d8}\label{classtraffic__signal__controller__service_1_1tsc__state_a40c96f54a5eb802026f93906dc1b77d8}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_vehicle\_phase\_map@{get\_vehicle\_phase\_map}}
\index{get\_vehicle\_phase\_map@{get\_vehicle\_phase\_map}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_vehicle\_phase\_map()}{get\_vehicle\_phase\_map()}}
{\footnotesize\ttfamily const std\+::unordered\+\_\+map$<$ int, int $>$ \& traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+vehicle\+\_\+phase\+\_\+map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns a map of pedestrian phases to signal group ids. 

\begin{DoxyReturn}{Returns}
a map of pedestrian phases to signal group ids 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00450}{450}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00451     \{}
\DoxyCodeLine{00452         \textcolor{keywordflow}{return} \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\_phase\_num\_map\_}};}
\DoxyCodeLine{00453     \}}

\end{DoxyCode}


References \mbox{\hyperlink{monitor__tsc__state_8h_source_l00051}{vehicle\+\_\+phase\+\_\+num\+\_\+map\+\_\+}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_ae76cdfcdb7d2cbd8fcf0afef1d0f8925}\label{classtraffic__signal__controller__service_1_1tsc__state_ae76cdfcdb7d2cbd8fcf0afef1d0f8925}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!get\_yellow\_duration@{get\_yellow\_duration}}
\index{get\_yellow\_duration@{get\_yellow\_duration}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{get\_yellow\_duration()}{get\_yellow\_duration()}}
{\footnotesize\ttfamily int traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::get\+\_\+yellow\+\_\+duration (\begin{DoxyParamCaption}\item[{int}]{phase\+\_\+num }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Get yellow duration time for a phase. 


\begin{DoxyParams}{Parameters}
{\em phase\+\_\+num} & The phase for which the yellow duration needs to be requested \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
yellow duration time in milliseconds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00322}{322}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00323     \{}
\DoxyCodeLine{00324         \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} = \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{request\_type::GET}};}
\DoxyCodeLine{00325         std::string yellow\_duration\_oid = \mbox{\hyperlink{namespacentcip__oids_a8af63441377ae9f0975ef2d6dc2c744e}{ntcip\_oids::YELLOW\_CHANGE\_PARAMETER}} + \textcolor{stringliteral}{"{}."{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(phase\_num);}
\DoxyCodeLine{00326 }
\DoxyCodeLine{00327         snmp\_response\_obj yellow\_duration;}
\DoxyCodeLine{00328         yellow\_duration.type = \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{snmp\_response\_obj::response\_type::INTEGER}};}
\DoxyCodeLine{00329         }
\DoxyCodeLine{00330         \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\_client\_worker\_}} -\/>process\_snmp\_request(yellow\_duration\_oid, \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}}, yellow\_duration);}
\DoxyCodeLine{00331 }
\DoxyCodeLine{00332         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int}) yellow\_duration.val\_int * 100; \textcolor{comment}{//Convert to milliseconds. NTCIP returned value is in tenths of seconds}}
\DoxyCodeLine{00333     \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::\+GET}}, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::\+INTEGER}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00042}{snmp\+\_\+client\+\_\+worker\+\_\+}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, \mbox{\hyperlink{snmp__client_8h_source_l00039}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::type}}, \mbox{\hyperlink{snmp__client_8h_source_l00037}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::val\+\_\+int}}, and \mbox{\hyperlink{ntcip__oids_8h_source_l00049}{ntcip\+\_\+oids\+::\+YELLOW\+\_\+\+CHANGE\+\_\+\+PARAMETER}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{classtraffic__signal__controller__service_1_1tsc__state_ae76cdfcdb7d2cbd8fcf0afef1d0f8925_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_ae76cdfcdb7d2cbd8fcf0afef1d0f8925_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_af051312a2931c0f7db32b3d0439a2e6b}\label{classtraffic__signal__controller__service_1_1tsc__state_af051312a2931c0f7db32b3d0439a2e6b}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!initialize@{initialize}}
\index{initialize@{initialize}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily bool traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::initialize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initialize \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state}{tsc\+\_\+state}} by making SNMP calls to TSC for phase sequence and timing information. 

\begin{DoxyReturn}{Returns}
true if initialization is successful. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{10}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00010                                \{}
\DoxyCodeLine{00011         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00012             \textcolor{comment}{// Map signal group ids and phase nums}}
\DoxyCodeLine{00013             \textcolor{comment}{//Get phase number given a signal group id}}
\DoxyCodeLine{00014             \textcolor{keywordtype}{int} max\_channels\_in\_tsc = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a2f1d658bc65133d1ba6b4f03d593ffb3}{get\_max\_channels}}();}
\DoxyCodeLine{00015             std::vector<int> vehicle\_phase\_channels;}
\DoxyCodeLine{00016             std::vector<int> ped\_phase\_channels;}
\DoxyCodeLine{00017             \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a54bb0ddd47fca73403bbc52bbcfba988}{get\_phase\_channels}}(max\_channels\_in\_tsc, vehicle\_phase\_channels, ped\_phase\_channels);}
\DoxyCodeLine{00018             \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_af0f1926f5f6495742d204dbde1bf9dbb}{map\_phase\_and\_signalgroup}}(vehicle\_phase\_channels, \textcolor{keyword}{true});}
\DoxyCodeLine{00019             \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_af0f1926f5f6495742d204dbde1bf9dbb}{map\_phase\_and\_signalgroup}}(ped\_phase\_channels, \textcolor{keyword}{false});}
\DoxyCodeLine{00020             \textcolor{comment}{// Get phase sequences for ring 1 and ring 2}}
\DoxyCodeLine{00021             \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a1f7c1e663e2b2e41e1d3cfb902208add}{phase\_seq\_ring1\_}} = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7}{phase\_seq}}(1);}
\DoxyCodeLine{00022             \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73756e2d00260dfccd9838cf147bf823}{phase\_seq\_ring2\_}} = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7}{phase\_seq}}(2);}
\DoxyCodeLine{00023 }
\DoxyCodeLine{00024             \textcolor{comment}{// Define state of each signal group}}
\DoxyCodeLine{00025             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& signal\_group : \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a5589bc2137028ff1c1b7ec39bf360fb0}{signal\_group\_phase\_map\_}})}
\DoxyCodeLine{00026             \{}
\DoxyCodeLine{00027                 \textcolor{keywordtype}{int} phase\_num = signal\_group.second;}
\DoxyCodeLine{00028                 signal\_group\_state state;}
\DoxyCodeLine{00029                 state.phase\_num = phase\_num;}
\DoxyCodeLine{00030                 state.max\_green = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_aa4dbbf6a17e37cbb38a43d4641bf3ec8}{get\_max\_green}}(phase\_num);}
\DoxyCodeLine{00031                 state.min\_green = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a73acb7d06ec8d69783f369c504a3010c}{get\_min\_green}}(phase\_num);}
\DoxyCodeLine{00032                 state.yellow\_duration = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ae76cdfcdb7d2cbd8fcf0afef1d0f8925}{get\_yellow\_duration}}(phase\_num);}
\DoxyCodeLine{00033                 \textcolor{comment}{// Define green duration as min/max as decided}}
\DoxyCodeLine{00034                 state.green\_duration = state.min\_green;}
\DoxyCodeLine{00035                 state.red\_clearance = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ae5bfca513648fa55566289fe8a9de750}{get\_red\_clearance}}(phase\_num);}
\DoxyCodeLine{00036                 state.phase\_seq = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a08b298b1834ff6c717926a4d0d4b9ef7}{get\_following\_phases}}(phase\_num);}
\DoxyCodeLine{00037                 state.concurrent\_phases = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a926ae227a45a7cec9c442c33eeade951}{get\_concurrent\_phases}}(phase\_num);}
\DoxyCodeLine{00038                 \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}{signal\_group\_state\_map\_}}.insert(std::make\_pair(signal\_group.first, state));}
\DoxyCodeLine{00039             \}}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041         }
\DoxyCodeLine{00042             \textcolor{comment}{// Loop through states once other state parameters are defined to get the red duration}}
\DoxyCodeLine{00043             \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\& [signal\_group, state] : \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}{signal\_group\_state\_map\_}})}
\DoxyCodeLine{00044             \{}
\DoxyCodeLine{00045                 }
\DoxyCodeLine{00046                 state.red\_duration = \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_acaee10dcfb57b70be35a81723b21761b}{get\_red\_duration}}(state.phase\_num);}
\DoxyCodeLine{00047             \}}
\DoxyCodeLine{00048             }
\DoxyCodeLine{00049             \textcolor{comment}{// Print signal\_group map}}
\DoxyCodeLine{00050             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [signal\_group, phase] : \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a5589bc2137028ff1c1b7ec39bf360fb0}{signal\_group\_phase\_map\_}})}
\DoxyCodeLine{00051             \{}
\DoxyCodeLine{00052                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Signal group id: \{0\} phase: \{1\}"{}}, signal\_group, phase);}
\DoxyCodeLine{00053             \}}
\DoxyCodeLine{00054             \textcolor{comment}{// Print state map}}
\DoxyCodeLine{00055             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [signal\_group, state] : \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}{signal\_group\_state\_map\_}})}
\DoxyCodeLine{00056             \{}
\DoxyCodeLine{00057                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Signal group id: \{0\}"{}}, signal\_group);}
\DoxyCodeLine{00058                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Phase num: \{0\}"{}}, state.phase\_num);}
\DoxyCodeLine{00059                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Max green: \{0\}"{}}, state.max\_green);}
\DoxyCodeLine{00060                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Min green: \{0\}"{}}, state.min\_green);}
\DoxyCodeLine{00061                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Green Duration: \{0\}"{}}, state.green\_duration);}
\DoxyCodeLine{00062                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}yellow duration: \{0\}"{}}, state.yellow\_duration);}
\DoxyCodeLine{00063                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Red clearance: \{0\}"{}}, state.red\_clearance);}
\DoxyCodeLine{00064                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Red duration: \{0\}"{}}, state.red\_duration);}
\DoxyCodeLine{00065 }
\DoxyCodeLine{00066                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Phase sequence:"{}});}
\DoxyCodeLine{00067                 \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} phase : state.phase\_seq)\{}
\DoxyCodeLine{00068                     SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}\{0\}"{}}, phase);}
\DoxyCodeLine{00069                 \}}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Concurrent Phases:"{}});}
\DoxyCodeLine{00072                 \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} phase : state.concurrent\_phases)\{}
\DoxyCodeLine{00073                     SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}\{0\}"{}}, phase);}
\DoxyCodeLine{00074                 \}  }
\DoxyCodeLine{00075             \}}
\DoxyCodeLine{00076             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00077         \}\textcolor{keywordflow}{catch} ( \textcolor{keyword}{const} snmp\_client\_exception \&e ) \{}
\DoxyCodeLine{00078             SPDLOG\_ERROR(\textcolor{stringliteral}{"{}Exception encounters during initialization: \(\backslash\)n \{0\}"{}},e.what());}
\DoxyCodeLine{00079             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00080         \}}
\DoxyCodeLine{00081     \}}

\end{DoxyCode}


References \mbox{\hyperlink{monitor__tsc__state_8h_source_l00035}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::concurrent\+\_\+phases}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00419}{get\+\_\+concurrent\+\_\+phases()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00184}{get\+\_\+following\+\_\+phases()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00214}{get\+\_\+max\+\_\+channels()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00309}{get\+\_\+max\+\_\+green()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00296}{get\+\_\+min\+\_\+green()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00227}{get\+\_\+phase\+\_\+channels()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00335}{get\+\_\+red\+\_\+clearance()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00348}{get\+\_\+red\+\_\+duration()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00322}{get\+\_\+yellow\+\_\+duration()}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00025}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::green\+\_\+duration}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00266}{map\+\_\+phase\+\_\+and\+\_\+signalgroup()}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00023}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::max\+\_\+green}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00021}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::min\+\_\+green}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00019}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::phase\+\_\+num}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00033}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::phase\+\_\+seq}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00389}{phase\+\_\+seq()}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00057}{phase\+\_\+seq\+\_\+ring1\+\_\+}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00059}{phase\+\_\+seq\+\_\+ring2\+\_\+}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00029}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::red\+\_\+clearance}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00048}{signal\+\_\+group\+\_\+phase\+\_\+map\+\_\+}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00045}{signal\+\_\+group\+\_\+state\+\_\+map\+\_\+}}, and \mbox{\hyperlink{monitor__tsc__state_8h_source_l00027}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::signal\+\_\+group\+\_\+state\+::yellow\+\_\+duration}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_af051312a2931c0f7db32b3d0439a2e6b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_af0f1926f5f6495742d204dbde1bf9dbb}\label{classtraffic__signal__controller__service_1_1tsc__state_af0f1926f5f6495742d204dbde1bf9dbb}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!map\_phase\_and\_signalgroup@{map\_phase\_and\_signalgroup}}
\index{map\_phase\_and\_signalgroup@{map\_phase\_and\_signalgroup}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{map\_phase\_and\_signalgroup()}{map\_phase\_and\_signalgroup()}}
{\footnotesize\ttfamily void traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::map\+\_\+phase\+\_\+and\+\_\+signalgroup (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ int $>$ \&}]{phase\+\_\+channels,  }\item[{bool}]{is\+\_\+source\+\_\+vehicle\+\_\+channel }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Constructs a map between phase number and signal group ids. 


\begin{DoxyParams}{Parameters}
{\em phase\+\_\+channels} & a vector of channel numbers in the traffic signal controller associated with a phase \\
\hline
{\em is\+\_\+source\+\_\+vehicle\+\_\+channel} & a boolean that indicates whether the phase\+\_\+channels arg is for channels associated with vehicle phases. In case they are not its assumed that they are pedestrian phases According to the NTCIP 1202 v03 documentation signal group ids in the SPAT message are the channel numbers in the TSC \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00266}{266}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00267     \{}
\DoxyCodeLine{00268         \textcolor{comment}{// According to NTCIP 1202 v03 documentation Signal Group ID in a SPAT message is the Channel Number from TSC}}
\DoxyCodeLine{00269 }
\DoxyCodeLine{00270         \textcolor{comment}{// Get phases associated with vehicle phase channels}}
\DoxyCodeLine{00271         \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} = \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{request\_type::GET}};}
\DoxyCodeLine{00272         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} channel : phase\_channels)}
\DoxyCodeLine{00273         \{}
\DoxyCodeLine{00274             snmp\_response\_obj phase\_num;}
\DoxyCodeLine{00275             phase\_num.type = \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{snmp\_response\_obj::response\_type::INTEGER}};}
\DoxyCodeLine{00276 }
\DoxyCodeLine{00277             std::string control\_source\_parameter\_oid = \mbox{\hyperlink{namespacentcip__oids_adbf60170a7e456fe10c1b7ef1f84a262}{ntcip\_oids::CHANNEL\_CONTROL\_SOURCE\_PARAMETER}} + \textcolor{stringliteral}{"{}."{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(channel);}
\DoxyCodeLine{00278             \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\_client\_worker\_}}-\/>process\_snmp\_request(control\_source\_parameter\_oid, \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}}, phase\_num);}
\DoxyCodeLine{00279 }
\DoxyCodeLine{00280             \textcolor{comment}{// According to NTCIP 1202 v03 returned value of 0 here would mean a phase is not associated with the channel}}
\DoxyCodeLine{00281             \textcolor{keywordflow}{if}(phase\_num.val\_int != 0)}
\DoxyCodeLine{00282             \{}
\DoxyCodeLine{00283                 \textcolor{keywordflow}{if}(is\_source\_vehicle\_channel)\{}
\DoxyCodeLine{00284                     \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\_phase\_num\_map\_}}.insert(std::make\_pair(phase\_num.val\_int, channel));}
\DoxyCodeLine{00285                     \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a5589bc2137028ff1c1b7ec39bf360fb0}{signal\_group\_phase\_map\_}}.insert(std::make\_pair(channel, phase\_num.val\_int));}
\DoxyCodeLine{00286                 \}}
\DoxyCodeLine{00287                 \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00288                     \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a8f31ba52cf271dee1b6caec284f9103f}{ped\_phase\_num\_map\_}}.insert(std::make\_pair(phase\_num.val\_int, channel));}
\DoxyCodeLine{00289                 \}}
\DoxyCodeLine{00290                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Found mapping between signal group: \{0\} and phase num: \{1\}"{}}, channel , phase\_num.val\_int );}
\DoxyCodeLine{00291             \}}
\DoxyCodeLine{00292         \}}
\DoxyCodeLine{00293         }
\DoxyCodeLine{00294     \}}

\end{DoxyCode}


References \mbox{\hyperlink{ntcip__oids_8h_source_l00036}{ntcip\+\_\+oids\+::\+CHANNEL\+\_\+\+CONTROL\+\_\+\+SOURCE\+\_\+\+PARAMETER}}, \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::\+GET}}, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa5d5cd46919fa987731fb2edefe0f2a0c}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::\+INTEGER}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00054}{ped\+\_\+phase\+\_\+num\+\_\+map\+\_\+}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00048}{signal\+\_\+group\+\_\+phase\+\_\+map\+\_\+}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00042}{snmp\+\_\+client\+\_\+worker\+\_\+}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, \mbox{\hyperlink{snmp__client_8h_source_l00039}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::type}}, \mbox{\hyperlink{snmp__client_8h_source_l00037}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::val\+\_\+int}}, and \mbox{\hyperlink{monitor__tsc__state_8h_source_l00051}{vehicle\+\_\+phase\+\_\+num\+\_\+map\+\_\+}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{classtraffic__signal__controller__service_1_1tsc__state_af0f1926f5f6495742d204dbde1bf9dbb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_af0f1926f5f6495742d204dbde1bf9dbb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7}\label{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!phase\_seq@{phase\_seq}}
\index{phase\_seq@{phase\_seq}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{phase\_seq()}{phase\_seq()}}
{\footnotesize\ttfamily std\+::vector$<$ int $>$ traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::phase\+\_\+seq (\begin{DoxyParamCaption}\item[{int}]{ring\+\_\+num }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Get a sequence of phases in the given ring. 


\begin{DoxyParams}{Parameters}
{\em ring\+\_\+num} & The phase for which the sequence needs to be obtained \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a vector as a sequence of phases in the ring 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00389}{389}} of file \mbox{\hyperlink{monitor__tsc__state_8cpp_source}{monitor\+\_\+tsc\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00390     \{}
\DoxyCodeLine{00391         std::vector<int> \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7}{phase\_seq}};}
\DoxyCodeLine{00392         \textcolor{comment}{// Read sequence 1 data for first 2 rings}}
\DoxyCodeLine{00393         \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}} = \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{request\_type::GET}};}
\DoxyCodeLine{00394         std::string phase\_seq\_oid= \mbox{\hyperlink{namespacentcip__oids_aa886cce34306b7d970f546e495a80480}{ntcip\_oids::SEQUENCE\_DATA}} + \textcolor{stringliteral}{"{}."{}} + \textcolor{stringliteral}{"{}1"{}} + \textcolor{stringliteral}{"{}."{}} + \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{std::to\_string}}(ring\_num); \textcolor{comment}{//Sequence 1 for ring}}
\DoxyCodeLine{00395 }
\DoxyCodeLine{00396         snmp\_response\_obj seq\_data;}
\DoxyCodeLine{00397         seq\_data.type = \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa63b588d5559f64f89a416e656880b949}{snmp\_response\_obj::response\_type::STRING}};}
\DoxyCodeLine{00398         \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}{snmp\_client\_worker\_}}-\/>process\_snmp\_request(phase\_seq\_oid, \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61}{request\_type}}, seq\_data);}
\DoxyCodeLine{00399         }
\DoxyCodeLine{00400         \textcolor{comment}{//extract phase numbers from strings}}
\DoxyCodeLine{00401         \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} seq\_val : seq\_data.val\_string)}
\DoxyCodeLine{00402         \{   }
\DoxyCodeLine{00403             \textcolor{keyword}{auto} phase = int(seq\_val);}
\DoxyCodeLine{00404             \textcolor{keywordflow}{if}(\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\_phase\_num\_map\_}}.find(phase)!= \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}{vehicle\_phase\_num\_map\_}}.end() \&\& phase != 0 )\{}
\DoxyCodeLine{00405                 \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7}{phase\_seq}}.push\_back(phase);}
\DoxyCodeLine{00406             \}}
\DoxyCodeLine{00407             }
\DoxyCodeLine{00408         \}}
\DoxyCodeLine{00409 }
\DoxyCodeLine{00410         \textcolor{keywordflow}{if}(\mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7}{phase\_seq}}.empty())}
\DoxyCodeLine{00411         \{}
\DoxyCodeLine{00412             SPDLOG\_WARN(\textcolor{stringliteral}{"{}No phases found in sequence 1 for ring \{0\}"{}}, ring\_num);}
\DoxyCodeLine{00413         \}}
\DoxyCodeLine{00414 }
\DoxyCodeLine{00415         \textcolor{keywordflow}{return} \mbox{\hyperlink{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7}{phase\_seq}};}
\DoxyCodeLine{00416 }
\DoxyCodeLine{00417     \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespacetraffic__signal__controller__service_aa91e53dd22b41ddac648a9b468615b61a7528035a93ee69cedb1dbddb2f0bfcc8}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::\+GET}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00389}{phase\+\_\+seq()}}, \mbox{\hyperlink{ntcip__oids_8h_source_l00056}{ntcip\+\_\+oids\+::\+SEQUENCE\+\_\+\+DATA}}, \mbox{\hyperlink{monitor__tsc__state_8h_source_l00042}{snmp\+\_\+client\+\_\+worker\+\_\+}}, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1snmp__response__obj_a7379a4a3fcabddd7000d9be76111c38aa63b588d5559f64f89a416e656880b949}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::\+STRING}}, \mbox{\hyperlink{ntcip__1202__ext_8h_a576de7b60eacee3f1a70393a005502cd}{to\+\_\+string()}}, \mbox{\hyperlink{snmp__client_8h_source_l00039}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::type}}, \mbox{\hyperlink{snmp__client_8h_source_l00038}{traffic\+\_\+signal\+\_\+controller\+\_\+service\+::snmp\+\_\+response\+\_\+obj\+::val\+\_\+string}}, and \mbox{\hyperlink{monitor__tsc__state_8h_source_l00051}{vehicle\+\_\+phase\+\_\+num\+\_\+map\+\_\+}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00389}{phase\+\_\+seq()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=320pt]{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtraffic__signal__controller__service_1_1tsc__state_afbb0dd3e03340b8363e34510eb7f5ab7_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a73f09fdaac8a6376b65ad18c44459c9c}\label{classtraffic__signal__controller__service_1_1tsc__state_a73f09fdaac8a6376b65ad18c44459c9c}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!HOUR\_TO\_SECONDS\_@{HOUR\_TO\_SECONDS\_}}
\index{HOUR\_TO\_SECONDS\_@{HOUR\_TO\_SECONDS\_}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{HOUR\_TO\_SECONDS\_}{HOUR\_TO\_SECONDS\_}}
{\footnotesize\ttfamily int traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::\+HOUR\+\_\+\+TO\+\_\+\+SECONDS\+\_\+ = 3600\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00065}{65}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00468}{convert\+\_\+hour\+\_\+tenth\+\_\+secs2epoch\+\_\+ts()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00460}{convert\+\_\+msepoch\+\_\+to\+\_\+hour\+\_\+tenth\+\_\+secs()}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a8f31ba52cf271dee1b6caec284f9103f}\label{classtraffic__signal__controller__service_1_1tsc__state_a8f31ba52cf271dee1b6caec284f9103f}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!ped\_phase\_num\_map\_@{ped\_phase\_num\_map\_}}
\index{ped\_phase\_num\_map\_@{ped\_phase\_num\_map\_}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{ped\_phase\_num\_map\_}{ped\_phase\_num\_map\_}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$int,int$>$ traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::ped\+\_\+phase\+\_\+num\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00054}{54}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00445}{get\+\_\+ped\+\_\+phase\+\_\+map()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00266}{map\+\_\+phase\+\_\+and\+\_\+signalgroup()}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a1f7c1e663e2b2e41e1d3cfb902208add}\label{classtraffic__signal__controller__service_1_1tsc__state_a1f7c1e663e2b2e41e1d3cfb902208add}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!phase\_seq\_ring1\_@{phase\_seq\_ring1\_}}
\index{phase\_seq\_ring1\_@{phase\_seq\_ring1\_}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{phase\_seq\_ring1\_}{phase\_seq\_ring1\_}}
{\footnotesize\ttfamily std\+::vector$<$int$>$ traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::phase\+\_\+seq\+\_\+ring1\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00057}{57}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00184}{get\+\_\+following\+\_\+phases()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a73756e2d00260dfccd9838cf147bf823}\label{classtraffic__signal__controller__service_1_1tsc__state_a73756e2d00260dfccd9838cf147bf823}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!phase\_seq\_ring2\_@{phase\_seq\_ring2\_}}
\index{phase\_seq\_ring2\_@{phase\_seq\_ring2\_}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{phase\_seq\_ring2\_}{phase\_seq\_ring2\_}}
{\footnotesize\ttfamily std\+::vector$<$int$>$ traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::phase\+\_\+seq\+\_\+ring2\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00059}{59}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00184}{get\+\_\+following\+\_\+phases()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_ace2712eeb290c972b3ead1c4ee7e7744}\label{classtraffic__signal__controller__service_1_1tsc__state_ace2712eeb290c972b3ead1c4ee7e7744}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!required\_following\_movements\_@{required\_following\_movements\_}}
\index{required\_following\_movements\_@{required\_following\_movements\_}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{required\_following\_movements\_}{required\_following\_movements\_}}
{\footnotesize\ttfamily int traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::required\+\_\+following\+\_\+movements\+\_\+ = 3\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00062}{62}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00117}{add\+\_\+future\+\_\+movement\+\_\+events()}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a17d34ab64b5d3eda6f05a5f3c7622475}\label{classtraffic__signal__controller__service_1_1tsc__state_a17d34ab64b5d3eda6f05a5f3c7622475}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!SECOND\_TO\_MILLISECONDS\_@{SECOND\_TO\_MILLISECONDS\_}}
\index{SECOND\_TO\_MILLISECONDS\_@{SECOND\_TO\_MILLISECONDS\_}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{SECOND\_TO\_MILLISECONDS\_}{SECOND\_TO\_MILLISECONDS\_}}
{\footnotesize\ttfamily int traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::\+SECOND\+\_\+\+TO\+\_\+\+MILLISECONDS\+\_\+ = 1000\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00066}{66}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00468}{convert\+\_\+hour\+\_\+tenth\+\_\+secs2epoch\+\_\+ts()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00460}{convert\+\_\+msepoch\+\_\+to\+\_\+hour\+\_\+tenth\+\_\+secs()}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a5589bc2137028ff1c1b7ec39bf360fb0}\label{classtraffic__signal__controller__service_1_1tsc__state_a5589bc2137028ff1c1b7ec39bf360fb0}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!signal\_group\_phase\_map\_@{signal\_group\_phase\_map\_}}
\index{signal\_group\_phase\_map\_@{signal\_group\_phase\_map\_}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{signal\_group\_phase\_map\_}{signal\_group\_phase\_map\_}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$int, int$>$ traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::signal\+\_\+group\+\_\+phase\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00048}{48}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00266}{map\+\_\+phase\+\_\+and\+\_\+signalgroup()}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}\label{classtraffic__signal__controller__service_1_1tsc__state_ac8e58f3d13b58c85c3cea5d6e3961af0}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!signal\_group\_state\_map\_@{signal\_group\_state\_map\_}}
\index{signal\_group\_state\_map\_@{signal\_group\_state\_map\_}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{signal\_group\_state\_map\_}{signal\_group\_state\_map\_}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$int, \mbox{\hyperlink{structtraffic__signal__controller__service_1_1signal__group__state}{signal\+\_\+group\+\_\+state}}$>$ traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::signal\+\_\+group\+\_\+state\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00045}{45}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00117}{add\+\_\+future\+\_\+movement\+\_\+events()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00348}{get\+\_\+red\+\_\+duration()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00455}{get\+\_\+signal\+\_\+group\+\_\+state\+\_\+map()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00010}{initialize()}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}\label{classtraffic__signal__controller__service_1_1tsc__state_a32ec176910fce4545704a6153c3407eb}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!snmp\_client\_worker\_@{snmp\_client\_worker\_}}
\index{snmp\_client\_worker\_@{snmp\_client\_worker\_}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{snmp\_client\_worker\_}{snmp\_client\_worker\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classtraffic__signal__controller__service_1_1snmp__client}{snmp\+\_\+client}}$>$ traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::snmp\+\_\+client\+\_\+worker\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00042}{42}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00419}{get\+\_\+concurrent\+\_\+phases()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00214}{get\+\_\+max\+\_\+channels()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00309}{get\+\_\+max\+\_\+green()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00296}{get\+\_\+min\+\_\+green()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00227}{get\+\_\+phase\+\_\+channels()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00335}{get\+\_\+red\+\_\+clearance()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00322}{get\+\_\+yellow\+\_\+duration()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00266}{map\+\_\+phase\+\_\+and\+\_\+signalgroup()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00389}{phase\+\_\+seq()}}.

\mbox{\Hypertarget{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}\label{classtraffic__signal__controller__service_1_1tsc__state_a65824bd6c615b5f4105511c0738aeb89}} 
\index{traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}!vehicle\_phase\_num\_map\_@{vehicle\_phase\_num\_map\_}}
\index{vehicle\_phase\_num\_map\_@{vehicle\_phase\_num\_map\_}!traffic\_signal\_controller\_service::tsc\_state@{traffic\_signal\_controller\_service::tsc\_state}}
\doxysubsubsection{\texorpdfstring{vehicle\_phase\_num\_map\_}{vehicle\_phase\_num\_map\_}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$int,int$>$ traffic\+\_\+signal\+\_\+controller\+\_\+service\+::tsc\+\_\+state\+::vehicle\+\_\+phase\+\_\+num\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{monitor__tsc__state_8h_source_l00051}{51}} of file \mbox{\hyperlink{monitor__tsc__state_8h_source}{monitor\+\_\+tsc\+\_\+state.\+h}}.



Referenced by \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00348}{get\+\_\+red\+\_\+duration()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00450}{get\+\_\+vehicle\+\_\+phase\+\_\+map()}}, \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00266}{map\+\_\+phase\+\_\+and\+\_\+signalgroup()}}, and \mbox{\hyperlink{monitor__tsc__state_8cpp_source_l00389}{phase\+\_\+seq()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
tsc\+\_\+client\+\_\+service/include/\mbox{\hyperlink{monitor__tsc__state_8h}{monitor\+\_\+tsc\+\_\+state.\+h}}\item 
tsc\+\_\+client\+\_\+service/src/\mbox{\hyperlink{monitor__tsc__state_8cpp}{monitor\+\_\+tsc\+\_\+state.\+cpp}}\end{DoxyCompactItemize}
