\hypertarget{simulate__mobilitypath_8py_source}{}\doxysection{simulate\+\_\+mobilitypath.\+py}
\label{simulate__mobilitypath_8py_source}\index{scripts/simulate\_mobilitypath.py@{scripts/simulate\_mobilitypath.py}}
\mbox{\hyperlink{simulate__mobilitypath_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00001}\mbox{\hyperlink{namespacesimulate__mobilitypath}{00001}} \textcolor{keyword}{from} os \textcolor{keyword}{import} read}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00002}00002 \textcolor{keyword}{from} kafka \textcolor{keyword}{import} KafkaProducer}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00003}00003 \textcolor{keyword}{import} time}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00004}00004 \textcolor{keyword}{from} time \textcolor{keyword}{import} sleep}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00005}00005 \textcolor{keyword}{import} json}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00008}\mbox{\hyperlink{namespacesimulate__mobilitypath_a1d7f568eb9933a46a765efcf2ced6c05}{00008}} \textcolor{keyword}{def }\mbox{\hyperlink{namespacesimulate__mobilitypath_a1d7f568eb9933a46a765efcf2ced6c05}{read\_json}}(json\_name):}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00009}00009     data = \{\}}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00010}00010     \textcolor{keyword}{with} open(json\_name, \textcolor{stringliteral}{"{}r"{}}) \textcolor{keyword}{as} json\_file:}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00011}00011         data = json.load(json\_file)}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00012}00012     \textcolor{keywordflow}{return} data}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00015}00015 \textcolor{keywordflow}{if} \_\_name\_\_ == \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00016}\mbox{\hyperlink{namespacesimulate__mobilitypath_a2b49e4b498d2420706ae8f9914267bcb}{00016}}     producer = KafkaProducer(bootstrap\_servers=[\textcolor{stringliteral}{"{}127.0.0.1:9092"{}}],}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00017}00017                              value\_serializer=\textcolor{keyword}{lambda} x: json.dumps(x).encode(\textcolor{stringliteral}{'utf-\/8'}))}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00018}\mbox{\hyperlink{namespacesimulate__mobilitypath_ab0219b5e3b34f1ab270c19a440530209}{00018}}     i = 0}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00019}\mbox{\hyperlink{namespacesimulate__mobilitypath_ac771fa8ed1f1bb95d7b8f0ac116f6aab}{00019}}     count = 10}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00020}00020     while(i < count):}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00021}\mbox{\hyperlink{namespacesimulate__mobilitypath_a88b8809aa0b7d5a0e3a23f06489ecd83}{00021}}         data = \mbox{\hyperlink{namespacesimulate__mobilitypath_a1d7f568eb9933a46a765efcf2ced6c05}{read\_json}}(\textcolor{stringliteral}{'mobilitypath.json'})}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00022}\mbox{\hyperlink{namespacesimulate__mobilitypath_a27e74cdd3bb1debc34b27c1053b9f42b}{00022}}         timestamp = int(data[\textcolor{stringliteral}{"{}metadata"{}}][\textcolor{stringliteral}{"{}timestamp"{}}]) + i}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00023}00023         data[\textcolor{stringliteral}{"{}metadata"{}}][\textcolor{stringliteral}{"{}timestamp"{}}] = str(timestamp)}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00024}\mbox{\hyperlink{namespacesimulate__mobilitypath_a057f50dd86724ceb90f5ce377a855358}{00024}}         producer.send(\textcolor{stringliteral}{'v2xhub\_mobility\_path\_in'}, value=data)}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00025}00025         print(\textcolor{stringliteral}{'Sent a mobilitypath.'})}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00026}00026         i += 1}
\DoxyCodeLine{\Hypertarget{simulate__mobilitypath_8py_source_l00027}00027         producer.flush()}

\end{DoxyCode}
