\hypertarget{vehicle__list_8cpp_source}{}\doxysection{vehicle\+\_\+list.\+cpp}
\label{vehicle__list_8cpp_source}\index{streets\_utils/streets\_vehicle\_list/src/models/vehicle\_list.cpp@{streets\_utils/streets\_vehicle\_list/src/models/vehicle\_list.cpp}}
\mbox{\hyperlink{vehicle__list_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{vehicle__list_8h}{vehicle\_list.h}}"{}}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00003}00003 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacestreets__vehicles}{streets\_vehicles}} \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00006}\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a202a7cdf741d9d64857288dd797b075f}{00006}}    std::vector<vehicle> \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a202a7cdf741d9d64857288dd797b075f}{vehicle\_list::get\_vehicles\_by\_lane}}( \textcolor{keyword}{const} \textcolor{keywordtype}{int} lane\_id ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00007}00007         std::vector<vehicle> vehicles\_in\_entry\_lane;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00008}00008         \textcolor{comment}{// Read lock}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00009}00009         std::shared\_lock  lock(\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_af89704297beaa9d07679743b0effa22a}{vehicle\_list\_lock}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00010}00010         \textcolor{keywordflow}{for} ( \textcolor{keyword}{auto} it = \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.begin(); it != \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.end(); it ++ ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00011}00011             \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}} veh =it-\/>second;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00012}00012             \textcolor{keywordflow}{if} ( veh.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_adc3dab0260f149fc908b9b7d49e1ba99}{\_cur\_lane\_id}} == lane\_id ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00013}00013                 vehicles\_in\_entry\_lane.push\_back(veh);}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00014}00014             \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00015}00015         \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00016}00016         \textcolor{keywordflow}{return} vehicles\_in\_entry\_lane;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00017}00017     \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00019}\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a64abd8cac7ed0858117cd997de976afc}{00019}}     std::vector<vehicle> \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a64abd8cac7ed0858117cd997de976afc}{vehicle\_list::get\_vehicles\_by\_state}}( \textcolor{keyword}{const} \mbox{\hyperlink{namespacestreets__vehicles_a41f5c896d8020c141aa96235cf1405ac}{vehicle\_state}} state ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00020}00020         std::vector<vehicle> vehicle\_in\_state;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00021}00021         \textcolor{comment}{// Read Lock}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00022}00022         std::shared\_lock  lock(\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_af89704297beaa9d07679743b0effa22a}{vehicle\_list\_lock}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00023}00023         \textcolor{keywordflow}{for} ( \textcolor{keyword}{auto} it = \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.begin(); it != \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.end(); it ++ ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00024}00024             \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}} veh =it-\/>second;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00025}00025             \textcolor{keywordflow}{if} ( veh.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_a54872859b3a12ee290b98e0eedd2864f}{\_cur\_state}} == state ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00026}00026                 vehicle\_in\_state.push\_back(veh);}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00027}00027             \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00028}00028         \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00029}00029         \textcolor{keywordflow}{return} vehicle\_in\_state;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00030}00030     \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00032}\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a1d9105cbed952c64d0618d6e4bb6f6c4}{00032}}     std::unordered\_map<std::string,vehicle> \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a1d9105cbed952c64d0618d6e4bb6f6c4}{vehicle\_list::get\_vehicles}}() \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00033}00033         \textcolor{comment}{// Read Lock}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00034}00034         std::shared\_lock  lock(\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_af89704297beaa9d07679743b0effa22a}{vehicle\_list\_lock}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00035}00035         \textcolor{keywordflow}{return} \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}};}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00036}00036     \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00038}\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a832fa570b8e2cf14e2844df1ef3b4f24}{00038}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a832fa570b8e2cf14e2844df1ef3b4f24}{vehicle\_list::add\_vehicle}}(\textcolor{keyword}{const} \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}} \&veh) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00039}00039         \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.insert(std::pair<std::string, vehicle>(\{veh.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_a470605f661a8f625329ebbb10888e2b8}{\_id}},veh\}));}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00040}00040     \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00041}00041 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00042}\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a57317c5236b9aa537f63271a7af1dfda}{00042}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a57317c5236b9aa537f63271a7af1dfda}{vehicle\_list::update\_vehicle}}(\textcolor{keyword}{const} \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}} \&\mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}}) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00043}00043         \textcolor{keyword}{auto} it = \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.find(\mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}}.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_a470605f661a8f625329ebbb10888e2b8}{\_id}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00044}00044         \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.end()) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00045}00045             it-\/>second = \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}};}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00046}00046         \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00047}00047             SPDLOG\_WARN(\textcolor{stringliteral}{"{}Did not find vehicle \{0\} to update!"{}}, \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}}.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_a470605f661a8f625329ebbb10888e2b8}{\_id}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00048}00048         \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00049}00049     \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00051}00051 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00052}\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a6bffe794f9109491bf6c5c9d2b673b5d}{00052}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a6bffe794f9109491bf6c5c9d2b673b5d}{vehicle\_list::purge\_old\_vehicles}}( \textcolor{keyword}{const} uint64\_t timeout ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00053}00053         uint64\_t timeout\_time = std::chrono::duration\_cast<std::chrono::milliseconds>(std::chrono::system\_clock::now().time\_since\_epoch()).count() -\/ timeout;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00054}00054         \textcolor{keywordflow}{for} ( \textcolor{keyword}{auto} it = \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.begin(); it != \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.end();  ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00055}00055             \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}} veh =it-\/>second;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00056}00056             SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Checking Vehicle \{0\} timestamp \{1\} < timeout time \{2\} !"{}}, veh.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_a470605f661a8f625329ebbb10888e2b8}{\_id}}, veh.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_a278b51810d25efcfcfb91bb13e43e6f3}{\_cur\_time}}, timeout );}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00057}00057             \textcolor{keywordflow}{if} ( veh.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_a278b51810d25efcfcfb91bb13e43e6f3}{\_cur\_time}} < timeout\_time  ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00058}00058                 SPDLOG\_WARN(\textcolor{stringliteral}{"{}Vehicle \{0\} timed out!"{}}, veh.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_a470605f661a8f625329ebbb10888e2b8}{\_id}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00059}00059                 \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.erase(it ++);}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00060}00060             \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00061}00061             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00062}00062                 it ++;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00063}00063             \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00064}00064         \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00066}00066     \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00068}\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a4c70ccdc6e01a3bda8dd6ede9a29ad46}{00068}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a4c70ccdc6e01a3bda8dd6ede9a29ad46}{vehicle\_list::process\_update}}( \textcolor{keyword}{const} std::string \&update ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00069}00069       }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00070}00070         \textcolor{keywordflow}{if} ( \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a99674d65b216322ecc36e07148ce5cb9}{processor}} != \textcolor{keyword}{nullptr} ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00071}00071             \textcolor{comment}{// Write lock for purge/update/add}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00072}00072             std::unique\_lock  lock(\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_af89704297beaa9d07679743b0effa22a}{vehicle\_list\_lock}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00073}00073             \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a6bffe794f9109491bf6c5c9d2b673b5d}{purge\_old\_vehicles}}( \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a99674d65b216322ecc36e07148ce5cb9}{processor}}-\/>get\_timeout());}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00074}00074             \textcolor{keywordflow}{try}\{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00075}00075                 \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}} \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}};}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00076}00076                 rapidjson::Document doc;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00077}00077                 std::string v\_id = \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a99674d65b216322ecc36e07148ce5cb9}{processor}}-\/>get\_vehicle\_id(update, doc);}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00078}00078                 \textcolor{keywordflow}{if} ( \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.find(v\_id) != \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.end() ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00079}00079                     \textcolor{comment}{// If vehicle is already in Vehicle List, update vehicle}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00080}00080                     \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}} = \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.find(v\_id)-\/>second;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00081}00081                     \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a99674d65b216322ecc36e07148ce5cb9}{processor}}-\/>process\_status\_intent( doc, \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00082}00082                     \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a57317c5236b9aa537f63271a7af1dfda}{update\_vehicle}}(\mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00083}00083                     SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Update Vehicle : \{0\}"{}} , \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}}.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_a470605f661a8f625329ebbb10888e2b8}{\_id}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00084}00084                 \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00085}00085                 \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00086}00086                     \textcolor{comment}{// If vehicle is not already in Vehicle list, add vehicle}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00087}00087                     \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a99674d65b216322ecc36e07148ce5cb9}{processor}}-\/>process\_status\_intent( doc, \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00088}00088                     \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a832fa570b8e2cf14e2844df1ef3b4f24}{add\_vehicle}}(\mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00089}00089                     SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Added Vehicle : \{0\}"{}} , \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}}.\mbox{\hyperlink{structstreets__vehicles_1_1vehicle_a470605f661a8f625329ebbb10888e2b8}{\_id}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00091}00091                 \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00092}00092             \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00093}00093             \textcolor{keywordflow}{catch}( \textcolor{keyword}{const} \mbox{\hyperlink{classstreets__vehicles_1_1status__intent__processing__exception}{status\_intent\_processing\_exception}} \&ex) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00094}00094                 SPDLOG\_CRITICAL(\textcolor{stringliteral}{"{}Failed to parse status and intent update: \{0\}"{}}, ex.what());}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00095}00095             \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00096}00096         \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00097}00097         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00098}00098             SPDLOG\_CRITICAL(\textcolor{stringliteral}{"{}No status\_intent\_processor available! Set status\_intent\_processor for vehicle\_list!"{}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00099}00099         \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00100}00100         }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00101}00101     \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00103}\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a96b773f80c8d5f05291ac4c75cc293e9}{00103}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a96b773f80c8d5f05291ac4c75cc293e9}{vehicle\_list::set\_processor}}(std::shared\_ptr<status\_intent\_processor> \_processor ) \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00104}00104         \textcolor{comment}{// Write Lock}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00105}00105         \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a99674d65b216322ecc36e07148ce5cb9}{processor}} = \_processor;}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00106}00106     \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00107}00107 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00108}\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_ada45864c474184e09e08f52488fd9e84}{00108}}     std::shared\_ptr<status\_intent\_processor> \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_ada45864c474184e09e08f52488fd9e84}{vehicle\_list::get\_processor}}() \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00109}00109         \textcolor{comment}{// Read lock}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00110}00110         \textcolor{keywordflow}{return} \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a99674d65b216322ecc36e07148ce5cb9}{processor}};}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00111}00111     \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00113}\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a3a8d9a00c7071e4221b4677035974557}{00113}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a3a8d9a00c7071e4221b4677035974557}{vehicle\_list::clear}}() \{}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00114}00114         \textcolor{comment}{// Write Lock}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00115}00115         std::unique\_lock  lock(\mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_af89704297beaa9d07679743b0effa22a}{vehicle\_list\_lock}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00116}00116         SPDLOG\_WARN(\textcolor{stringliteral}{"{}Clearing Vehicle list!"{}});}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00117}00117         \mbox{\hyperlink{classstreets__vehicles_1_1vehicle__list_a5f453f61801ffa52db53f5803c817ba5}{vehicles}}.clear();}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00118}00118 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00119}00119     \}}
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00120}00120 }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00121}00121     }
\DoxyCodeLine{\Hypertarget{vehicle__list_8cpp_source_l00122}00122 \}}

\end{DoxyCode}
