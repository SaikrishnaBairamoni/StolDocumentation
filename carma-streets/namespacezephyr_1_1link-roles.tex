\hypertarget{namespacezephyr_1_1link-roles}{}\doxysection{zephyr.\+link-\/roles Namespace Reference}
\label{namespacezephyr_1_1link-roles}\index{zephyr.link-\/roles@{zephyr.link-\/roles}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacezephyr_1_1link-roles_a6fa1c99caca0d7adb5b6ea28480ef31a}{get\+\_\+github\+\_\+rev}} ()
\item 
def \mbox{\hyperlink{namespacezephyr_1_1link-roles_aadb8a5b4d8e65b39d29271630f6c09ad}{setup}} (app)
\item 
def \mbox{\hyperlink{namespacezephyr_1_1link-roles_a0849ba094753822c55fc10c6fbcecf7b}{autolink}} (pattern)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacezephyr_1_1link-roles_ad2024d3c22e45cd5131a5677f9f515f6}{west\+\_\+manifest}} = west.\+manifest.\+Manifest.\+from\+\_\+file()
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacezephyr_1_1link-roles_a0849ba094753822c55fc10c6fbcecf7b}\label{namespacezephyr_1_1link-roles_a0849ba094753822c55fc10c6fbcecf7b}} 
\index{zephyr.link-\/roles@{zephyr.link-\/roles}!autolink@{autolink}}
\index{autolink@{autolink}!zephyr.link-\/roles@{zephyr.link-\/roles}}
\doxysubsubsection{\texorpdfstring{autolink()}{autolink()}}
{\footnotesize\ttfamily def zephyr.\+link-\/roles.\+autolink (\begin{DoxyParamCaption}\item[{}]{pattern }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{link-roles_8py_source_l00069}{69}} of file \mbox{\hyperlink{link-roles_8py_source}{link-\/roles.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00069 \textcolor{keyword}{def }\mbox{\hyperlink{namespacezephyr_1_1link-roles_a0849ba094753822c55fc10c6fbcecf7b}{autolink}}(pattern):}
\DoxyCodeLine{00070     \textcolor{keyword}{def }role(name, rawtext, text, lineno, inliner, options=\{\}, content=[]):}
\DoxyCodeLine{00071         m = re.search(\textcolor{stringliteral}{r'(.*)\(\backslash\)s*<(.*)>'}, text)}
\DoxyCodeLine{00072         \textcolor{keywordflow}{if} m:}
\DoxyCodeLine{00073             link\_text = m.group(1)}
\DoxyCodeLine{00074             link = m.group(2)}
\DoxyCodeLine{00075         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00076             link\_text = text}
\DoxyCodeLine{00077             link = text}
\DoxyCodeLine{00078         url = pattern \% (link,)}
\DoxyCodeLine{00079         node = nodes.reference(rawtext, link\_text, refuri=url, **options)}
\DoxyCodeLine{00080         \textcolor{keywordflow}{return} [node], []}
\DoxyCodeLine{00081     \textcolor{keywordflow}{return} role}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{link-roles_8py_source_l00032}{zephyr.\+link-\/roles.\+setup()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacezephyr_1_1link-roles_a0849ba094753822c55fc10c6fbcecf7b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacezephyr_1_1link-roles_a6fa1c99caca0d7adb5b6ea28480ef31a}\label{namespacezephyr_1_1link-roles_a6fa1c99caca0d7adb5b6ea28480ef31a}} 
\index{zephyr.link-\/roles@{zephyr.link-\/roles}!get\_github\_rev@{get\_github\_rev}}
\index{get\_github\_rev@{get\_github\_rev}!zephyr.link-\/roles@{zephyr.link-\/roles}}
\doxysubsubsection{\texorpdfstring{get\_github\_rev()}{get\_github\_rev()}}
{\footnotesize\ttfamily def zephyr.\+link-\/roles.\+get\+\_\+github\+\_\+rev (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{link-roles_8py_source_l00022}{22}} of file \mbox{\hyperlink{link-roles_8py_source}{link-\/roles.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00022 \textcolor{keyword}{def }\mbox{\hyperlink{namespacezephyr_1_1link-roles_a6fa1c99caca0d7adb5b6ea28480ef31a}{get\_github\_rev}}():}
\DoxyCodeLine{00023     \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00024         output = subprocess.check\_output(\textcolor{stringliteral}{'git describe -\/-\/exact-\/match'},}
\DoxyCodeLine{00025                                          shell=\textcolor{keyword}{True}, stderr=subprocess.DEVNULL)}
\DoxyCodeLine{00026     \textcolor{keywordflow}{except} subprocess.CalledProcessError:}
\DoxyCodeLine{00027         \textcolor{keywordflow}{return} \textcolor{stringliteral}{'main'}}
\DoxyCodeLine{00028 }
\DoxyCodeLine{00029     \textcolor{keywordflow}{return} output.strip().decode(\textcolor{stringliteral}{'utf-\/8'})}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031 }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{link-roles_8py_source_l00032}{zephyr.\+link-\/roles.\+setup()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=329pt]{namespacezephyr_1_1link-roles_a6fa1c99caca0d7adb5b6ea28480ef31a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacezephyr_1_1link-roles_aadb8a5b4d8e65b39d29271630f6c09ad}\label{namespacezephyr_1_1link-roles_aadb8a5b4d8e65b39d29271630f6c09ad}} 
\index{zephyr.link-\/roles@{zephyr.link-\/roles}!setup@{setup}}
\index{setup@{setup}!zephyr.link-\/roles@{zephyr.link-\/roles}}
\doxysubsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily def zephyr.\+link-\/roles.\+setup (\begin{DoxyParamCaption}\item[{}]{app }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{link-roles_8py_source_l00032}{32}} of file \mbox{\hyperlink{link-roles_8py_source}{link-\/roles.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00032 \textcolor{keyword}{def }\mbox{\hyperlink{namespacezephyr_1_1link-roles_aadb8a5b4d8e65b39d29271630f6c09ad}{setup}}(app):}
\DoxyCodeLine{00033     rev = \mbox{\hyperlink{namespacezephyr_1_1link-roles_a6fa1c99caca0d7adb5b6ea28480ef31a}{get\_github\_rev}}()}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035     \textcolor{comment}{\# Try to get the zephyr repository's GitHub URL from the manifest.}}
\DoxyCodeLine{00036     \textcolor{comment}{\#}}
\DoxyCodeLine{00037     \textcolor{comment}{\# This allows building the docs in downstream Zephyr-\/based}}
\DoxyCodeLine{00038     \textcolor{comment}{\# software with forks of the zephyr repository, and getting}}
\DoxyCodeLine{00039     \textcolor{comment}{\# :zephyr\_file: / :zephyr\_raw: output that links to the fork,}}
\DoxyCodeLine{00040     \textcolor{comment}{\# instead of mainline zephyr.}}
\DoxyCodeLine{00041     baseurl = \textcolor{keywordtype}{None}}
\DoxyCodeLine{00042     \textcolor{keywordflow}{if} west\_manifest \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00043         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00044             \textcolor{comment}{\# This search tries to look up a project named 'zephyr'.}}
\DoxyCodeLine{00045             \textcolor{comment}{\# If zephyr is the manifest repository, this raises}}
\DoxyCodeLine{00046             \textcolor{comment}{\# ValueError, since there isn't any such project.}}
\DoxyCodeLine{00047             baseurl = west\_manifest.get\_projects([\textcolor{stringliteral}{'zephyr'}],}
\DoxyCodeLine{00048                                                  allow\_paths=\textcolor{keyword}{False})[0].url}
\DoxyCodeLine{00049             \textcolor{comment}{\# Spot check that we have a non-\/empty URL.}}
\DoxyCodeLine{00050             \textcolor{keyword}{assert} baseurl}
\DoxyCodeLine{00051         \textcolor{keywordflow}{except} ValueError:}
\DoxyCodeLine{00052             \textcolor{keywordflow}{pass}}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00054     \textcolor{comment}{\# If the search failed, fall back on the mainline URL.}}
\DoxyCodeLine{00055     \textcolor{keywordflow}{if} baseurl \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00056         baseurl = \textcolor{stringliteral}{'https://github.com/zephyrproject-\/rtos/zephyr'}}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058     app.add\_role(\textcolor{stringliteral}{'zephyr\_file'}, \mbox{\hyperlink{namespacezephyr_1_1link-roles_a0849ba094753822c55fc10c6fbcecf7b}{autolink}}(\textcolor{stringliteral}{'\{\}/blob/\{\}/\%s'}.format(baseurl, rev)))}
\DoxyCodeLine{00059     app.add\_role(\textcolor{stringliteral}{'zephyr\_raw'}, \mbox{\hyperlink{namespacezephyr_1_1link-roles_a0849ba094753822c55fc10c6fbcecf7b}{autolink}}(\textcolor{stringliteral}{'\{\}/raw/\{\}/\%s'}.format(baseurl, rev)))}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061     \textcolor{comment}{\# The role just creates new nodes based on information in the}}
\DoxyCodeLine{00062     \textcolor{comment}{\# arguments; its behavior doesn't depend on any other documents.}}
\DoxyCodeLine{00063     \textcolor{keywordflow}{return} \{}
\DoxyCodeLine{00064         \textcolor{stringliteral}{'parallel\_read\_safe'}: \textcolor{keyword}{True},}
\DoxyCodeLine{00065         \textcolor{stringliteral}{'parallel\_write\_safe'}: \textcolor{keyword}{True},}
\DoxyCodeLine{00066     \}}
\DoxyCodeLine{00067 }
\DoxyCodeLine{00068 }

\end{DoxyCode}


References \mbox{\hyperlink{link-roles_8py_source_l00069}{zephyr.\+link-\/roles.\+autolink()}}, and \mbox{\hyperlink{link-roles_8py_source_l00022}{zephyr.\+link-\/roles.\+get\+\_\+github\+\_\+rev()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacezephyr_1_1link-roles_aadb8a5b4d8e65b39d29271630f6c09ad_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacezephyr_1_1link-roles_ad2024d3c22e45cd5131a5677f9f515f6}\label{namespacezephyr_1_1link-roles_ad2024d3c22e45cd5131a5677f9f515f6}} 
\index{zephyr.link-\/roles@{zephyr.link-\/roles}!west\_manifest@{west\_manifest}}
\index{west\_manifest@{west\_manifest}!zephyr.link-\/roles@{zephyr.link-\/roles}}
\doxysubsubsection{\texorpdfstring{west\_manifest}{west\_manifest}}
{\footnotesize\ttfamily zephyr.\+link-\/roles.\+west\+\_\+manifest = west.\+manifest.\+Manifest.\+from\+\_\+file()}



Definition at line \mbox{\hyperlink{link-roles_8py_source_l00015}{15}} of file \mbox{\hyperlink{link-roles_8py_source}{link-\/roles.\+py}}.

