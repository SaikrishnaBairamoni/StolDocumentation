\hypertarget{advisory__speed_8cpp_source}{}\doxysection{advisory\+\_\+speed.\+cpp}
\label{advisory__speed_8cpp_source}\index{streets\_utils/streets\_signal\_phase\_and\_timing/src/models/advisory\_speed.cpp@{streets\_utils/streets\_signal\_phase\_and\_timing/src/models/advisory\_speed.cpp}}
\mbox{\hyperlink{advisory__speed_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{advisory__speed_8h}{advisory\_speed.h}}"{}}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00003}00003 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacesignal__phase__and__timing}{signal\_phase\_and\_timing}}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00004}00004 \{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00005}\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_a17d73cbb5d93005508bb5114b3617c32}{00005}}     rapidjson::Value \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_a17d73cbb5d93005508bb5114b3617c32}{advisory\_speed::toJson}}(rapidjson::Document::AllocatorType \&allocator )\textcolor{keyword}{ const}\{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00006}00006         \textcolor{comment}{// Create advisory speed JSON value}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00007}00007         rapidjson::Value adv\_speed(rapidjson::kObjectType);}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00008}00008         \textcolor{comment}{// Populate}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00009}00009         adv\_speed.AddMember(\textcolor{stringliteral}{"{}type"{}}, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_afadb771e3a28ab06864ffc747286cc96}{type}}), allocator);}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00010}00010         adv\_speed.AddMember(\textcolor{stringliteral}{"{}speed"{}}, \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_afd770fcef3f0e28cc252d45d90947e8f}{speed}}, allocator);}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00011}00011         \textcolor{keywordflow}{if} ( \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ae9e350ee2c2ed6cc3437e7e77d550018}{confidence}} != \mbox{\hyperlink{namespacesignal__phase__and__timing_a73071ea25111b378aeca7eb3d5a91bc3a7060e0481896e00b3f7d20f1e8e2749a}{speed\_confidence::unavailable}} ) \{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00012}00012             adv\_speed.AddMember(\textcolor{stringliteral}{"{}confidence"{}}, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ae9e350ee2c2ed6cc3437e7e77d550018}{confidence}}), allocator);}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00013}00013         \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00014}00014         adv\_speed.AddMember(\textcolor{stringliteral}{"{}distance"{}}, \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_a81e3603c9fc5a5844c009e56cad0aa72}{distance}}, allocator);}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00015}00015         adv\_speed.AddMember(\textcolor{stringliteral}{"{}class"{}}, \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ab4af7d2381d017190a4f90e422d5f5d4}{veh\_class}}, allocator);}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00016}00016         \textcolor{keywordflow}{return} adv\_speed;}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00017}00017     \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00019}\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ab065b8b1df30b02ea1cddeae8ca6bab6}{00019}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ab065b8b1df30b02ea1cddeae8ca6bab6}{advisory\_speed::fromJson}}( \textcolor{keyword}{const} rapidjson::Value \&val ) \{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00020}00020         \textcolor{keywordflow}{if} ( val.IsObject() ) \{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00021}00021             \textcolor{keywordflow}{if} ( val.HasMember(\textcolor{stringliteral}{"{}type"{}}) \&\& val[\textcolor{stringliteral}{"{}type"{}}].IsInt() ) \{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00022}00022                 \textcolor{comment}{// REQUIRED see J2735 AdvisorySpeed definition}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00023}00023                 \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_afadb771e3a28ab06864ffc747286cc96}{type}} =  \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacesignal__phase__and__timing_a7a779ac32aa585dcdf0e0c132ac2b55e}{advisory\_speed\_type}}\textcolor{keyword}{>}(val[\textcolor{stringliteral}{"{}type"{}}].GetInt());}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00024}00024             \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00025}00025             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00026}00026                \textcolor{keywordflow}{throw} \mbox{\hyperlink{classsignal__phase__and__timing_1_1signal__phase__and__timing__exception}{signal\_phase\_and\_timing\_exception}}(\textcolor{stringliteral}{"{}AdvisorySpeed is missing required type property!"{}});}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00027}00027             \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00028}00028             \textcolor{keywordflow}{if} ( val.HasMember(\textcolor{stringliteral}{"{}speed"{}}) \&\& val[\textcolor{stringliteral}{"{}speed"{}}].IsUint() )\{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00029}00029                 \textcolor{comment}{// OPTIONAL see J2735 AdvisorySpeed definition}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00030}00030                 \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_afd770fcef3f0e28cc252d45d90947e8f}{speed}} =  \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(val[\textcolor{stringliteral}{"{}speed"{}}].GetUint());}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00032}00032             \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00033}00033             \textcolor{keywordflow}{if} ( val.HasMember(\textcolor{stringliteral}{"{}confidence"{}}) \&\& val[\textcolor{stringliteral}{"{}confidence"{}}].IsInt() ) \{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00034}00034                 \textcolor{comment}{// OPTIONAL see J2735 AdvisorySpeed definition}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00035}00035                 \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ae9e350ee2c2ed6cc3437e7e77d550018}{confidence}} = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacesignal__phase__and__timing_a73071ea25111b378aeca7eb3d5a91bc3}{speed\_confidence}}\textcolor{keyword}{>}(val[\textcolor{stringliteral}{"{}confidence"{}}].GetInt());}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00036}00036             \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00037}00037             \textcolor{keywordflow}{if} ( val.HasMember(\textcolor{stringliteral}{"{}distance"{}}) \&\& val[\textcolor{stringliteral}{"{}distance"{}}].IsUint() )\{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00038}00038                 \textcolor{comment}{// OPTIONAL see J2735 AdvisorySpeed definition}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00039}00039                 \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_a81e3603c9fc5a5844c009e56cad0aa72}{distance}} =  \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(val[\textcolor{stringliteral}{"{}distance"{}}].GetUint());}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00041}00041             \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00042}00042             \textcolor{keywordflow}{if} ( val.HasMember(\textcolor{stringliteral}{"{}class"{}}) \&\& val[\textcolor{stringliteral}{"{}class"{}}].IsUint() )\{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00043}00043                 \textcolor{comment}{// OPTIONAL see J2735 AdvisorySpeed definition}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00044}00044                 \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ab4af7d2381d017190a4f90e422d5f5d4}{veh\_class}} = \textcolor{keyword}{static\_cast<}uint8\_t\textcolor{keyword}{>}(val[\textcolor{stringliteral}{"{}class"{}}].GetUint());}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00046}00046             \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00047}00047         \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00048}00048     \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00050}\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_a458124aa8b914c528b57d27c407ed8d5}{00050}}     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_a458124aa8b914c528b57d27c407ed8d5}{advisory\_speed::operator==}}(\textcolor{keyword}{const} \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed}{advisory\_speed}} \&compare)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00051}00051         \textcolor{keywordflow}{return} \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_afadb771e3a28ab06864ffc747286cc96}{type}} == compare.\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_afadb771e3a28ab06864ffc747286cc96}{type}} \&\& \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_afd770fcef3f0e28cc252d45d90947e8f}{speed}} == compare.\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_afd770fcef3f0e28cc252d45d90947e8f}{speed}} \&\& \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ae9e350ee2c2ed6cc3437e7e77d550018}{confidence}} == compare.\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ae9e350ee2c2ed6cc3437e7e77d550018}{confidence}} }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00052}00052             \&\& \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_a81e3603c9fc5a5844c009e56cad0aa72}{distance}} == compare.\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_a81e3603c9fc5a5844c009e56cad0aa72}{distance}} \&\& \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ab4af7d2381d017190a4f90e422d5f5d4}{veh\_class}} == compare.\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ab4af7d2381d017190a4f90e422d5f5d4}{veh\_class}};}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00053}00053     \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00055}\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ae7b492ac800b2ede343350a174ebed44}{00055}}     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_ae7b492ac800b2ede343350a174ebed44}{advisory\_speed::operator!=}}(\textcolor{keyword}{const} \mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed}{advisory\_speed}} \&compare)\textcolor{keyword}{ const}\{}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00056}00056         \textcolor{keywordflow}{return} !\mbox{\hyperlink{structsignal__phase__and__timing_1_1advisory__speed_a458124aa8b914c528b57d27c407ed8d5}{operator==}}(compare);}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00057}00057     \}}
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00059}00059     }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00060}00060 \} }
\DoxyCodeLine{\Hypertarget{advisory__speed_8cpp_source_l00061}00061 }

\end{DoxyCode}
