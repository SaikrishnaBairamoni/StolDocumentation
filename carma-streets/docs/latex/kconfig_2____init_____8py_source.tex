\hypertarget{kconfig_2____init_____8py_source}{}\doxysection{\+\_\+\+\_\+init\+\_\+\+\_\+.\+py}
\label{kconfig_2____init_____8py_source}\index{doc/\_extensions/zephyr/kconfig/\_\_init\_\_.py@{doc/\_extensions/zephyr/kconfig/\_\_init\_\_.py}}
\mbox{\hyperlink{kconfig_2____init_____8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00001}\mbox{\hyperlink{namespacezephyr_1_1kconfig}{00001}} \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00002}00002 \textcolor{stringliteral}{Kconfig Extension}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00003}00003 \textcolor{stringliteral}{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00004}00004 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00005}00005 \textcolor{stringliteral}{Copyright (c) 2022 Nordic Semiconductor ASA}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00006}00006 \textcolor{stringliteral}{SPDX-\/License-\/Identifier: Apache-\/2.0}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00007}00007 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00008}00008 \textcolor{stringliteral}{Introduction}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00009}00009 \textcolor{stringliteral}{============}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00010}00010 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00011}00011 \textcolor{stringliteral}{This extension adds a new domain (``kconfig``) for the Kconfig language. Unlike}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00012}00012 \textcolor{stringliteral}{many other domains, the Kconfig options are not rendered by Sphinx directly but}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00013}00013 \textcolor{stringliteral}{on the client side using a database built by the extension. A special directive}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00014}00014 \textcolor{stringliteral}{``.. kconfig:search::`` can be inserted on any page to render a search box that}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00015}00015 \textcolor{stringliteral}{allows to browse the database. References to Kconfig options can be created by}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00016}00016 \textcolor{stringliteral}{using the ``:kconfig:option:`` role. Kconfig options behave as regular domain}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00017}00017 \textcolor{stringliteral}{objects, so they can also be referenced by other projects using Intersphinx.}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00018}00018 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00019}00019 \textcolor{stringliteral}{Options}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00020}00020 \textcolor{stringliteral}{=======}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00021}00021 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00022}00022 \textcolor{stringliteral}{-\/ kconfig\_generate\_db: Set to True if you want to generate the Kconfig database.}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00023}00023 \textcolor{stringliteral}{  This }\textcolor{keywordflow}{is} only required \textcolor{keywordflow}{if} you want to use the ``.. kconfig:search::``}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00024}00024   directive, \textcolor{keywordflow}{not} \textcolor{keywordflow}{if} you just need support \textcolor{keywordflow}{for} Kconfig domain (e.g. when using}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00025}00025   Intersphinx \textcolor{keywordflow}{in} another project). Defaults to \textcolor{keyword}{False}.}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00026}00026 -\/ kconfig\_ext\_paths: A list of base paths where to search \textcolor{keywordflow}{for} external modules}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00027}00027   Kconfig files when they use ``kconfig-\/ext: \textcolor{keyword}{True}``. The extension will look \textcolor{keywordflow}{for}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00028}00028   \$\{BASE\_PATH\}/modules/\$\{MODULE\_NAME\}/Kconfig.}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00029}00029 \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00030}00030 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00031}00031 \textcolor{stringliteral}{from distutils.command.build import build}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00032}00032 \textcolor{stringliteral}{from itertools import chain}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00033}00033 \textcolor{stringliteral}{import json}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00034}00034 \textcolor{stringliteral}{from operator import mod}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00035}00035 \textcolor{stringliteral}{import os}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00036}00036 \textcolor{stringliteral}{from pathlib import Path}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00037}00037 \textcolor{stringliteral}{import re}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00038}00038 \textcolor{stringliteral}{import sys}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00039}00039 \textcolor{stringliteral}{from tempfile import TemporaryDirectory}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00040}00040 \textcolor{stringliteral}{from typing import Any, Dict, Iterable, List, Optional, Tuple}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00041}00041 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00042}00042 \textcolor{stringliteral}{from docutils import nodes}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00043}00043 \textcolor{stringliteral}{from sphinx.addnodes import pending\_xref}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00044}00044 \textcolor{stringliteral}{from sphinx.application import Sphinx}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00045}00045 \textcolor{stringliteral}{from sphinx.builders import Builder}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00046}00046 \textcolor{stringliteral}{from sphinx.domains import Domain, ObjType}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00047}00047 \textcolor{stringliteral}{from sphinx.environment import BuildEnvironment}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00048}00048 \textcolor{stringliteral}{from sphinx.errors import ExtensionError}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00049}00049 \textcolor{stringliteral}{from sphinx.roles import XRefRole}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00050}00050 \textcolor{stringliteral}{from sphinx.util import progress\_message}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00051}00051 \textcolor{stringliteral}{from sphinx.util.docutils import SphinxDirective}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00052}00052 \textcolor{stringliteral}{from sphinx.util.nodes import make\_refnode}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00053}00053 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00054}00054 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00055}\mbox{\hyperlink{namespacezephyr_1_1kconfig_a2aea884e72ee809d2eaf27a2a515fc56}{00055}} \textcolor{stringliteral}{\_\_version\_\_ = "{}0.1.0"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00056}00056 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00057}00057 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00058}\mbox{\hyperlink{namespacezephyr_1_1kconfig_affc8e2661375c6e1b54b02d2052b3e06}{00058}} \textcolor{stringliteral}{RESOURCES\_DIR = Path(\_\_file\_\_).parent / "{}static"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00059}\mbox{\hyperlink{namespacezephyr_1_1kconfig_a440d802ca63df53704023d9cfda85b31}{00059}} \textcolor{stringliteral}{ZEPHYR\_BASE = Path(\_\_file\_\_).parents[4]}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00060}00060 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00061}\mbox{\hyperlink{namespacezephyr_1_1kconfig_a8e949dfff4e576316f091d0d44e36aaa}{00061}} \textcolor{stringliteral}{SCRIPTS = ZEPHYR\_BASE / "{}scripts"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00062}00062 \textcolor{stringliteral}{sys.path.insert(0, str(SCRIPTS))}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00063}00063 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00064}\mbox{\hyperlink{namespacezephyr_1_1kconfig_a46c1bace6d126d063a0fdc3e48a22603}{00064}} \textcolor{stringliteral}{KCONFIGLIB = SCRIPTS / "{}kconfig"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00065}00065 \textcolor{stringliteral}{sys.path.insert(0, str(KCONFIGLIB))}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00066}00066 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00067}00067 \textcolor{stringliteral}{import zephyr\_module}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00068}00068 \textcolor{stringliteral}{import kconfiglib}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00069}00069 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00070}00070 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00071}\mbox{\hyperlink{namespacezephyr_1_1kconfig_a471f8d756833931b2d2f0950ca91fd11}{00071}} \textcolor{stringliteral}{def kconfig\_load(app: Sphinx) -\/> Tuple[kconfiglib.Kconfig, Dict[str, str]]:}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00072}00072 \textcolor{stringliteral}{    "{}"{}"{}Load Kconfig"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00073}00073     \textcolor{keyword}{with} TemporaryDirectory() \textcolor{keyword}{as} td:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00074}00074         modules = zephyr\_module.parse\_modules(ZEPHYR\_BASE)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00076}00076         \textcolor{comment}{\# generate Kconfig.modules file}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00077}00077         kconfig = \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00078}00078         \textcolor{keywordflow}{for} module \textcolor{keywordflow}{in} modules:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00079}00079             kconfig += zephyr\_module.process\_kconfig(module.project, module.meta)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00080}00080 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00081}00081         \textcolor{keyword}{with} open(Path(td) / \textcolor{stringliteral}{"{}Kconfig.modules"{}}, \textcolor{stringliteral}{"{}w"{}}) \textcolor{keyword}{as} f:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00082}00082             f.write(kconfig)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00084}00084         \textcolor{comment}{\# generate dummy Kconfig.dts file}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00085}00085         kconfig = \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00086}00086 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00087}00087         \textcolor{keyword}{with} open(Path(td) / \textcolor{stringliteral}{"{}Kconfig.dts"{}}, \textcolor{stringliteral}{"{}w"{}}) \textcolor{keyword}{as} f:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00088}00088             f.write(kconfig)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00089}00089 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00090}00090         \textcolor{comment}{\# base environment}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00091}00091         os.environ[\textcolor{stringliteral}{"{}ZEPHYR\_BASE"{}}] = str(ZEPHYR\_BASE)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00092}00092         os.environ[\textcolor{stringliteral}{"{}srctree"{}}] = str(ZEPHYR\_BASE)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00093}00093         os.environ[\textcolor{stringliteral}{"{}KCONFIG\_DOC\_MODE"{}}] = \textcolor{stringliteral}{"{}1"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00094}00094         os.environ[\textcolor{stringliteral}{"{}KCONFIG\_BINARY\_DIR"{}}] = td}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00095}00095 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00096}00096         \textcolor{comment}{\# include all archs and boards}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00097}00097         os.environ[\textcolor{stringliteral}{"{}ARCH\_DIR"{}}] = \textcolor{stringliteral}{"{}arch"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00098}00098         os.environ[\textcolor{stringliteral}{"{}ARCH"{}}] = \textcolor{stringliteral}{"{}*"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00099}00099         os.environ[\textcolor{stringliteral}{"{}BOARD\_DIR"{}}] = \textcolor{stringliteral}{"{}boards/*/*"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00100}00100 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00101}00101         \textcolor{comment}{\# insert external Kconfigs to the environment}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00102}00102         module\_paths = dict()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00103}00103         \textcolor{keywordflow}{for} module \textcolor{keywordflow}{in} modules:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00104}00104             name = module.meta[\textcolor{stringliteral}{"{}name"{}}]}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00105}00105             name\_var = module.meta[\textcolor{stringliteral}{"{}name-\/sanitized"{}}].upper()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00106}00106             module\_paths[name] = module.project}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00107}00107 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00108}00108             build\_conf = module.meta.get(\textcolor{stringliteral}{"{}build"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00109}00109             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} build\_conf:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00110}00110                 \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00111}00111 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00112}00112             \textcolor{keywordflow}{if} build\_conf.get(\textcolor{stringliteral}{"{}kconfig"{}}):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00113}00113                 kconfig = Path(module.project) / build\_conf[\textcolor{stringliteral}{"{}kconfig"{}}]}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00114}00114                 os.environ[f\textcolor{stringliteral}{"{}ZEPHYR\_\{name\_var\}\_KCONFIG"{}}] = str(kconfig)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00115}00115             \textcolor{keywordflow}{elif} build\_conf.get(\textcolor{stringliteral}{"{}kconfig-\/ext"{}}):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00116}00116                 \textcolor{keywordflow}{for} path \textcolor{keywordflow}{in} app.config.kconfig\_ext\_paths:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00117}00117                     kconfig = Path(path) / \textcolor{stringliteral}{"{}modules"{}} / name / \textcolor{stringliteral}{"{}Kconfig"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00118}00118                     \textcolor{keywordflow}{if} kconfig.exists():}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00119}00119                         os.environ[f\textcolor{stringliteral}{"{}ZEPHYR\_\{name\_var\}\_KCONFIG"{}}] = str(kconfig)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00120}00120 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00121}00121         \textcolor{keywordflow}{return} kconfiglib.Kconfig(ZEPHYR\_BASE / \textcolor{stringliteral}{"{}Kconfig"{}}), module\_paths}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00122}00122 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00123}00123 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00124}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigSearchNode}{00124}} \textcolor{keyword}{class }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigSearchNode}{KconfigSearchNode}}(nodes.Element):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00125}00125     \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00126}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigSearchNode_a4eee913dae3b7aa09e1168588824b03a}{00126}}     \textcolor{keyword}{def }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigSearchNode_a4eee913dae3b7aa09e1168588824b03a}{html}}():}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00127}00127         \textcolor{keywordflow}{return} \textcolor{stringliteral}{'<div id="{}\_\_kconfig-\/search"{}></div>'}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00128}00128 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00129}00129 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00130}\mbox{\hyperlink{namespacezephyr_1_1kconfig_aee2563c27a400cdd2f59aabe9026c0be}{00130}} \textcolor{keyword}{def }\mbox{\hyperlink{namespacezephyr_1_1kconfig_aee2563c27a400cdd2f59aabe9026c0be}{kconfig\_search\_visit\_html}}(self, node: nodes.Node) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00131}00131     self.body.append(node.html())}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00132}00132     \textcolor{keywordflow}{raise} nodes.SkipNode}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00133}00133 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00134}00134 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00135}\mbox{\hyperlink{namespacezephyr_1_1kconfig_ab5f57ef3e10e3a5a6b7e387f3d57da0f}{00135}} \textcolor{keyword}{def }\mbox{\hyperlink{namespacezephyr_1_1kconfig_ab5f57ef3e10e3a5a6b7e387f3d57da0f}{kconfig\_search\_visit\_latex}}(self, node: nodes.Node) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00136}00136     self.body.append(\textcolor{stringliteral}{"{}Kconfig search is only available on HTML output"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00137}00137     \textcolor{keywordflow}{raise} nodes.SkipNode}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00138}00138 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00139}00139 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00140}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigSearch}{00140}} \textcolor{keyword}{class }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigSearch}{KconfigSearch}}(SphinxDirective):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00141}00141     \textcolor{stringliteral}{"{}"{}"{}Kconfig search directive"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00142}00142 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00143}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigSearch_acc80bd8b5aaeba8dcaec3d3e237ee721}{00143}}     has\_content = \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00145}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigSearch_a4ff14cae1aa934c7507f2dbcf21b66e6}{00145}}     \textcolor{keyword}{def }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigSearch_a4ff14cae1aa934c7507f2dbcf21b66e6}{run}}(self):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00146}00146         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.config.kconfig\_generate\_db:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00147}00147             \textcolor{keywordflow}{raise} ExtensionError(}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00148}00148                 \textcolor{stringliteral}{"{}Kconfig search directive can not be used without database"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00149}00149             )}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00150}00150 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00151}00151         \textcolor{keywordflow}{if} \textcolor{stringliteral}{"{}kconfig\_search\_inserted"{}} \textcolor{keywordflow}{in} self.env.temp\_data:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00152}00152             \textcolor{keywordflow}{raise} ExtensionError(\textcolor{stringliteral}{"{}Kconfig search directive can only be used once"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00153}00153 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00154}00154         self.env.temp\_data[\textcolor{stringliteral}{"{}kconfig\_search\_inserted"{}}] = \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00155}00155 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00156}00156         \textcolor{comment}{\# register all options to the domain at this point, so that they all}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00157}00157         \textcolor{comment}{\# resolve to the page where the kconfig:search directive is inserted}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00158}00158         domain = self.env.get\_domain(\textcolor{stringliteral}{"{}kconfig"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00159}00159         unique = set(\{option[\textcolor{stringliteral}{"{}name"{}}] \textcolor{keywordflow}{for} option \textcolor{keywordflow}{in} self.env.kconfig\_db\})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00160}00160         \textcolor{keywordflow}{for} option \textcolor{keywordflow}{in} unique:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00161}00161             domain.add\_option(option)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00162}00162 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00163}00163         \textcolor{keywordflow}{return} [\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigSearchNode}{KconfigSearchNode}}()]}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00164}00164 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00165}00165 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00166}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor}{00166}} \textcolor{keyword}{class }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor}{\_FindKconfigSearchDirectiveVisitor}}(nodes.NodeVisitor):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00167}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_abba53dd3cd21199b91d7669ba7e00de1}{00167}}     \textcolor{keyword}{def }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_abba53dd3cd21199b91d7669ba7e00de1}{\_\_init\_\_}}(self, document):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00168}00168         super().\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_abba53dd3cd21199b91d7669ba7e00de1}{\_\_init\_\_}}(document)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00169}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_a7a5b92a9728225735cdb8d420e01a28a}{00169}}         self.\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_a7a5b92a9728225735cdb8d420e01a28a}{\_found}} = \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00170}00170 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00171}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_ab8a57cda8887596db67240fdd0691af6}{00171}}     \textcolor{keyword}{def }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_ab8a57cda8887596db67240fdd0691af6}{unknown\_visit}}(self, node: nodes.Node) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00172}00172         \textcolor{keywordflow}{if} self.\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_a7a5b92a9728225735cdb8d420e01a28a}{\_found}}:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00173}00173             \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00174}00174 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00175}00175         self.\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_a7a5b92a9728225735cdb8d420e01a28a}{\_found}} = isinstance(node, KconfigSearchNode)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00176}00176 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00177}00177     \textcolor{preprocessor}{@property}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00178}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_ab3ca9dd0db8e752d83af4ecbbcab09a1}{00178}}     \textcolor{keyword}{def }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_ab3ca9dd0db8e752d83af4ecbbcab09a1}{found\_kconfig\_search\_directive}}(self) -\/> bool:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00179}00179         \textcolor{keywordflow}{return} self.\mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor_a7a5b92a9728225735cdb8d420e01a28a}{\_found}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00180}00180 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00181}00181 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00182}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain}{00182}} \textcolor{keyword}{class }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain}{KconfigDomain}}(Domain):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00183}00183     \textcolor{stringliteral}{"{}"{}"{}Kconfig domain"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00184}00184 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00185}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_a54c9648d433ddc009306195aebc38f2d}{00185}}     name = \textcolor{stringliteral}{"{}kconfig"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00186}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_ad0be339650421d6feebe9fc86c3beb28}{00186}}     label = \textcolor{stringliteral}{"{}Kconfig"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00187}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_a7ae21319f85ab5b36578ac7e6b565431}{00187}}     object\_types = \{\textcolor{stringliteral}{"{}option"{}}: ObjType(\textcolor{stringliteral}{"{}option"{}}, \textcolor{stringliteral}{"{}option"{}})\}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00188}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_a3e34147c4de942a4a71fb86915e7ee24}{00188}}     roles = \{\textcolor{stringliteral}{"{}option"{}}: XRefRole()\}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00189}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_aec1ddbb27b02d752edb3ec9584b1ceab}{00189}}     directives = \{\textcolor{stringliteral}{"{}search"{}}: KconfigSearch\}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00190}00190     initial\_data: Dict[str, Any] = \{\textcolor{stringliteral}{"{}options"{}}: []\}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00191}00191 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00192}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_ad3e472190285b819b0a7645f44a0c274}{00192}}     \textcolor{keyword}{def }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_ad3e472190285b819b0a7645f44a0c274}{get\_objects}}(self) -\/> Iterable[Tuple[str, str, str, str, str, int]]:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00193}00193         \textcolor{keywordflow}{for} obj \textcolor{keywordflow}{in} self.data[\textcolor{stringliteral}{"{}options"{}}]:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00194}00194             \textcolor{keywordflow}{yield} obj}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00195}00195 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00196}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_a93d4d27250315b2c7451b62f84ac3a66}{00196}}     \textcolor{keyword}{def }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_a93d4d27250315b2c7451b62f84ac3a66}{merge\_domaindata}}(self, docnames: List[str], otherdata: Dict) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00197}00197         self.data[\textcolor{stringliteral}{"{}options"{}}] += otherdata[\textcolor{stringliteral}{"{}options"{}}]}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00198}00198 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00199}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_a1e4440f2009a5b3443c7bb7a2af72278}{00199}}     \textcolor{keyword}{def }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_a1e4440f2009a5b3443c7bb7a2af72278}{resolve\_xref}}(}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00200}00200         self,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00201}00201         env: BuildEnvironment,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00202}00202         fromdocname: str,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00203}00203         builder: Builder,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00204}00204         typ: str,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00205}00205         target: str,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00206}00206         node: pending\_xref,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00207}00207         contnode: nodes.Element,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00208}00208     ) -\/> Optional[nodes.Element]:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00209}00209         match = [}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00210}00210             (docname, anchor)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00211}00211             \textcolor{keywordflow}{for} name, \_, \_, docname, anchor, \_ \textcolor{keywordflow}{in} self.\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_ad3e472190285b819b0a7645f44a0c274}{get\_objects}}()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00212}00212             \textcolor{keywordflow}{if} name == target}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00213}00213         ]}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00214}00214 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00215}00215         \textcolor{keywordflow}{if} match:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00216}00216             todocname, anchor = match[0]}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00217}00217 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00218}00218             \textcolor{keywordflow}{return} make\_refnode(}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00219}00219                 builder, fromdocname, todocname, anchor, contnode, anchor}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00220}00220             )}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00221}00221         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00222}00222             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00223}00223 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00224}\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_a8e370b735d395d09575cf79bfc6155db}{00224}}     \textcolor{keyword}{def }\mbox{\hyperlink{classzephyr_1_1kconfig_1_1KconfigDomain_a8e370b735d395d09575cf79bfc6155db}{add\_option}}(self, option):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00225}00225         \textcolor{stringliteral}{"{}"{}"{}Register a new Kconfig option to the domain."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00226}00226 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00227}00227         self.data[\textcolor{stringliteral}{"{}options"{}}].append(}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00228}00228             (option, option, \textcolor{stringliteral}{"{}option"{}}, self.env.docname, option, -\/1)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00229}00229         )}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00230}00230 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00231}00231 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00232}\mbox{\hyperlink{namespacezephyr_1_1kconfig_aac19e4a5ba2c91d07edf7f76c8cc94fb}{00232}} \textcolor{keyword}{def }\mbox{\hyperlink{namespacezephyr_1_1kconfig_aac19e4a5ba2c91d07edf7f76c8cc94fb}{sc\_fmt}}(sc):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00233}00233     \textcolor{keywordflow}{if} isinstance(sc, kconfiglib.Symbol):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00234}00234         \textcolor{keywordflow}{if} sc.nodes:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00235}00235             \textcolor{keywordflow}{return} f\textcolor{stringliteral}{'<a href="{}\#CONFIG\_\{sc.name\}"{}>CONFIG\_\{sc.name\}</a>'}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00236}00236     \textcolor{keywordflow}{elif} isinstance(sc, kconfiglib.Choice):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00237}00237         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} sc.name:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00238}00238             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}\&ltchoice\&gt"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00239}00239         \textcolor{keywordflow}{return} f\textcolor{stringliteral}{'\&ltchoice <a href="{}\#CONFIG\_\{sc.name\}"{}>CONFIG\_\{sc.name\}</a>\&gt'}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00240}00240 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00241}00241     \textcolor{keywordflow}{return} kconfiglib.standard\_sc\_expr\_str(sc)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00242}00242 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00243}00243 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00244}\mbox{\hyperlink{namespacezephyr_1_1kconfig_aaaff48838fec438ed79f15944649db94}{00244}} \textcolor{keyword}{def }\mbox{\hyperlink{namespacezephyr_1_1kconfig_aaaff48838fec438ed79f15944649db94}{kconfig\_build\_resources}}(app: Sphinx) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00245}00245     \textcolor{stringliteral}{"{}"{}"{}Build the Kconfig database and install HTML resources."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00246}00246 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00247}00247     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} app.config.kconfig\_generate\_db:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00248}00248         \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00249}00249 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00250}00250     \textcolor{keyword}{with} progress\_message(\textcolor{stringliteral}{"{}Building Kconfig database..."{}}):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00251}00251         kconfig, module\_paths = \mbox{\hyperlink{namespacezephyr_1_1kconfig_a471f8d756833931b2d2f0950ca91fd11}{kconfig\_load}}(app)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00252}00252         db = list()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00253}00253 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00254}00254         \textcolor{keywordflow}{for} sc \textcolor{keywordflow}{in} sorted(}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00255}00255             chain(kconfig.unique\_defined\_syms, kconfig.unique\_choices),}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00256}00256             key=\textcolor{keyword}{lambda} sc: sc.name \textcolor{keywordflow}{if} sc.name \textcolor{keywordflow}{else} \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00257}00257         ):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00258}00258             \textcolor{comment}{\# skip nameless symbols}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00259}00259             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} sc.name:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00260}00260                 \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00261}00261 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00262}00262             \textcolor{comment}{\# store alternative defaults (from defconfig files)}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00263}00263             alt\_defaults = list()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00264}00264             \textcolor{keywordflow}{for} node \textcolor{keywordflow}{in} sc.nodes:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00265}00265                 \textcolor{keywordflow}{if} \textcolor{stringliteral}{"{}defconfig"{}} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} node.filename:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00266}00266                     \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00267}00267 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00268}00268                 \textcolor{keywordflow}{for} value, cond \textcolor{keywordflow}{in} node.orig\_defaults:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00269}00269                     fmt = kconfiglib.expr\_str(value, sc\_fmt)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00270}00270                     \textcolor{keywordflow}{if} cond \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} sc.kconfig.y:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00271}00271                         fmt += f\textcolor{stringliteral}{"{} if \{kconfiglib.expr\_str(cond, sc\_fmt)\}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00272}00272                     alt\_defaults.append([fmt, node.filename])}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00273}00273 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00274}00274             \textcolor{comment}{\# build list of symbols that select/imply the current one}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00275}00275             \textcolor{comment}{\# note: all reverse dependencies are ORed together, and conditionals}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00276}00276             \textcolor{comment}{\# (e.g. select/imply A if B) turns into A \&\& B. So we first split}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00277}00277             \textcolor{comment}{\# by OR to include all entries, and we split each one by AND to just}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00278}00278             \textcolor{comment}{\# take the first entry.}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00279}00279             selected\_by = list()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00280}00280             \textcolor{keywordflow}{if} isinstance(sc, kconfiglib.Symbol) \textcolor{keywordflow}{and} sc.rev\_dep != sc.kconfig.n:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00281}00281                 \textcolor{keywordflow}{for} select \textcolor{keywordflow}{in} kconfiglib.split\_expr(sc.rev\_dep, kconfiglib.OR):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00282}00282                     sym = kconfiglib.split\_expr(select, kconfiglib.AND)[0]}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00283}00283                     selected\_by.append(f\textcolor{stringliteral}{"{}CONFIG\_\{sym.name\}"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00284}00284 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00285}00285             implied\_by = list()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00286}00286             \textcolor{keywordflow}{if} isinstance(sc, kconfiglib.Symbol) \textcolor{keywordflow}{and} sc.weak\_rev\_dep != sc.kconfig.n:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00287}00287                 \textcolor{keywordflow}{for} select \textcolor{keywordflow}{in} kconfiglib.split\_expr(sc.weak\_rev\_dep, kconfiglib.OR):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00288}00288                     sym = kconfiglib.split\_expr(select, kconfiglib.AND)[0]}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00289}00289                     implied\_by.append(f\textcolor{stringliteral}{"{}CONFIG\_\{sym.name\}"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00290}00290 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00291}00291             \textcolor{comment}{\# only process nodes with prompt or help}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00292}00292             nodes = [node \textcolor{keywordflow}{for} node \textcolor{keywordflow}{in} sc.nodes \textcolor{keywordflow}{if} node.prompt \textcolor{keywordflow}{or} node.help]}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00293}00293 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00294}00294             inserted\_paths = list()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00295}00295             \textcolor{keywordflow}{for} node \textcolor{keywordflow}{in} nodes:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00296}00296                 \textcolor{comment}{\# avoid duplicate symbols by forcing unique paths. this can}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00297}00297                 \textcolor{comment}{\# happen due to dependencies on 0, a trick used by some modules}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00298}00298                 path = f\textcolor{stringliteral}{"{}\{node.filename\}:\{node.linenr\}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00299}00299                 \textcolor{keywordflow}{if} path \textcolor{keywordflow}{in} inserted\_paths:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00300}00300                     \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00301}00301                 inserted\_paths.append(path)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00302}00302 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00303}00303                 dependencies = \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00304}00304                 \textcolor{keywordflow}{if} node.dep \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} sc.kconfig.y:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00305}00305                     dependencies = kconfiglib.expr\_str(node.dep, sc\_fmt)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00306}00306 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00307}00307                 defaults = list()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00308}00308                 \textcolor{keywordflow}{for} value, cond \textcolor{keywordflow}{in} node.orig\_defaults:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00309}00309                     fmt = kconfiglib.expr\_str(value, sc\_fmt)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00310}00310                     \textcolor{keywordflow}{if} cond \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} sc.kconfig.y:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00311}00311                         fmt += f\textcolor{stringliteral}{"{} if \{kconfiglib.expr\_str(cond, sc\_fmt)\}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00312}00312                     defaults.append(fmt)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00313}00313 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00314}00314                 selects = list()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00315}00315                 \textcolor{keywordflow}{for} value, cond \textcolor{keywordflow}{in} node.orig\_selects:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00316}00316                     fmt = kconfiglib.expr\_str(value, sc\_fmt)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00317}00317                     \textcolor{keywordflow}{if} cond \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} sc.kconfig.y:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00318}00318                         fmt += f\textcolor{stringliteral}{"{} if \{kconfiglib.expr\_str(cond, sc\_fmt)\}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00319}00319                     selects.append(fmt)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00320}00320 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00321}00321                 implies = list()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00322}00322                 \textcolor{keywordflow}{for} value, cond \textcolor{keywordflow}{in} node.orig\_implies:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00323}00323                     fmt = kconfiglib.expr\_str(value, sc\_fmt)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00324}00324                     \textcolor{keywordflow}{if} cond \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} sc.kconfig.y:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00325}00325                         fmt += f\textcolor{stringliteral}{"{} if \{kconfiglib.expr\_str(cond, sc\_fmt)\}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00326}00326                     implies.append(fmt)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00327}00327 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00328}00328                 ranges = list()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00329}00329                 \textcolor{keywordflow}{for} min, max, cond \textcolor{keywordflow}{in} node.orig\_ranges:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00330}00330                     fmt = (}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00331}00331                         f\textcolor{stringliteral}{"{}[\{kconfiglib.expr\_str(min, sc\_fmt)\}, "{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00332}00332                         f\textcolor{stringliteral}{"{}\{kconfiglib.expr\_str(max, sc\_fmt)\}]"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00333}00333                     )}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00334}00334                     \textcolor{keywordflow}{if} cond \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} sc.kconfig.y:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00335}00335                         fmt += f\textcolor{stringliteral}{"{} if \{kconfiglib.expr\_str(cond, sc\_fmt)\}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00336}00336                     ranges.append(fmt)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00337}00337 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00338}00338                 choices = list()}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00339}00339                 \textcolor{keywordflow}{if} isinstance(sc, kconfiglib.Choice):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00340}00340                     \textcolor{keywordflow}{for} sym \textcolor{keywordflow}{in} sc.syms:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00341}00341                         choices.append(kconfiglib.expr\_str(sym, sc\_fmt))}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00342}00342 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00343}00343                 menupath = \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00344}00344                 iternode = node}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00345}00345                 \textcolor{keywordflow}{while} iternode.parent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} iternode.kconfig.top\_node:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00346}00346                     iternode = iternode.parent}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00347}00347                     \textcolor{keywordflow}{if} iternode.prompt:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00348}00348                         title = iternode.prompt[0]}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00349}00349                     \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00350}00350                         title = kconfiglib.standard\_sc\_expr\_str(iternode.item)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00351}00351                     menupath = f\textcolor{stringliteral}{"{} > \{title\}"{}} + menupath}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00352}00352 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00353}00353                 menupath = \textcolor{stringliteral}{"{}(Top)"{}} + menupath}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00354}00354 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00355}00355                 filename = node.filename}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00356}00356                 \textcolor{keywordflow}{for} name, path \textcolor{keywordflow}{in} module\_paths.items():}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00357}00357                     \textcolor{keywordflow}{if} node.filename.startswith(path):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00358}00358                         filename = node.filename.replace(path, f\textcolor{stringliteral}{"{}<module:\{name\}>"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00359}00359                         \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00360}00360 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00361}00361                 db.append(}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00362}00362                     \{}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00363}00363                         \textcolor{stringliteral}{"{}name"{}}: f\textcolor{stringliteral}{"{}CONFIG\_\{sc.name\}"{}},}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00364}00364                         \textcolor{stringliteral}{"{}prompt"{}}: node.prompt[0] \textcolor{keywordflow}{if} node.prompt \textcolor{keywordflow}{else} \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00365}00365                         \textcolor{stringliteral}{"{}type"{}}: kconfiglib.TYPE\_TO\_STR[sc.type],}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00366}00366                         \textcolor{stringliteral}{"{}help"{}}: node.help,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00367}00367                         \textcolor{stringliteral}{"{}dependencies"{}}: dependencies,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00368}00368                         \textcolor{stringliteral}{"{}defaults"{}}: defaults,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00369}00369                         \textcolor{stringliteral}{"{}alt\_defaults"{}}: alt\_defaults,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00370}00370                         \textcolor{stringliteral}{"{}selects"{}}: selects,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00371}00371                         \textcolor{stringliteral}{"{}selected\_by"{}}: selected\_by,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00372}00372                         \textcolor{stringliteral}{"{}implies"{}}: implies,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00373}00373                         \textcolor{stringliteral}{"{}implied\_by"{}}: implied\_by,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00374}00374                         \textcolor{stringliteral}{"{}ranges"{}}: ranges,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00375}00375                         \textcolor{stringliteral}{"{}choices"{}}: choices,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00376}00376                         \textcolor{stringliteral}{"{}filename"{}}: filename,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00377}00377                         \textcolor{stringliteral}{"{}linenr"{}}: node.linenr,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00378}00378                         \textcolor{stringliteral}{"{}menupath"{}}: menupath,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00379}00379                     \}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00380}00380                 )}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00381}00381 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00382}00382         app.env.kconfig\_db = db  \textcolor{comment}{\# type: ignore}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00383}00383 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00384}00384         outdir = Path(app.outdir) / \textcolor{stringliteral}{"{}kconfig"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00385}00385         outdir.mkdir(exist\_ok=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00386}00386 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00387}00387         kconfig\_db\_file = outdir / \textcolor{stringliteral}{"{}kconfig.json"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00388}00388 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00389}00389         \textcolor{keyword}{with} open(kconfig\_db\_file, \textcolor{stringliteral}{"{}w"{}}) \textcolor{keyword}{as} f:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00390}00390             json.dump(db, f)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00391}00391 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00392}00392     app.config.html\_extra\_path.append(kconfig\_db\_file.as\_posix())}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00393}00393     app.config.html\_static\_path.append(RESOURCES\_DIR.as\_posix())}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00394}00394 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00395}00395 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00396}\mbox{\hyperlink{namespacezephyr_1_1kconfig_a6c6ecff3527982fe3193c11b7ba48335}{00396}} \textcolor{keyword}{def }\mbox{\hyperlink{namespacezephyr_1_1kconfig_a6c6ecff3527982fe3193c11b7ba48335}{kconfig\_install}}(}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00397}00397     app: Sphinx,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00398}00398     pagename: str,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00399}00399     templatename: str,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00400}00400     context: Dict,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00401}00401     doctree: Optional[nodes.Node],}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00402}00402 ) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00403}00403     \textcolor{stringliteral}{"{}"{}"{}Install the Kconfig library files on pages that require it."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00404}00404     \textcolor{keywordflow}{if} (}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00405}00405         \textcolor{keywordflow}{not} app.config.kconfig\_generate\_db}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00406}00406         \textcolor{keywordflow}{or} app.builder.format != \textcolor{stringliteral}{"{}html"{}}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00407}00407         \textcolor{keywordflow}{or} \textcolor{keywordflow}{not} doctree}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00408}00408     ):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00409}00409         \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00410}00410 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00411}00411     visitor = \mbox{\hyperlink{classzephyr_1_1kconfig_1_1__FindKconfigSearchDirectiveVisitor}{\_FindKconfigSearchDirectiveVisitor}}(doctree)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00412}00412     doctree.walk(visitor)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00413}00413     \textcolor{keywordflow}{if} visitor.found\_kconfig\_search\_directive:}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00414}00414         app.add\_css\_file(\textcolor{stringliteral}{"{}kconfig.css"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00415}00415         app.add\_js\_file(\textcolor{stringliteral}{"{}kconfig.mjs"{}}, type=\textcolor{stringliteral}{"{}module"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00416}00416 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00417}00417 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00418}\mbox{\hyperlink{namespacezephyr_1_1kconfig_a66bcf540eb73ce291d3451330e23eee9}{00418}} \textcolor{keyword}{def }\mbox{\hyperlink{namespacezephyr_1_1kconfig_a66bcf540eb73ce291d3451330e23eee9}{setup}}(app: Sphinx):}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00419}00419     app.add\_config\_value(\textcolor{stringliteral}{"{}kconfig\_generate\_db"{}}, \textcolor{keyword}{False}, \textcolor{stringliteral}{"{}env"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00420}00420     app.add\_config\_value(\textcolor{stringliteral}{"{}kconfig\_ext\_paths"{}}, [], \textcolor{stringliteral}{"{}env"{}})}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00421}00421 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00422}00422     app.add\_node(}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00423}00423         KconfigSearchNode,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00424}00424         html=(kconfig\_search\_visit\_html, \textcolor{keywordtype}{None}),}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00425}00425         latex=(kconfig\_search\_visit\_latex, \textcolor{keywordtype}{None}),}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00426}00426     )}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00427}00427 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00428}00428     app.add\_domain(KconfigDomain)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00429}00429 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00430}00430     app.connect(\textcolor{stringliteral}{"{}builder-\/inited"{}}, kconfig\_build\_resources)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00431}00431     app.connect(\textcolor{stringliteral}{"{}html-\/page-\/context"{}}, kconfig\_install)}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00432}00432 }
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00433}00433     \textcolor{keywordflow}{return} \{}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00434}00434         \textcolor{stringliteral}{"{}version"{}}: \_\_version\_\_,}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00435}00435         \textcolor{stringliteral}{"{}parallel\_read\_safe"{}}: \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00436}00436         \textcolor{stringliteral}{"{}parallel\_write\_safe"{}}: \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{kconfig_2____init_____8py_source_l00437}00437     \}}

\end{DoxyCode}
