\hypertarget{signal__opt__service_8cpp_source}{}\doxysection{signal\+\_\+opt\+\_\+service.\+cpp}
\label{signal__opt__service_8cpp_source}\index{signal\_opt\_service/src/signal\_opt\_service.cpp@{signal\_opt\_service/src/signal\_opt\_service.cpp}}
\mbox{\hyperlink{signal__opt__service_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{signal__opt__service_8h}{signal\_opt\_service.h}}"{}}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00003}00003 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacesignal__opt__service}{signal\_opt\_service}}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00004}00004 \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00005}\mbox{\hyperlink{classsignal__opt__service_1_1signal__opt__service_ac5270550fc00e6e7b4f7822fcac522dc}{00005}}     \textcolor{keywordtype}{bool} signal\_opt\_service::initialize()}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00006}00006     \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00007}00007         \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00008}00008         \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00009}00009             \_so\_msgs\_worker\_ptr = std::make\_shared<signal\_opt\_messages\_worker>();}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00011}00011             \textcolor{comment}{// Kafka config}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00012}00012             \textcolor{keyword}{auto} client = std::make\_unique<kafka\_clients::kafka\_client>();}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00013}00013             \_bootstrap\_server = \mbox{\hyperlink{classstreets__service_1_1streets__configuration_a03603871626201e07690effb9f2440bf}{streets\_service::streets\_configuration::get\_string\_config}}(\textcolor{stringliteral}{"{}bootstrap\_server"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00014}00014             \_spat\_topic\_name = \mbox{\hyperlink{classstreets__service_1_1streets__configuration_a03603871626201e07690effb9f2440bf}{streets\_service::streets\_configuration::get\_string\_config}}(\textcolor{stringliteral}{"{}spat\_consumer\_topic"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00015}00015             \_spat\_group\_id = \mbox{\hyperlink{classstreets__service_1_1streets__configuration_a03603871626201e07690effb9f2440bf}{streets\_service::streets\_configuration::get\_string\_config}}(\textcolor{stringliteral}{"{}spat\_group\_id"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00016}00016             \_vsi\_topic\_name = \mbox{\hyperlink{classstreets__service_1_1streets__configuration_a03603871626201e07690effb9f2440bf}{streets\_service::streets\_configuration::get\_string\_config}}(\textcolor{stringliteral}{"{}vsi\_consumer\_topic"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00017}00017             \_vsi\_group\_id = \mbox{\hyperlink{classstreets__service_1_1streets__configuration_a03603871626201e07690effb9f2440bf}{streets\_service::streets\_configuration::get\_string\_config}}(\textcolor{stringliteral}{"{}vsi\_group\_id"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00019}00019             \_spat\_consumer = client-\/>create\_consumer(\_bootstrap\_server, \_spat\_topic\_name, \_spat\_group\_id);}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00020}00020             \_vsi\_consumer = client-\/>create\_consumer(\_bootstrap\_server, \_vsi\_topic\_name, \_vsi\_group\_id);}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00022}00022             \textcolor{keywordflow}{if} (!\_spat\_consumer-\/>init() || !\_vsi\_consumer-\/>init())}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00023}00023             \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00024}00024                 SPDLOG\_CRITICAL(\textcolor{stringliteral}{"{}kafka consumers ( \_spat\_consumer\_worker  or \_vsi\_consumer\_worker) initialize error"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00025}00025                 exit(EXIT\_FAILURE);}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00026}00026             \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00027}00027             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00028}00028             \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00029}00029                 \_spat\_consumer-\/>subscribe();}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00030}00030                 \_vsi\_consumer-\/>subscribe();}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00031}00031                 \textcolor{keywordflow}{if} (!\_spat\_consumer-\/>is\_running() || !\_vsi\_consumer-\/>is\_running())}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00032}00032                 \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00033}00033                     SPDLOG\_CRITICAL(\textcolor{stringliteral}{"{}kafka consumers ( \_spat\_consumer\_worker or \_vsi\_consumer\_worker) is not running"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00034}00034                     exit(EXIT\_FAILURE);}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00035}00035                 \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00036}00036             \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00038}00038             \textcolor{comment}{// Serice config}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00039}00039             \textcolor{keyword}{auto} sleep\_millisecs = \mbox{\hyperlink{classstreets__service_1_1streets__configuration_ab33a5d183c0ca2b2f0d757f5466f200b}{streets\_service::streets\_configuration::get\_int\_config}}(\textcolor{stringliteral}{"{}sleep\_millisecs"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00040}00040             \textcolor{keyword}{auto} int\_client\_request\_attempts = \mbox{\hyperlink{classstreets__service_1_1streets__configuration_ab33a5d183c0ca2b2f0d757f5466f200b}{streets\_service::streets\_configuration::get\_int\_config}}(\textcolor{stringliteral}{"{}int\_client\_request\_attempts"{}});            }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00041}00041 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00042}00042             \textcolor{comment}{// HTTP request to update intersection information}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00043}00043             \textcolor{keywordflow}{if} (!update\_intersection\_info(sleep\_millisecs, int\_client\_request\_attempts))}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00044}00044             \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00045}00045                 SPDLOG\_CRITICAL(\textcolor{stringliteral}{"{}Failed to initialize signal\_opt\_service due to intersection client request failure!"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00046}00046                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00047}00047             \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00048}00048             SPDLOG\_INFO(\textcolor{stringliteral}{"{}signal\_opt\_service initialized successfully!!!"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00049}00049             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00050}00050         \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00051}00051         \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} \mbox{\hyperlink{classstreets__service_1_1streets__configuration__exception}{streets\_service::streets\_configuration\_exception}} \&ex)}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00052}00052         \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00053}00053             SPDLOG\_ERROR(\textcolor{stringliteral}{"{}Signal Optimization Service Initialization failure: \{0\} "{}}, ex.what());}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00054}00054             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00055}00055         \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00056}00056     \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00058}\mbox{\hyperlink{classsignal__opt__service_1_1signal__opt__service_a27c7129220640b4974bdb247ab1bbc26}{00058}}     \textcolor{keywordtype}{void} signal\_opt\_service::start()\textcolor{keyword}{ const}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00059}00059 \textcolor{keyword}{    }\{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00060}00060         std::thread spat\_t(\&signal\_opt\_service::consume\_msg, \textcolor{keyword}{this}, std::ref(\_spat\_consumer), \mbox{\hyperlink{namespacesignal__opt__service_a4f380fdb90d9f7f62085c821fb7db3e4a939a2eaa3056608a0f3a65c88f11a8d4}{CONSUME\_MSG\_TYPE::SPAT}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00061}00061         std::thread vsi\_t(\&signal\_opt\_service::consume\_msg, \textcolor{keyword}{this}, std::ref(\_vsi\_consumer), \mbox{\hyperlink{namespacesignal__opt__service_a4f380fdb90d9f7f62085c821fb7db3e4acf90a87df6565c5cc280ba6ef2bb32e3}{CONSUME\_MSG\_TYPE::VEHICLE\_STATUS\_INTENT}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00062}00062         spat\_t.join();}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00063}00063         vsi\_t.join();}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00064}00064     \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00066}\mbox{\hyperlink{classsignal__opt__service_1_1signal__opt__service_a37dcccaf7c65aa1ff8b974e52cfe4850}{00066}}     \textcolor{keywordtype}{void} signal\_opt\_service::consume\_msg(std::shared\_ptr<kafka\_clients::kafka\_consumer\_worker> consumer, \mbox{\hyperlink{namespacesignal__opt__service_a4f380fdb90d9f7f62085c821fb7db3e4}{CONSUME\_MSG\_TYPE}} consume\_msg\_type)\textcolor{keyword}{ const}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00067}00067 \textcolor{keyword}{    }\{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00068}00068         \textcolor{keywordflow}{while} (consumer-\/>is\_running())}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00069}00069         \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00070}00070             \textcolor{keyword}{const} std::string payload = consumer-\/>consume(1000);}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00071}00071             \textcolor{keywordflow}{if} (payload.length() != 0)}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00072}00072             \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00073}00073                 SPDLOG\_DEBUG(\textcolor{stringliteral}{"{}Consumed: \{0\}"{}}, payload);}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00074}00074                 \textcolor{keywordflow}{if} (!\_so\_msgs\_worker\_ptr)}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00075}00075                 \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00076}00076                     SPDLOG\_CRITICAL(\textcolor{stringliteral}{"{}Message worker is not initialized"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00077}00077                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00078}00078                 \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00080}00080                 \textcolor{keywordflow}{switch} (consume\_msg\_type)}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00081}00081                 \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00082}00082                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacesignal__opt__service_a4f380fdb90d9f7f62085c821fb7db3e4a939a2eaa3056608a0f3a65c88f11a8d4}{CONSUME\_MSG\_TYPE::SPAT}}:}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00083}00083                     \textcolor{keywordflow}{if} (!\_so\_msgs\_worker\_ptr-\/>update\_spat(payload))}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00084}00084                     \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00085}00085                         SPDLOG\_CRITICAL(\textcolor{stringliteral}{"{}Error occurred when updating SPAT."{}});                       }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00086}00086                     \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00087}00087                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00088}00088                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacesignal__opt__service_a4f380fdb90d9f7f62085c821fb7db3e4acf90a87df6565c5cc280ba6ef2bb32e3}{CONSUME\_MSG\_TYPE::VEHICLE\_STATUS\_INTENT}}:}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00089}00089                     \textcolor{keywordflow}{if} (!\_so\_msgs\_worker\_ptr-\/>add\_update\_vehicle(payload))}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00090}00090                     \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00091}00091                         SPDLOG\_CRITICAL(\textcolor{stringliteral}{"{}Error occurred when updating vehicle list."{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00092}00092                     \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00093}00093                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00094}00094                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00095}00095                     SPDLOG\_ERROR(\textcolor{stringliteral}{"{}Unknown consumer type!"{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00096}00096                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00097}00097                 \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00098}00098             \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00099}00099         \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00100}00100     \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00101}00101 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00102}\mbox{\hyperlink{classsignal__opt__service_1_1signal__opt__service_a605d6fc843afcaf4f667be4bd8db65c4}{00102}}     \textcolor{keywordtype}{bool} signal\_opt\_service::update\_intersection\_info(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} sleep\_millisecs, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} int\_client\_request\_attempts)\textcolor{keyword}{ const}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00103}00103 \textcolor{keyword}{    }\{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00104}00104         \textcolor{keyword}{auto} sleep\_secs = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}\textcolor{keyword}{>}(sleep\_millisecs / 1000);}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00105}00105         SPDLOG\_INFO(\textcolor{stringliteral}{"{}Send client request to update intersection inforamtion every \{0\} seconds for maximum \{1\} times."{}}, sleep\_secs, int\_client\_request\_attempts);}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00106}00106         \textcolor{keywordtype}{int} attempt\_count = 0;}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00107}00107         \textcolor{keywordflow}{while} (attempt\_count < int\_client\_request\_attempts)}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00108}00108         \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00109}00109             \textcolor{comment}{// Send HTTP request, and update intersection information. If updated successfully, it returns true and exit the while loop.}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00110}00110             \textcolor{keywordflow}{if} (\_so\_msgs\_worker\_ptr \&\& \_so\_msgs\_worker\_ptr-\/>request\_intersection\_info())}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00111}00111             \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00112}00112                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00113}00113             \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00114}00114             sleep(sleep\_secs);}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00115}00115             attempt\_count++;}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00116}00116         \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00117}00117         \textcolor{comment}{// If failed to update the intersection information after certain numbers of attempts}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00118}00118         SPDLOG\_ERROR(\textcolor{stringliteral}{"{}Updating Intersection information failed. "{}});}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00119}00119         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00120}00120     \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00121}00121 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00122}\mbox{\hyperlink{classsignal__opt__service_1_1signal__opt__service_a0d08faf7254086e5e9507957fa4b2acc}{00122}}     signal\_opt\_service::\string~signal\_opt\_service()}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00123}00123     \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00124}00124         \textcolor{keywordflow}{if} (\_spat\_consumer)}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00125}00125         \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00126}00126             \_spat\_consumer-\/>stop();}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00127}00127         \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00128}00128 }
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00129}00129         \textcolor{keywordflow}{if} (\_vsi\_consumer)}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00130}00130         \{}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00131}00131             \_vsi\_consumer-\/>stop();}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00132}00132         \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00133}00133     \}}
\DoxyCodeLine{\Hypertarget{signal__opt__service_8cpp_source_l00134}00134 \}}

\end{DoxyCode}
