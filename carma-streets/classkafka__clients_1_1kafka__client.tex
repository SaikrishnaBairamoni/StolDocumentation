\hypertarget{classkafka__clients_1_1kafka__client}{}\doxysection{kafka\+\_\+clients\+::kafka\+\_\+client Class Reference}
\label{classkafka__clients_1_1kafka__client}\index{kafka\_clients::kafka\_client@{kafka\_clients::kafka\_client}}


{\ttfamily \#include $<$kafka\+\_\+client.\+h$>$}



Collaboration diagram for kafka\+\_\+clients\+::kafka\+\_\+client\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=189pt]{classkafka__clients_1_1kafka__client__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classkafka__clients_1_1kafka__consumer__worker}{kafka\+\_\+clients\+::kafka\+\_\+consumer\+\_\+worker}} $>$ \mbox{\hyperlink{classkafka__clients_1_1kafka__client_a654347e562e95f46170daac1f3cc5f3d}{create\+\_\+consumer}} (const std\+::string \&broker\+\_\+str, const std\+::string \&topic\+\_\+str, std\+::string \&group\+\_\+id\+\_\+str) const
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classkafka__clients_1_1kafka__producer__worker}{kafka\+\_\+clients\+::kafka\+\_\+producer\+\_\+worker}} $>$ \mbox{\hyperlink{classkafka__clients_1_1kafka__client_ae0e5d76c5b916a834b909ca23e657e2a}{create\+\_\+producer}} (const std\+::string \&broker\+\_\+str, const std\+::string \&topic\+\_\+str) const
\item 
rapidjson\+::\+Document \mbox{\hyperlink{classkafka__clients_1_1kafka__client_ab506789cf084a91e0bdf5c80a93d44cb}{read\+\_\+json\+\_\+file}} (const std\+::string \&json\+\_\+file) const
\item 
std\+::string \mbox{\hyperlink{classkafka__clients_1_1kafka__client_a0d7a56622cdc4f2b2cc20d9bbeee4607}{get\+\_\+value\+\_\+by\+\_\+doc}} (rapidjson\+::\+Document \&doc, const char $\ast$key) const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{kafka__client_8h_source_l00015}{15}} of file \mbox{\hyperlink{kafka__client_8h_source}{kafka\+\_\+client.\+h}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classkafka__clients_1_1kafka__client_a654347e562e95f46170daac1f3cc5f3d}\label{classkafka__clients_1_1kafka__client_a654347e562e95f46170daac1f3cc5f3d}} 
\index{kafka\_clients::kafka\_client@{kafka\_clients::kafka\_client}!create\_consumer@{create\_consumer}}
\index{create\_consumer@{create\_consumer}!kafka\_clients::kafka\_client@{kafka\_clients::kafka\_client}}
\doxysubsubsection{\texorpdfstring{create\_consumer()}{create\_consumer()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classkafka__clients_1_1kafka__consumer__worker}{kafka\+\_\+clients\+::kafka\+\_\+consumer\+\_\+worker}} $>$ kafka\+\_\+clients\+::kafka\+\_\+client\+::create\+\_\+consumer (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{broker\+\_\+str,  }\item[{const std\+::string \&}]{topic\+\_\+str,  }\item[{std\+::string \&}]{group\+\_\+id\+\_\+str }\end{DoxyParamCaption}) const}



Definition at line \mbox{\hyperlink{kafka__client_8cpp_source_l00005}{5}} of file \mbox{\hyperlink{kafka__client_8cpp_source}{kafka\+\_\+client.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00007     \{}
\DoxyCodeLine{00008         \textcolor{keywordflow}{try}}
\DoxyCodeLine{00009         \{}
\DoxyCodeLine{00010             \textcolor{keywordtype}{int} partition = 0;}
\DoxyCodeLine{00011             int64\_t cur\_offset = RdKafka::Topic::OFFSET\_END;}
\DoxyCodeLine{00012             \textcolor{keyword}{auto} consumer\_ptr = std::make\_shared<kafka\_clients::kafka\_consumer\_worker>(bootstrap\_server, topic\_str, group\_id\_str, cur\_offset, partition);}
\DoxyCodeLine{00013             \textcolor{keywordflow}{return} consumer\_ptr;}
\DoxyCodeLine{00014         \}}
\DoxyCodeLine{00015         \textcolor{keywordflow}{catch} (...)}
\DoxyCodeLine{00016         \{}
\DoxyCodeLine{00017             std::exception\_ptr p = std::current\_exception();}
\DoxyCodeLine{00018             SPDLOG\_CRITICAL(\textcolor{stringliteral}{"{}Create consumer failure: \{0\}"{}}, (p ? p.\_\_cxa\_exception\_type()-\/>name() : \textcolor{stringliteral}{"{}null"{}}));}
\DoxyCodeLine{00019             exit(1);}
\DoxyCodeLine{00020         \}}
\DoxyCodeLine{00021     \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{examples_2kafka__examples_2src_2main_8cpp_source_l00006}{call\+\_\+consumer\+\_\+thread()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classkafka__clients_1_1kafka__client_a654347e562e95f46170daac1f3cc5f3d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classkafka__clients_1_1kafka__client_ae0e5d76c5b916a834b909ca23e657e2a}\label{classkafka__clients_1_1kafka__client_ae0e5d76c5b916a834b909ca23e657e2a}} 
\index{kafka\_clients::kafka\_client@{kafka\_clients::kafka\_client}!create\_producer@{create\_producer}}
\index{create\_producer@{create\_producer}!kafka\_clients::kafka\_client@{kafka\_clients::kafka\_client}}
\doxysubsubsection{\texorpdfstring{create\_producer()}{create\_producer()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classkafka__clients_1_1kafka__producer__worker}{kafka\+\_\+clients\+::kafka\+\_\+producer\+\_\+worker}} $>$ kafka\+\_\+clients\+::kafka\+\_\+client\+::create\+\_\+producer (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{broker\+\_\+str,  }\item[{const std\+::string \&}]{topic\+\_\+str }\end{DoxyParamCaption}) const}



Definition at line \mbox{\hyperlink{kafka__client_8cpp_source_l00023}{23}} of file \mbox{\hyperlink{kafka__client_8cpp_source}{kafka\+\_\+client.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00024     \{}
\DoxyCodeLine{00025         \textcolor{keywordflow}{try}}
\DoxyCodeLine{00026         \{}
\DoxyCodeLine{00027             \textcolor{keywordtype}{int} partition = 0;}
\DoxyCodeLine{00028             \textcolor{keyword}{auto} producer\_ptr = std::make\_shared<kafka\_clients::kafka\_producer\_worker>(bootstrap\_server, topic\_str, partition);}
\DoxyCodeLine{00029             \textcolor{keywordflow}{return} producer\_ptr;}
\DoxyCodeLine{00030         \}}
\DoxyCodeLine{00031         \textcolor{keywordflow}{catch} (...)}
\DoxyCodeLine{00032         \{}
\DoxyCodeLine{00033             std::exception\_ptr p = std::current\_exception();}
\DoxyCodeLine{00034             SPDLOG\_CRITICAL(\textcolor{stringliteral}{"{}Create consumer failure: \{0\}"{}}, (p ? p.\_\_cxa\_exception\_type()-\/>name() : \textcolor{stringliteral}{"{}null"{}}));}
\DoxyCodeLine{00035             exit(1);}
\DoxyCodeLine{00036         \}}
\DoxyCodeLine{00037     \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{examples_2kafka__examples_2src_2main_8cpp_source_l00044}{call\+\_\+producer\+\_\+thread()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classkafka__clients_1_1kafka__client_ae0e5d76c5b916a834b909ca23e657e2a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classkafka__clients_1_1kafka__client_a0d7a56622cdc4f2b2cc20d9bbeee4607}\label{classkafka__clients_1_1kafka__client_a0d7a56622cdc4f2b2cc20d9bbeee4607}} 
\index{kafka\_clients::kafka\_client@{kafka\_clients::kafka\_client}!get\_value\_by\_doc@{get\_value\_by\_doc}}
\index{get\_value\_by\_doc@{get\_value\_by\_doc}!kafka\_clients::kafka\_client@{kafka\_clients::kafka\_client}}
\doxysubsubsection{\texorpdfstring{get\_value\_by\_doc()}{get\_value\_by\_doc()}}
{\footnotesize\ttfamily std\+::string kafka\+\_\+clients\+::kafka\+\_\+client\+::get\+\_\+value\+\_\+by\+\_\+doc (\begin{DoxyParamCaption}\item[{rapidjson\+::\+Document \&}]{doc,  }\item[{const char $\ast$}]{key }\end{DoxyParamCaption}) const}



Referenced by \mbox{\hyperlink{examples_2kafka__examples_2src_2main_8cpp_source_l00006}{call\+\_\+consumer\+\_\+thread()}}, and \mbox{\hyperlink{examples_2kafka__examples_2src_2main_8cpp_source_l00044}{call\+\_\+producer\+\_\+thread()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classkafka__clients_1_1kafka__client_a0d7a56622cdc4f2b2cc20d9bbeee4607_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classkafka__clients_1_1kafka__client_ab506789cf084a91e0bdf5c80a93d44cb}\label{classkafka__clients_1_1kafka__client_ab506789cf084a91e0bdf5c80a93d44cb}} 
\index{kafka\_clients::kafka\_client@{kafka\_clients::kafka\_client}!read\_json\_file@{read\_json\_file}}
\index{read\_json\_file@{read\_json\_file}!kafka\_clients::kafka\_client@{kafka\_clients::kafka\_client}}
\doxysubsubsection{\texorpdfstring{read\_json\_file()}{read\_json\_file()}}
{\footnotesize\ttfamily rapidjson\+::\+Document kafka\+\_\+clients\+::kafka\+\_\+client\+::read\+\_\+json\+\_\+file (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{json\+\_\+file }\end{DoxyParamCaption}) const}



Referenced by \mbox{\hyperlink{examples_2kafka__examples_2src_2main_8cpp_source_l00006}{call\+\_\+consumer\+\_\+thread()}}, and \mbox{\hyperlink{examples_2kafka__examples_2src_2main_8cpp_source_l00044}{call\+\_\+producer\+\_\+thread()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classkafka__clients_1_1kafka__client_ab506789cf084a91e0bdf5c80a93d44cb_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
kafka\+\_\+clients/include/\mbox{\hyperlink{kafka__client_8h}{kafka\+\_\+client.\+h}}\item 
kafka\+\_\+clients/src/\mbox{\hyperlink{kafka__client_8cpp}{kafka\+\_\+client.\+cpp}}\end{DoxyCompactItemize}
