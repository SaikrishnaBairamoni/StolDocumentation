\hypertarget{status__intent__processor_8cpp_source}{}\doxysection{status\+\_\+intent\+\_\+processor.\+cpp}
\label{status__intent__processor_8cpp_source}\index{streets\_utils/streets\_vehicle\_list/src/message\_processors/status\_intent\_processor.cpp@{streets\_utils/streets\_vehicle\_list/src/message\_processors/status\_intent\_processor.cpp}}
\mbox{\hyperlink{status__intent__processor_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{status__intent__processor_8h}{status\_intent\_processor.h}}"{}}}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00004}00004 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacestreets__vehicles}{streets\_vehicles}} \{}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00005}\mbox{\hyperlink{classstreets__vehicles_1_1status__intent__processor_abafa7673c5b8a3d39a33d3d9bd5b12b6}{00005}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classstreets__vehicles_1_1status__intent__processor_abafa7673c5b8a3d39a33d3d9bd5b12b6}{status\_intent\_processor::process\_status\_intent}}(\textcolor{keyword}{const} rapidjson::Document \&doc, \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}} \&\mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}} )\textcolor{keyword}{ const}\{}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00006}00006         \textcolor{keywordflow}{if} ( doc.IsObject()) \{}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00007}00007             \mbox{\hyperlink{classstreets__vehicles_1_1status__intent__processor_aade7f4f98fdf41c0c9d512f6a9494d95}{from\_json}}( doc.GetObject(), \mbox{\hyperlink{structstreets__vehicles_1_1vehicle}{vehicle}} );}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00008}00008         \}}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00009}00009         \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00010}00010             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classstreets__vehicles_1_1status__intent__processing__exception}{status\_intent\_processing\_exception}}(\textcolor{stringliteral}{"{}Status and Intent message is messing update object!"{}});}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00011}00011         \}}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00012}00012     \};}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00014}00014    }
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00016}\mbox{\hyperlink{classstreets__vehicles_1_1status__intent__processor_a99f7eca3d48118e9323f869b112a2f20}{00016}}     std::string \mbox{\hyperlink{classstreets__vehicles_1_1status__intent__processor_a99f7eca3d48118e9323f869b112a2f20}{status\_intent\_processor::get\_vehicle\_id}}(\textcolor{keyword}{const} std::string \&status\_intent\_msg, rapidjson::Document \&doc)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00017}00017         doc.Parse(status\_intent\_msg.c\_str());}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00018}00018         \textcolor{keywordflow}{if} (doc.HasParseError())\{}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00019}00019             SPDLOG\_ERROR(\textcolor{stringliteral}{"{}Error  : \{0\} Offset: \{1\} "{}}, doc.GetParseError(), doc.GetErrorOffset());}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00020}00020             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classstreets__vehicles_1_1status__intent__processing__exception}{status\_intent\_processing\_exception}}(\textcolor{stringliteral}{"{}Status and Intent message has JSON parse error!"{}});}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00021}00021         \}}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00022}00022         \textcolor{keywordflow}{if} ( doc.FindMember(\textcolor{stringliteral}{"{}payload"{}})-\/>value.IsObject() \&\& doc.FindMember(\textcolor{stringliteral}{"{}payload"{}})-\/>value.GetObject().FindMember(\textcolor{stringliteral}{"{}v\_id"{}})-\/>value.IsString()  ) \{}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00023}00023             \textcolor{keywordflow}{return} doc.FindMember(\textcolor{stringliteral}{"{}payload"{}})-\/>value.GetObject().FindMember(\textcolor{stringliteral}{"{}v\_id"{}})-\/>value.GetString();}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00024}00024         \}}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00025}00025         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00026}00026             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classstreets__vehicles_1_1status__intent__processing__exception}{status\_intent\_processing\_exception}}(\textcolor{stringliteral}{"{}Status and Intent message has missing/incorrect \(\backslash\)"{}v\_id\(\backslash\)"{}!"{}});}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00027}00027         \}}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00028}00028     \}}
\DoxyCodeLine{\Hypertarget{status__intent__processor_8cpp_source_l00029}00029 \}}

\end{DoxyCode}
